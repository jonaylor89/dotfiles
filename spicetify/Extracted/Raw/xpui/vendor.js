(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+3YS":function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},"+D+d":function(t,e,n){"use strict";n.r(e);var r="Invariant failed";e.default=function(t,e){if(!t)throw new Error(r)}},"+I+c":function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return r})},"+IV6":function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},"+J7U":function(t,e,n){var r,i,o=n("We69"),a=n("4feL"),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:i;if(null==f||null==p){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),_=void 0!==t.nsecs?t.nsecs:u+1,y=d-s+(_-u)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||d>s)&&void 0===t.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=_,i=p;var v=(1e4*(268435455&(d+=122192928e5))+_)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var m=d/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var g=0;g<6;++g)l[c+g]=f[g];return e||a(l)}},"+LOn":function(t,e,n){"use strict";t.exports={CLOSE:4e3,TIMEOUT:4001}},"+Ltg":function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},"+aio":function(t,e,n){e.hot=function(t){return t}},"+bRE":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"+kNY":function(t,e,n){"use strict";function r(t,e){Error.call(this,t),this.code=t,this.message=e,this.debug={}}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="LoggingError",t.exports=r},"+t3Y":function(t,e,n){"use strict";t.exports=a;var r=n("A/eZ"),i=n("nrnY");function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){u(t,e,n)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n("wfEq"),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},"/AUQ":function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n("Oo57"),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},"/PW7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("3STj"),i=n("XR8V"),o=function(){function t(t){this.manifestTemplate=t,i.shaka.media.ManifestParser.registerParserByExtension("json",r.SPManifestParser),i.shaka.media.ManifestParser.registerParserByMime("application/json",r.SPManifestParser),i.shaka.text.TextEngine.registerParser("text/vtt",r.VttTextParser),i.shaka.text.TextEngine.registerParser('text/vtt; codecs="vtt"',r.VttTextParser)}return t.prototype.createAssetUri=function(t){var e=t.replace(r.SP_VIDEO_TYPE,"");return this.manifestUrlForSourceID(this.manifestTemplate,e)},t.prototype.isPlayable=function(t){return t.startsWith(r.SP_VIDEO_TYPE)},t.prototype.manifestUrlForSourceID=function(t,e){return t.replace(/\{type\}/i,"json").replace(/\{source_id\}/i,encodeURIComponent(e))},t}();e.default=o},"/m4v":function(t,e,n){"use strict";n.r(e);var r=n("mXGw"),i=n.n(r),o=n("W0B4"),a=n.n(o),s=i.a.createContext(null),u=function(t){t()},c=null,l={notify:function(){}},f=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var t,e,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(t=u,e=[],n=[],{clear:function(){n=c,e=c},notify:function(){var r=e=n;t(function(){for(var t=0;t<r.length;t++)r[t]()})},get:function(){return n},subscribe:function(t){var r=!0;return n===e&&(n=e.slice()),n.push(t),function(){r&&e!==c&&(r=!1,n===e&&(n=e.slice()),n.splice(n.indexOf(t),1))}}}))},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},t}();function p(t){var e=t.store,n=t.context,o=t.children,a=Object(r.useMemo)(function(){var t=new f(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}},[e]),u=Object(r.useMemo)(function(){return e.getState()},[e]);Object(r.useEffect)(function(){var t=a.subscription;return t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}},[a,u]);var c=n||s;return i.a.createElement(c.Provider,{value:a},o)}p.propTypes={store:a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired}),context:a.a.object,children:a.a.any};var h=p;function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function _(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var y=n("GeWT"),v=n.n(y),m=n("+Ltg"),g=n.n(m),E=n("xVO4"),b=[],T=[null,null];function S(t,e){var n=t[1];return[e.payload,n+1]}var R=function(){return[null,0]},w="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function O(t,e){void 0===e&&(e={});var n=e,o=n.getDisplayName,a=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,u=n.methodName,c=void 0===u?"connectAdvanced":u,l=n.renderCountProp,p=void 0===l?void 0:l,h=n.shouldHandleStateChanges,y=void 0===h||h,m=n.storeKey,O=void 0===m?"store":m,A=n.withRef,I=void 0!==A&&A,N=n.forwardRef,C=void 0!==N&&N,P=n.context,L=void 0===P?s:P,k=_(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);g()(void 0===p,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),g()(!I,"withRef is removed. To access the wrapped instance, use a ref on the connected component"),g()("store"===O,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var D=L;return function(e){var n=e.displayName||e.name||"Component",o=a(n),s=d({},k,{getDisplayName:a,methodName:c,renderCountProp:p,shouldHandleStateChanges:y,storeKey:O,displayName:o,wrappedComponentName:n,WrappedComponent:e}),u=k.pure,l=u?r.useMemo:function(t){return t()};function h(n){var a=Object(r.useMemo)(function(){var t=n.forwardedRef,e=_(n,["forwardedRef"]);return[n.context,t,e]},[n]),u=a[0],c=a[1],p=a[2],h=Object(r.useMemo)(function(){return u&&u.Consumer&&Object(E.isContextConsumer)(i.a.createElement(u.Consumer,null))?u:D},[u,D]),v=Object(r.useContext)(h),m=Boolean(n.store),O=Boolean(v)&&Boolean(v.store);g()(m||O,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var A=n.store||v.store,I=Object(r.useMemo)(function(){return t(A.dispatch,s)},[A]),N=Object(r.useMemo)(function(){if(!y)return T;var t=new f(A,m?null:v.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]},[A,m,v]),C=N[0],P=N[1],L=Object(r.useMemo)(function(){return m?v:d({},v,{subscription:C})},[m,v,C]),k=Object(r.useReducer)(S,b,R),x=k[0][0],M=k[1];if(x&&x.error)throw x.error;var U=Object(r.useRef)(),F=Object(r.useRef)(p),j=Object(r.useRef)(),B=Object(r.useRef)(!1),V=l(function(){return j.current&&p===F.current?j.current:I(A.getState(),p)},[A,x,p]);w(function(){F.current=p,U.current=V,B.current=!1,j.current&&(j.current=null,P())}),w(function(){if(y){var t=!1,e=null,n=function(){if(!t){var n,r,i=A.getState();try{n=I(i,F.current)}catch(t){r=t,e=t}r||(e=null),n===U.current?B.current||P():(U.current=n,j.current=n,B.current=!0,M({type:"STORE_UPDATED",payload:{latestStoreState:i,error:r}}))}};return C.onStateChange=n,C.trySubscribe(),n(),function(){if(t=!0,C.tryUnsubscribe(),C.onStateChange=null,e)throw e}}},[A,C,I]);var G=Object(r.useMemo)(function(){return i.a.createElement(e,d({},V,{ref:c}))},[c,e,V]);return Object(r.useMemo)(function(){return y?i.a.createElement(h.Provider,{value:L},G):G},[h,G,L])}var m=u?i.a.memo(h):h;if(m.WrappedComponent=e,m.displayName=o,C){var A=i.a.forwardRef(function(t,e){return i.a.createElement(m,d({},t,{forwardedRef:e}))});return A.displayName=o,A.WrappedComponent=e,v()(A,e)}return v()(m,e)}}var A=Object.prototype.hasOwnProperty;function I(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function N(t,e){if(I(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!A.call(e,n[i])||!I(t[n[i]],e[n[i]]))return!1;return!0}var C=n("cnbf");function P(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function L(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function k(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=L(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=L(i),i=r(e,n)),i},r}}function D(t,e,n){return d({},n,{},t,{},e)}function x(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function M(t,e){return t===e}var U,F,j,B,V,G,W,H,K,q,Y,z=(F=(U={}).connectHOC,j=void 0===F?O:F,V=void 0===(B=U.mapStateToPropsFactories)?[function(t){return"function"==typeof t?k(t):void 0},function(t){return t?void 0:P(function(){return{}})}]:B,W=void 0===(G=U.mapDispatchToPropsFactories)?[function(t){return"function"==typeof t?k(t):void 0},function(t){return t?void 0:P(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?P(function(e){return Object(C.bindActionCreators)(t,e)}):void 0}]:G,K=void 0===(H=U.mergePropsFactories)?[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return D}}]:H,Y=void 0===(q=U.selectorFactory)?function(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=_(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?function(t,e,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,p=i.areStatePropsEqual,h=!1;function d(i,h){var d,_,y=!f(h,a),v=!l(i,o);return o=i,a=h,y&&v?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):y?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):v?(d=t(o,a),_=!p(d,s),s=d,_&&(c=n(s,u,a)),c):c}return function(i,l){return h?d(i,l):(s=t(o=i,a=l),u=e(r,a),c=n(s,u,a),h=!0,c)}}:function(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}})(a,s,u,t,o)}:q,function(t,e,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,u=void 0===s?M:s,c=i.areOwnPropsEqual,l=void 0===c?N:c,f=i.areStatePropsEqual,p=void 0===f?N:f,h=i.areMergedPropsEqual,y=void 0===h?N:h,v=_(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),m=x(t,V,"mapStateToProps"),g=x(e,W,"mapDispatchToProps"),E=x(n,K,"mergeProps");return j(Y,d({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:m,initMapDispatchToProps:g,initMergeProps:E,pure:a,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:p,areMergedPropsEqual:y},v))});function X(){var t=Object(r.useContext)(s);return g()(t,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),t}function Q(t){void 0===t&&(t=s);var e=t===s?X:function(){return Object(r.useContext)(t)};return function(){return e().store}}var J=Q();function $(t){void 0===t&&(t=s);var e=t===s?J:Q(t);return function(){return e().dispatch}}var Z=$(),tt="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,et=function(t,e){return t===e};function nt(t){void 0===t&&(t=s);var e=t===s?X:function(){return Object(r.useContext)(t)};return function(t,n){void 0===n&&(n=et),g()(t,"You must pass a selector to useSelectors");var i=e();return function(t,e,n,i){var o,a=Object(r.useReducer)(function(t){return t+1},0)[1],s=Object(r.useMemo)(function(){return new f(n,i)},[n,i]),u=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useRef)();try{o=t!==c.current||u.current?t(n.getState()):l.current}catch(t){var p="An error occured while selecting the store state: "+t.message+".";throw u.current&&(p+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\nOriginal stack trace:"),new Error(p)}return tt(function(){c.current=t,l.current=o,u.current=void 0}),tt(function(){function t(){try{var t=c.current(n.getState());if(e(t,l.current))return;l.current=t}catch(t){u.current=t}a({})}return s.onStateChange=t,s.trySubscribe(),t(),function(){return s.tryUnsubscribe()}},[n,s]),o}(t,n,i.store,i.subscription)}}var rt,it=nt(),ot=n("xARA");n.d(e,"Provider",function(){return h}),n.d(e,"connectAdvanced",function(){return O}),n.d(e,"ReactReduxContext",function(){return s}),n.d(e,"connect",function(){return z}),n.d(e,"batch",function(){return ot.unstable_batchedUpdates}),n.d(e,"useDispatch",function(){return Z}),n.d(e,"createDispatchHook",function(){return $}),n.d(e,"useSelector",function(){return it}),n.d(e,"createSelectorHook",function(){return nt}),n.d(e,"useStore",function(){return J}),n.d(e,"createStoreHook",function(){return Q}),n.d(e,"shallowEqual",function(){return N}),rt=ot.unstable_batchedUpdates,u=rt},"/ub/":function(t,e,n){"use strict";var r=function(){var t,e=[];for(t=0;t<256;++t)e[t]=255;for(t=0;t<this.BASE64_DIGITS.length;++t)e[this.BASE64_DIGITS.charCodeAt(t)]=t;this._inverseData=String.fromCharCode.apply(String,e)};r.prototype.BASE64_DIGITS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r.prototype.STRING_CHUNK_SIZE=4096,r.prototype._stringFromCharCode=function(t){if(t.length<this.STRING_CHUNK_SIZE)return String.fromCharCode.apply(String,t);var e=0,n=[];do{n.push(String.fromCharCode.apply(String,t.slice(e,e+this.STRING_CHUNK_SIZE))),e+=this.STRING_CHUNK_SIZE}while(e<t.length);return n.join("")},r.prototype.encode=function(t){if("string"!=typeof t)return"";if("undefined"!=typeof window&&void 0!==window.btoa)return window.btoa(t);var e,n,r,i,o,a;for(r=t.length,n=0,e="";n<r;){if(i=255&t.charCodeAt(n++),n===r){e+=this.BASE64_DIGITS.charAt(i>>2),e+=this.BASE64_DIGITS.charAt((3&i)<<4),e+="==";break}if(o=t.charCodeAt(n++),n===r){e+=this.BASE64_DIGITS.charAt(i>>2),e+=this.BASE64_DIGITS.charAt((3&i)<<4|(240&o)>>4),e+=this.BASE64_DIGITS.charAt((15&o)<<2),e+="=";break}a=t.charCodeAt(n++),e+=this.BASE64_DIGITS.charAt(i>>2),e+=this.BASE64_DIGITS.charAt((3&i)<<4|(240&o)>>4),e+=this.BASE64_DIGITS.charAt((15&o)<<2|(192&a)>>6),e+=this.BASE64_DIGITS.charAt(63&a)}return e},r.prototype.decode=function(t){if("undefined"!=typeof window&&void 0!==window.atob)return window.atob(t);for(var e,n,r=[],i=t.length,o=0;;){do{e=this._inverseData.charCodeAt(255&t.charCodeAt(o++))}while(255===e&&o<i);do{n=this._inverseData.charCodeAt(255&t.charCodeAt(o++))}while(255===n&&o<i);if(255===n)break;r.push(255&(e<<2|n>>4));do{e=this._inverseData.charCodeAt(255&t.charCodeAt(o++))}while(255===e&&o<i);if(255===e)break;r.push(255&(n<<4|e>>2));do{n=this._inverseData.charCodeAt(255&t.charCodeAt(o++))}while(255===n&&o<i);if(255===n)break;r.push(255&(e<<6|n))}return this._stringFromCharCode(r)};var i=new r;t.exports={encode:i.encode.bind(i),decode:i.decode.bind(i)}},"/wj6":function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("mOoB"),a=n("mmnt"),s=n("Q0s3"),u=n("8Pwi"),c=n("zCec");function l(t){i.call(this),this._descriptor=t.descriptor,this._client=t.client,this._listPlayer=t.listPlayer,this._tpApiClient=t.tpApiClient,this._playerPromise=t.playerPromise,this._initialVolume=t.initialVolume,this._playbackStateObserver=null,this._init()}r(l,i),l.prototype._init=function(){this._client.on(s.CLIENT_BEFORE_DISCONNECT,this._onClientBeforeDisconnect.bind(this)),this._client.on(s.CLIENT_BEFORE_OFFLINE_DISCONNECT,this._onClientBeforeOfflineDisconnect.bind(this));var t=this._listPlayer;t.on(u.LIST_PLAYER_BEFORE_VOLUME_CHANGE,this._onBeforeVolumeChange.bind(this)),t.on(u.LIST_PLAYER_CAPPED,this._onCapped.bind(this)),t.on(u.LIST_PLAYER_TRACK_ENDED,this._onTrackEnded.bind(this)),t.on(u.LIST_PLAYER_ERROR,this._onError.bind(this,a.PLAYBACK)),this.proxyEmit(t,u.LIST_PLAYER_AUTOPLAY_FAILED,s.STREAMER_AUTOPLAY_FAILED),this.proxyEmit(t,u.LIST_PLAYER_TRACK_LOADED,s.STREAMER_TRACK_LOADED),this.proxyEmit(t,u.LIST_PLAYER_DURATION_CHANGED,s.STREAMER_DURATION_CHANGED),this.proxyEmit(t,u.LIST_PLAYER_LOAD_VIDEO,s.STREAMER_LOAD_VIDEO),this.proxyEmit(t,u.LIST_PLAYER_STOPPED_VIDEO,s.STREAMER_STOPPED_VIDEO),this.proxyEmit(t,u.LIST_PLAYER_POSITION_CHANGED,s.STREAMER_POSITION_CHANGED),this.proxyEmit(t,u.LIST_PLAYER_PROGRESS,s.STREAMER_PROGRESS),this.proxyEmit(t,u.LIST_PLAYER_BUFFERING_END,s.STREAMER_BUFFERING_END),this.proxyEmit(t,u.LIST_PLAYER_BUFFERING_START,s.STREAMER_BUFFERING_START),this.proxyEmit(t,u.LIST_PLAYER_MAX_LIST_ERRORS_REACHED,s.STREAMER_MAX_LIST_ERRORS_REACHED),this.proxyEmit(t,u.LIST_PLAYER_VIDEO_ELEMENT_APPENDED,s.STREAMER_VIDEO_ELEMENT_APPENDED),this.proxyEmit(t,u.LIST_PLAYER_VIDEO_ELEMENT_REMOVED,s.STREAMER_VIDEO_ELEMENT_REMOVED),this.proxyEmit(t,u.LIST_PLAYER_LIST_ENDED,s.STREAMER_CONTEXT_ENDED);var e=this._tpApiClient;e.on(s.TP_API_LOGOUT,this._onTPAPILogout.bind(this)),e.on(s.TP_API_ERROR,this._onError.bind(this,a.TRACK_PLAYBACK)),this.proxyEmit(e,s.TP_API_MAX_SUBSCRIPTIONS_REACHED,s.STREAMER_MAX_SUBSCRIPTIONS_REACHED),this.proxyEmit(e,s.TP_API_DEREGISTERED,s.STREAMER_DEREGISTERED),this.proxyEmit(e,s.TP_API_REGISTERED,s.STREAMER_REGISTERED),this.proxyEmit(e,s.TP_API_REGISTRATION_ABORTED,s.STREAMER_REGISTRATION_ABORTED),this._playbackStateObserver=new o(this._tpApiClient,{manifestFormats:this._descriptor.then(function(t){return t.getManifestFormats()})}),this.proxyEmit(this._playbackStateObserver,s.PLAYBACK_STATE_OBSERVER_STATE_CHANGED,s.STREAMER_STATE_CHANGED),this._playerPromise.then(function(t){t.setVolume(this._initialVolume),this.emit(s.STREAMER_PLAYER_INITIALIZATION_DONE)}.bind(this),function(t){this.emit(s.STREAMER_PLAYER_INITIALIZATION_FAILED,{reason:t.message,error:t})}.bind(this))},l.prototype._assertOperationSuccess=function(t){return t===c.SUCCESS},l.prototype._onTrackEnded=function(){this.emit(s.STREAMER_TRACK_ENDED)},l.prototype._onClientBeforeDisconnect=function(t){t&&t.awaitPromise(this.deregister().catch(function(){}))},l.prototype._onClientBeforeOfflineDisconnect=function(t){t&&t.awaitPromise(this.pause().catch(function(){}))},l.prototype._onBeforeVolumeChange=function(t){this.emitSync(s.STREAMER_BEFORE_VOLUME_CHANGE,{volume:t.volume}).defaultPrevented&&t.preventDefault()},l.prototype._onCapped=function(){this.emit(s.STREAMER_PLAYBACK_CAPPED)},l.prototype._onError=function(t,e){var n=e.error;n&&n.registration&&t===a.TRACK_PLAYBACK&&this.emit(s.STREAMER_REGISTRATION_ERROR,{error:n}),this.emit(s.STREAMER_ERROR,{source:t,name:e.name,error:n}),this._client.notifyError(t,e.name,e.error)},l.prototype._onTPAPILogout=function(){this._client.disconnect(),this.emit(s.STREAMER_LOGGED_OUT)},l.prototype.register=function(){return this._tpApiClient.register()},l.prototype.deregister=function(){return this._tpApiClient.deregister()},l.prototype.resume=function(){return this._listPlayer.resume().then(this._assertOperationSuccess)},l.prototype.pause=function(){return this._listPlayer.pause().then(this._assertOperationSuccess)},l.prototype.nextTrack=function(t){return this._listPlayer.next(t||"nextbtn").then(this._assertOperationSuccess)},l.prototype.canChangeTrack=function(){return this._listPlayer.canChangeTrack()},l.prototype.previousTrack=function(t){return this._listPlayer.previous(t||"prevbtn").then(this._assertOperationSuccess)},l.prototype.togglePlay=function(){return this._listPlayer.togglePlay().then(this._assertOperationSuccess)},l.prototype.setVolume=function(t){return this._listPlayer.setVolume(t).then(this._assertOperationSuccess)},l.prototype.getVolume=function(){return this._listPlayer.getVolume()},l.prototype.seek=function(t){return this._listPlayer.seek(t).then(this._assertOperationSuccess)},l.prototype.getCurrentState=function(){return this._playbackStateObserver.getCurrentState()},l.prototype.getVideoProfiles=function(){return this._playerPromise.then(function(t){return t.getVideoProfiles()})},l.prototype.setPreferredBitrate=function(t){return this._playerPromise.then(function(e){return e.setPreferredBitrate(t).then(this._assertOperationSuccess)}.bind(this))},t.exports=l},"06Hw":function(t,e,n){t.exports=n("/AUQ")},"06ib":function(t,e,n){"use strict";t.exports={CLOSE:4e3,TIMEOUT:4001}},"0Msv":function(t,e,n){"use strict";var r=n("KPDA"),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s)return"[object RegExp]"===a.call(t);var e=o(t,"lastIndex");return!(!e||!r(e,"value"))&&function(t){try{var e=t.lastIndex;return t.lastIndex=0,i.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},"0TdX":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNodeList=s,e.setElement=function(t){var e=t;if("string"==typeof e&&o.canUseDOM){var n=document.querySelectorAll(e);s(n,e),e="length"in n?n[0]:n}return a=e||a},e.validateElement=u,e.hide=function(t){u(t)&&(t||a).setAttribute("aria-hidden","true")},e.show=function(t){u(t)&&(t||a).removeAttribute("aria-hidden")},e.documentNotReadyOrSSRTesting=function(){a=null},e.resetForTesting=function(){a=null};var r,i=(r=n("FIWN"))&&r.__esModule?r:{default:r},o=n("s4Wf"),a=null;function s(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function u(t){return!(!t&&!a&&((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),1))}},"19LU":function(t,e,n){"use strict";(function(e){var r=n("asuC"),i=n("Lc1h"),o=n("79Um"),a=n("1Wwy"),s={POST:!0,PUT:!0,DELETE:!0},u={json:!0,text:!0,arraybuffer:!0,blob:!0};function c(){return"function"==typeof e.fetch}t.exports={request:function(t,n){if(!c())return r.reject(new TypeError("Fetch is not supported"));var l=n||{};if(!t)return r.reject(new TypeError("Request URL cannot be blank."));var f=t,p=null,h=l.payload,d=(l.method||"GET").toUpperCase();d in s&&h?p=h:h&&(f+="?"+h);var _=l.responseType||"text";if(_&&!(_ in u))return r.reject(new TypeError("Cannot set responseType: not supported in browser."));var y=l.ignoreResponseBody,v={mode:l.mode||"cors",credentials:l.credentials||"same-origin",redirect:l.redirect||"follow",method:d};l.headers&&(v.headers=l.headers),p&&(v.body=p);var m=Date.now();return e.fetch(f,v).then(function(t){var e;e=y||t.status===a.NO_CONTENT?null:"json"===_?t.json().catch(function(){return null}):"arraybuffer"===_?t.arrayBuffer():"blob"===_?t.blob():t.text();var n=l.parseResponseHeaders||t.status>299?new o(t.headers):null;return r.all([t.url,t.status,n,e])}).then(function(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=l.timing?Date.now()-m:null,s=new i(e,n);return s.body=o,s.headers=r,s.timing=l.timing?{completed:a}:null,s}).catch(function(){var t=l.timing?Date.now()-m:null,e=new i(f);return e.timing=l.timing?{completed:t}:null,e}).then(function(t){return l.connectionObserver&&(t.offline=!l.connectionObserver.isOnline()),t})},isSupported:c}}).call(this,n("pCvA"))},"19zf":function(t,e,n){"use strict";t.exports={EMPTY:"EMPTY",SW_CRYPTO:"SW_CRYPTO",SW_DECODE:"SW_DECODE",HW_CRYPTO:"HW_CRYPTO",HW_DECODE:"HW_DECODE",HW_ALL:"HW_ALL"}},"1ANC":function(t,e,n){"use strict";var r=n("asuC"),i=n("7tRA"),o="dealer",a="spclient";t.exports=function(t){var e=t||{},n={dealer:o,webgate:a};e.dealer&&(n.dealer=e.dealer),e.webgate&&(n.webgate=e.webgate);var s=["?","type=",n.dealer,"&","type=",n.webgate].join("");return function(t){return(t||i).request("https://apresolve.spotify.com/"+s,{forcePolyfill:!0,responseType:"json",retry:{maxRetries:5,condition:function(t,e){return t.getStatusFamily()!==e.SUCCESS}}}).then(function(t){if(200!==t.status)return r.reject(new Error("X-Resolve responded with status"+t.status));var e=t.body;if(!e)return r.reject(new Error("X-Resolve responded with empty/invalid body."));var i={dealer:e[n.dealer]&&e[n.dealer][0],webgate:e[n.webgate]&&e[n.webgate][0],webapi:"https://api.spotify.com/"};return i.dealer&&i.webgate?i:r.reject(new Error("X-Resolve responded with incomplete results."))}).then(function(t){return t.dealer="wss://"+t.dealer.replace(/:443$/,""),t.webgate="https://"+t.webgate.replace(/:443$/,""),t})}}},"1VzI":function(t,e,n){"use strict";var r=n("ySKi"),i=n("7xuQ"),o=n("qt0y"),a=n("Od41"),s=n("cmty");function u(){this._bitrates={},this._isFinalized=!1,this._needsEndSegment=!1,this._segments=[],this._cdnURLTracker=new a,this.audiocodec=null,this.bitrate=16e4,this.bufferingPercentage=null,this.bufferLoadStartTime=0,this.urls={},this.currentTrackUri=i.EMPTY,this.displayTrack=i.EMPTY,this.externalLoadTime=0,this.fileId="",this.gaiaDevId="none",this.hadError=!1,this.internalPlayId="",this.isProtected=!1,this.keySystem="",this.keySystemImpl="",this.lastPlayStartTime=0,this.loadTime=0,this.localTimeMs=-1,this.maxContinuous=0,this.maxMsSeekRebuffering=0,this.maxMsStalled=0,this.memoryCached=!1,this.msActualDuration=0,this.msFileDuration=0,this.msHeadLatency=0,this.msInitLatency=0,this.msKeyLatency=0,this.msLicenseGenerationLatency=0,this.msLicenseRequestLatency=0,this.msLicenseSessionLatency=0,this.msLicenseUpdateLatency=0,this.msManifestLatency=0,this.msPlayed=0,this.msPlayedUnion=0,this.msPlayLatency=0,this.msResolveLatency=0,this.msSeekRebuffering=0,this.msSeeksBackward=0,this.msSeeksForward=0,this.nextPlaybackId="",this.nOffline=0,this.noLog=!1,this.noTSV=!1,this.noStats=!1,this.nWarnings=0,this.msStalled=0,this.nSeeksBackward=0,this.nSeeksForward=0,this.nStalls=0,this.persistentCached=!1,this.playbackId="",this.playContext=i.EMPTY,this.played=!1,this.position=0,this.reasonEnd=i.UNKNOWN,this.reasonStart=i.UNKNOWN,this.referrer=i.UNKNOWN,this.referrerVendor=i.UNKNOWN,this.referrerVersion=i.UNKNOWN,this.sourceEnd=i.UNKNOWN,this.sourceStart=i.UNKNOWN,this.startBitrate=null,this.startPosition=0,this.stopTime=0,this.streamingRule="none",this.timeWeightedBitrate=0,this.totalBytes=0,this.videocodec=null}u.create=function(){return new u},u.prototype._calculateUnion=function(){for(var t=this._segments.slice(0),e=0,n=0,r=0,i=0,o=0,a=0,s=this.maxContinuous;o<t.length;o++)o%2!=0&&void 0!==t[o-1]&&"start"===t[o-1].type&&(s=(a=t[o].time-t[o-1].time)>s?a:s);for(this.maxContinuous=s,t.sort(function(t,e){return t.time-e.time});i<t.length;i++)"start"===t[i].type&&(0===n&&(r=i),++n),"end"===t[i].type&&0==--n&&(e+=t[i].time-t[r].time);return e},u.prototype._calculateWeightedBitrate=function(t){var e=this._bitrates,n=0;for(var r in e)"dummy"!==r&&e.hasOwnProperty(r)&&t>0&&(n+=parseInt(r,10)*e[r]/t);return Math.round(n)},u.prototype.registerVideoVariant=function(t){var e=t.bitrate||"dummy";this._bitrates[e]=this._bitrates[e]||0,this.startBitrate||(this.startBitrate=e),t.audioProfile&&t.audioProfile.audio_codec&&(this.audiocodec=t.audioProfile.audio_codec),t.videoProfile&&t.videoProfile.video_codec&&(this.videocodec=t.videoProfile.video_codec)},u.prototype.addStartSegment=function(){this._segments.push({type:"start",time:this.position}),this._needsEndSegment=!0},u.prototype.addEndSegment=function(){this._needsEndSegment&&(this._segments.push({type:"end",time:this.position}),this._needsEndSegment=!1)},u.prototype.addMSPlayed=function(t){t&&(this.msPlayed+=t)},u.prototype.trackBitrate=function(t,e){var n=t||"dummy";this._bitrates[n]=this._bitrates[n]||0,this._bitrates[n]+=e},u.prototype.trackBufferURL=function(t,e){this._cdnURLTracker.track(t,e)},u.prototype.finalize=function(){if(this._isFinalized)throw new r(o.TRACK_DATA_ALREADY_FINALIZED,"TrackData already finalized.");return this.msPlayedUnion=this._calculateUnion(this.msPlayed),this.nSeeksBackward||this.nSeeksForward||(this.msPlayed=this.maxContinuous=this.msPlayedUnion),this.timeWeightedBitrate=this._calculateWeightedBitrate(this.msPlayed),this.bufferingPercentage=this.msStalled/this.msPlayed,this.urls=this._cdnURLTracker.toJSON(),this._isFinalized=!0,!0},u.prototype.getPlaybackStats=function(){var t;switch(this.keySystem){case s.WIDEVINE:t="widevine";break;case s.PLAYREADY:case s.PLAYREADY_HARDWARE:t="playready";break;default:t="none"}return{ms_total_est:this.msActualDuration,ms_manifest_latency:this.msManifestLatency,ms_latency:this.msPlayLatency,start_offset_ms:this.startPosition,ms_initial_buffering:this.msPlayLatency,ms_seek_rebuffering:this.msSeekRebuffering,ms_stalled:this.msStalled,max_ms_seek_rebuffering:this.maxMsSeekRebuffering,max_ms_stalled:this.maxMsStalled,n_stalls:this.nStalls,audiocodec:this.audiocodec?this.audiocodec.toLowerCase():void 0,videocodec:this.videocodec?this.videocodec.toLowerCase():void 0,start_bitrate:this.startBitrate||void 0,full_screen:void 0,time_weighted_bitrate:this.timeWeightedBitrate,buffering_percentage:void 0,prefetched_bytes:void 0,prefetched_bytes_loaded:void 0,prefetched_initial_bitrate:void 0,key_system:t,ms_key_latency:this.msKeyLatency,total_bytes:this.totalBytes,local_time_ms:this.localTimeMs,ms_played_background:void 0}},u.prototype.isFinalized=function(){return this._isFinalized},t.exports=u},"1Wbw":function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BetamaxPlayer",{enumerable:!0,get:function(){return i.BetamaxPlayer}}),Object.defineProperty(e,"BetamaxPlayerFactory",{enumerable:!0,get:function(){return i.BetamaxPlayerFactory}}),Object.defineProperty(e,"VideoPlaybackEvents",{enumerable:!0,get:function(){return o.VideoPlaybackEvents}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return o.BufferType}}),Object.defineProperty(e,"EndReason",{enumerable:!0,get:function(){return o.EndReason}}),Object.defineProperty(e,"Utils",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"VideoContextPlayerCoordinator",{enumerable:!0,get:function(){return s.VideoContextPlayerCoordinator}}),Object.defineProperty(e,"VideoContextPlayerCoordinatorFactory",{enumerable:!0,get:function(){return s.VideoContextPlayerCoordinatorFactory}}),Object.defineProperty(e,"SpotifyVideoMediaExtension",{enumerable:!0,get:function(){return u.SpotifyVideoMediaExtension}}),Object.defineProperty(e,"SpotifyVideoUrl",{enumerable:!0,get:function(){return u.SpotifyVideoUrl}}),e.default=void 0;var i=n("XR8V"),o=n("jT1e"),a=r(n("WnZh")),s=n("dSvp"),u=n("3STj"),c={RequestType:i.shaka.net.NetworkingEngine.RequestType,Error:i.shaka.util.Error,polyfill:i.shaka.polyfill};e.default=c},"1Wwy":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},"1fQG":function(t,e,n){"use strict";var r=/(edge)[\s\/:]([\w\d\.]+)/,i=new RegExp("(opera|ie|firefox|chrome|trident|crios|version)[\\s/:]([\\w\\d\\.]+)?.*?(safari|(?:rv[\\s\\/:]|version[\\s\\/:])([\\w\\d\\.]+)|$)"),o={};t.exports=function(t,e){var n=t.toLowerCase(),a=e?e.toLowerCase():"",s=n+":"+a;if(s in o)return o[s];var u=n.match(r);u||(u=n.match(i)||[null,"unknown",0]),"trident"===u[1]?(u[1]="ie",u[4]&&(u[2]=u[4])):"crios"===u[1]&&(u[1]="chrome"),"win"===(a=n.match(/ip(?:ad|od|hone)/)?"ios":(n.match(/(?:webos|android)/)||n.match(/mac|win|linux|cros/)||["other"])[0])&&(a="windows");var c={name:"version"===u[1]?u[3]:u[1],version:parseFloat("opera"===u[1]&&u[4]?u[4]:u[2]),platform:a||"unknown"};return o[s]=c,c}},"1hwd":function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},"1tZG":function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.TokenProvider=void 0,e.TokenProvider=r,(r||(e.TokenProvider=r={})).toPromiseProvider=function(t){if("function"!=typeof t)throw new TypeError("TokenProvider must be a function");return function(){return new Promise(function(e,n){var r=t(function(t,n){e("number"==typeof n?[t,n]:t)});r&&"function"==typeof r.then&&r.then(e,n)})}}},"24EC":function(t,e,n){"use strict";var r=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},"24bo":function(t,e,n){"use strict";var r=n("8/eb");t.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},"27+M":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},"284h":function(t,e){function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;var e=n();if(e&&e.has(t))return e.get(t);var r={};if(null!=t){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}}return r.default=t,e&&e.set(t,r),r}},"2ANZ":function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{value:{type:"string",nullable:!0}})),{name:"context_user_agent",data:e}}},"2CfY":function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function t(){}return t.getFirstMatch=function(t,e){var n=e.match(t);return n&&n.length>0&&n[1]||""},t.getSecondMatch=function(t,e){var n=e.match(t);return n&&n.length>1&&n[2]||""},t.matchAndReturnConst=function(t,e,n){if(t.test(e))return n},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var e=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var e=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(e,n,r){void 0===r&&(r=!1);var i=t.getVersionPrecision(e),o=t.getVersionPrecision(n),a=Math.max(i,o),s=0,u=t.map([e,n],function(e){var n=a-t.getVersionPrecision(e),r=e+new Array(n+1).join(".0");return t.map(r.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},t.map=function(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n+=1)r.push(e(t[n]));return r},t.getBrowserAlias=function(t){return r.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return r.BROWSER_MAP[t]||""},t}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);var a=function(){function t(){}var e;return t.getParser=function(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new i.default(t,e)},t.parse=function(t){return new i.default(t).getResult()},(e=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t,e),t}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){if(void 0===e&&(e=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var e=t.prototype;return e.getUA=function(){return this._ua},e.test=function(t){return t.test(this._ua)},e.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=r.default.find(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},e.getBrowserVersion=function(){return this.getBrowser().version},e.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.parseOS=function(){var t=this;this.parsedResult.os={};var e=i.default.find(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.getOSName=function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""},e.getOSVersion=function(){return this.getOS().version},e.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.getPlatformType=function(t){void 0===t&&(t=!1);var e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""},e.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=o.default.find(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},e.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},e.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=a.default.find(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},e.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},e.getResult=function(){return Object.assign({},this.parsedResult)},e.satisfies=function(t){var e=this,n={},r=0,i={},o=0;if(Object.keys(t).forEach(function(e){var a=t[e];"string"==typeof a?(i[e]=a,o+=1):"object"==typeof a&&(n[e]=a,r+=1)}),r>0){var a=Object.keys(n),s=a.find(function(t){return e.isOS(t)});if(s){var u=this.satisfies(n[s]);if(void 0!==u)return u}var c=a.find(function(t){return e.isPlatform(t)});if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}}if(o>0){var f=Object.keys(i).find(function(t){return e.isBrowser(t,!0)});if(void 0!==f)return this.compareVersion(i[f])}},e.isBrowser=function(t,e){void 0===e&&(e=!1);var n=this.getBrowserName().toLowerCase(),r=t.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return e&&i&&(r=i.toLowerCase()),r===n},e.compareVersion=function(t){var e=[0],n=t,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===t[0]||"<"===t[0]?(n=t.substr(1),"="===t[1]?(r=!0,n=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?n=t.substr(1):"~"===t[0]&&(r=!0,n=t.substr(1)),e.indexOf(s.default.compareVersions(i,n,r))>-1},e.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},e.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},e.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},e.is=function(t){return this.isBrowser(t)||this.isOS(t)||this.isPlatform(t)},e.some=function(t){var e=this;return void 0===t&&(t=[]),t.some(function(t){return e.is(t)})},t}();e.default=c,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe:function(t){var e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},n=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe:function(t){var e={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){var e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe:function(t){var e={name:"Android Browser"},n=i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},n=i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},n=i.default.getFirstMatch(o,t);return n&&(e.version=n),e}},{test:[/.*/i],describe:function(t){var e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(e,t),version:i.default.getSecondMatch(e,t)}}}];e.default=a,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(t){var e=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:o.OS_MAP.Roku,version:e}}},{test:[/windows phone/i],describe:function(t){var e=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.WindowsPhone,version:e}}},{test:[/windows/i],describe:function(t){var e=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=i.default.getWindowsVersionName(e);return{name:o.OS_MAP.Windows,version:e,versionName:n}}},{test:[/macintosh/i],describe:function(t){var e=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(e),r={name:o.OS_MAP.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var e=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:e}}},{test:function(t){var e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe:function(t){var e=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=i.default.getAndroidVersionName(e),r={name:o.OS_MAP.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:o.OS_MAP.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||i.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:o.OS_MAP.BlackBerry,version:e}}},{test:[/bada/i],describe:function(t){var e=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.Bada,version:e}}},{test:[/tizen/i],describe:function(t){var e=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.Tizen,version:e}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var e=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.PlayStation4,version:e}}}];e.default=a,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=i.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(t){var e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe:function(t){var e=i.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:o.ENGINE_MAP.Blink};var e=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:o.ENGINE_MAP.EdgeHTML,version:e}}},{test:[/trident/i],describe:function(t){var e={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){var e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe:function(t){var e={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];e.default=a,t.exports=e.default}})},"2Era":function(t,e,n){"use strict";function r(t){this._headers={},this._init(t)}r.prototype._init=function(t){if(t)for(var e=t.split("\r\n"),n=0;n<e.length;n++){var r=e[n],i=r.indexOf(": ");if(i>0){var o=r.substring(0,i).toLowerCase(),a=r.substring(i+2);this._headers[o]=a}}},r.prototype.get=function(t){return this._headers[t.toLowerCase()]||null},r.prototype.has=function(t){return this._headers.hasOwnProperty(t.toLowerCase())},t.exports=r},"2KG9":function(t,e,n){"use strict";var r=n("OmE2");t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},"2O7x":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MENU_HIDE=e.MENU_SHOW=void 0,e.dispatchGlobalEvent=u,e.showMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];u(a,(0,i.default)({},t,{type:a}),e)},e.hideMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];u(s,(0,i.default)({},t,{type:s}),e)};var r,i=(r=n("IL7q"))&&r.__esModule?r:{default:r},o=n("UK3a"),a=e.MENU_SHOW="REACT_CONTEXTMENU_SHOW",s=e.MENU_HIDE="REACT_CONTEXTMENU_HIDE";function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(t,{detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!0,e),n&&(n.dispatchEvent(r),(0,i.default)(o.store,e))}},"2tSK":function(t,e,n){var r=n("We69"),i=n("4feL");t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||i(a)}},"30TS":function(t,e,n){"use strict";t.exports=n("78+Y")()?Symbol:n("QORg")},"31DF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n("hBZP"),o=n("jT1e"),a=n("yWAF"),s=n("gMC6"),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l={playWhenReady:!0,initialPosition:0},f=function(t){function e(e,n){var r=t.call(this)||this;return r.handleEmitChange=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t===o.VideoPlaybackEvents.VOLUME_CHANGED&&e&&(r.playbackVolume=e[0].volume)},r.proxy=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r.handleEmitChange.apply(r,[t].concat(e)),r.emit.apply(r,[t].concat(e))}},r.proxyEmit=function(t,e,n){t.on(e,r.proxy(n))},r.playerConfiguration=e,r.playbackVolume=1,r.playbackSessionFactory=n,r}return u(e,t),e.prototype.play=function(t){var e=this;return this.endPreviousPlaybackSession(t),this.createPlaybackSession(t.isRoyaltyMedia).playWithOptions(c({},t,{volume:this.playbackVolume}),l).then(function(){return e})},e.prototype.playWithOptions=function(t,e){var n=this;return this.endPreviousPlaybackSession(t),this.createPlaybackSession(t.isRoyaltyMedia).playWithOptions(c({},t,{volume:this.playbackVolume}),c({},l,e)).then(function(){return n})},e.prototype.resume=function(){return this.playbackSession&&this.playbackSession.resume(),this},e.prototype.pause=function(){return this.playbackSession&&this.playbackSession.pause(),this},e.prototype.seekTo=function(t){return this.playbackSession&&this.playbackSession.seekTo(t),this},e.prototype.setVolume=function(t){return this.playbackVolume=t,this.playbackSession&&this.playbackSession.setVolume(this.playbackVolume),this},e.prototype.setAudioDisabled=function(t){return this.playbackSession&&this.playbackSession.setAudioDisabled(t),this},e.prototype.setPreferredSubtitle=function(t){return this.playbackSession&&this.playbackSession.setPreferredSubtitle(t),this},e.prototype.stop=function(){this.playbackSession&&(this.playbackSession.stop(o.EndReason.REQUESTED),this.playbackSession.removeAllListeners(),this.playbackSession=null)},e.prototype.emitForPercentages=function(t){this.playbackSession&&this.playbackSession.emitForPercentages(t)},e.prototype.clearEmittedPercentages=function(){this.playbackSession&&this.playbackSession.clearEmittedPercentages()},e.prototype.getNode=function(){return this.playbackSession?this.playbackSession.getNode():null},Object.defineProperty(e.prototype,"muted",{get:function(){return this.playbackSession?this.playbackSession.muted:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.playbackSession?this.playbackSession.volume:this.playbackVolume},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"started",{get:function(){return this.playbackSession?this.playbackSession.started:null},enumerable:!0,configurable:!0}),e.prototype.endPreviousPlaybackSession=function(t){if(this.playbackSession&&!this.playbackSession.ended){var e=(0,s.retrieveEndvideoMetadata)((0,a.pathOr)({},["metadata"],t))[s.REASON_START]||o.EndVideoReasonEnd.END_UNKNOWN;this.playbackSession.newSessionLoaded(t),this.playbackSession.stop(e),this.playbackSession.removeAllListeners(),this.playbackSession=null}},e.prototype.createPlaybackSession=function(t){var e=this,n=this.playbackSessionFactory.createPlaybackSession(t,this.playerConfiguration);return(0,a.values)(c({},o.VideoPlaybackEvents,o.InternalEvents)).map(function(t){e.proxyEmit(n,t,t)}),this.playbackSession=n,this.playbackSession},e}(i.EventEmitter);e.default=f},"3STj":function(t,e,n){"use strict";var r=n("vdEC"),i=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SPManifestParser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"VttTextParser",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"SpotifyVideoMediaExtension",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"SpotifyVideoUrl",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"SP_VIDEO_TYPE",{enumerable:!0,get:function(){return u.TYPE}}),Object.defineProperty(e,"WidevineDownloader",{enumerable:!0,get:function(){return c.default}});var o=i(n("KAKM")),a=i(n("bURn")),s=i(n("/PW7")),u=r(n("d5gj")),c=i(n("oafY"))},"3ZRO":function(t,e,n){"use strict";(function(t,r){n.d(e,"d",function(){return o}),n.d(e,"i",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"k",function(){return c}),n.d(e,"j",function(){return l}),n.d(e,"e",function(){return f}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return y});var i=n("E6vx");function o(t,e){return t.require(e)}function a(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var s={};function u(){return a()?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function c(){var t=u(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function l(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function f(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function p(t){var e=u();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry__&&(r[t]=n[t].__sentry_wrapped__,n[t]=n[t].__sentry_original__)});var i=t();return Object.keys(r).forEach(function(t){n[t]=r[t]}),i}function h(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function d(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(t){}}function _(){try{return document.location.href}catch(t){return""}}function y(t){try{for(var e=t,n=[],r=0,i=0,o=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=v(e))||r>1&&i+n.length*o+a.length>=80);)n.push(a),i+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function v(t){var e,n,r,o,a,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&Object(i.j)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)s.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],(o=t.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}}).call(this,n("5IsQ"),n("pCvA"))},"3gDE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,i.default)(t);if(n.length){var r,o=e.shiftKey,a=n[0],s=n[n.length-1];if(t===document.activeElement){if(!o)return;r=s}if(s!==document.activeElement||o||(r=a),a===document.activeElement&&o&&(r=s),r)return e.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var c=n.indexOf(document.activeElement);if(c>-1&&(c+=o?-1:1),void 0===n[c])return e.preventDefault(),void(r=o?s:a).focus();e.preventDefault(),n[c].focus()}}else e.preventDefault()};var r,i=(r=n("XrU5"))&&r.__esModule?r:{default:r};t.exports=e.default},"3mKH":function(t,e,n){(function(t,r,i){var o=n("eoLT"),a=n("wfEq"),s=n("5Ekh"),u=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=e.IncomingMessage=function(e,n,a,u){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),"fetch"===a){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach(function(t,e){c.headers[e.toLowerCase()]=t,c.rawHeaders.push(e,t)}),o.writableStream){var l=new WritableStream({write:function(t){return new Promise(function(e,n){c._destroyed?n():c.push(new r(t))?e():c._resumeFetch=e})},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(t){c._destroyed||c.emit("error",t)}});try{return void n.body.pipeTo(l).catch(function(t){i.clearTimeout(u),c._destroyed||c.emit("error",t)})}catch(t){}}var f=n.body.getReader();!function t(){f.read().then(function(e){if(!c._destroyed){if(e.done)return i.clearTimeout(u),void c.push(null);c.push(new r(e.value)),t()}}).catch(function(t){i.clearTimeout(u),c._destroyed||c.emit("error",t)})}()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(e[2])):void 0!==c.headers[n]?c.headers[n]+=", "+e[2]:c.headers[n]=e[2],c.rawHeaders.push(e[1],e[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var p=c.rawHeaders["mime-type"];if(p){var h=p.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}};a(c,s.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==u.DONE)break;try{n=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new r(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var a=new r(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);t.push(a)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new r(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,n("5IsQ"),n("qykS").Buffer,n("pCvA"))},"3or+":function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a="https://@webapi/v1/me/feature-flags";function s(t,e){i.call(this);var n=e||{};this._session=t,this._endpoint=n.endpoint||a,this._authenticated=o.defer(),this._dataDeferred=o.defer(),this._flagMap={},this._init()}r(s,i),s.forSession=function(t,e){return new s(t,e)},s.prototype._init=function(){this._session.on("authenticated",function(){this._authenticated.resolve(!0)}.bind(this))},s.prototype._fetchData=function(t){if(t.every(function(t){return t in this._flagMap}.bind(this)))return o.resolve(!0);var e=this._dataDeferred;this._dataDeferred=o.defer(),this._dataDeferred.promise.then(e.resolve,e.reject);var n=this._endpoint+"?tests="+t.join(",");return this._session.request(n,{authorize:!0,responseType:"json"}).then(this._parseData.bind(this)).catch(function(t){return this.emit("error",{name:"abbaError",error:t}),this._dataDeferred.resolve(!1),!1}.bind(this))},s.prototype._parseData=function(t){var e=t.body;if(200!==t.status)throw new Error("Request to abba-service failed with status code "+t.status);if(!e)throw new Error("Unexpected empty response from abba service.");if(!e.flags)throw new Error("Unexpected response format from abba service.");return Object.keys(e.flags).forEach(function(t){this._flagMap[t]=e.flags[t]}.bind(this)),this._dataDeferred.resolve(!0),!0},s.prototype.getCell=function(t){return this.getCells([t]).then(function(e){return e[t]})},s.prototype.getCells=function(t){return this._authenticated.promise.then(this._fetchData.bind(this,t)).then(function(e){for(var n={},r=0;r<t.length;r++){var i=t[r];n[i]={value:this._flagMap[i]||null,exists:i in this._flagMap,featureName:i,fromAbba:e}}return n}.bind(this))},t.exports=s},"3sBZ":function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.r(e),n("W0B4");var a=n("Y7gb"),s=n.n(a),u=n("noPx"),c=n.n(u),l=n("mXGw"),f=n.n(l),p=n("xARA"),h=n.n(p),d={disabled:!1},_=f.a.createContext(null),y="unmounted",v="exited",m="entering",g="entered",E=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=v,r.appearStatus=m):i=g:i=e.unmountOnExit||e.mountOnEnter?y:v,r.state={status:i},r.nextCallback=null,r}o(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===y?{status:v}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==g&&(e=m):n!==m&&n!==g||(e="exiting")}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=h.a.findDOMNode(this);e===m?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:y})},n.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.getTimeouts(),a=i?o.appear:o.enter;!e&&!r||d.disabled?this.safeSetState({status:g},function(){n.props.onEntered(t)}):(this.props.onEnter(t,i),this.safeSetState({status:m},function(){n.props.onEntering(t,i),n.onTransitionEnd(t,a,function(){n.safeSetState({status:g},function(){n.props.onEntered(t,i)})})}))},n.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n&&!d.disabled?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,function(){e.safeSetState({status:v},function(){e.props.onExited(t)})})})):this.safeSetState({status:v},function(){e.props.onExited(t)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===y)return null;var e=this.props,n=e.children,r=i(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return f.a.createElement(_.Provider,{value:null},n(t,r));var o=f.a.Children.only(n);return f.a.createElement(_.Provider,{value:null},f.a.cloneElement(o,r))},e}(f.a.Component);function b(){}E.contextType=_,E.propTypes={},E.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},E.UNMOUNTED=0,E.EXITED=1,E.ENTERING=2,E.ENTERED=3,E.EXITING=4;var T=E,S=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return c()(t,e)})},R=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){e.removeClasses(t,"exit"),e.addClass(t,n?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=n?"appear":"enter";e.addClass(t,r,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=n?"appear":"enter";e.removeClasses(t,r),e.addClass(t,r,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),e.addClass(t,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){e.addClass(t,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){e.removeClasses(t,"exit"),e.addClass(t,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var n=e.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}o(e,t);var n=e.prototype;return n.addClass=function(t,e,n){var r=this.getClassNames(e)[n+"ClassName"];"appear"===e&&"done"===n&&(r+=" "+this.getClassNames("enter").doneClassName),"active"===n&&t&&t.scrollTop,this.appliedClasses[e][n]=r,function(t,e){t&&r&&r.split(" ").forEach(function(e){return s()(t,e)})}(t)},n.removeClasses=function(t,e){var n=this.appliedClasses[e],r=n.base,i=n.active,o=n.done;this.appliedClasses[e]={},r&&S(t,r),i&&S(t,i),o&&S(t,o)},n.render=function(){var t=this.props,e=(t.classNames,i(t,["classNames"]));return f.a.createElement(T,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(f.a.Component);R.defaultProps={classNames:""},R.propTypes={};var w=R;function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){var n=Object.create(null);return t&&l.Children.map(t,function(t){return t}).forEach(function(t){n[t.key]=function(t){return e&&Object(l.isValidElement)(t)?e(t):t}(t)}),n}function I(t,e,n){return null!=n[e]?n[e]:t.props[e]}function N(t,e,n){var r=A(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(Object(l.isValidElement)(a)){var s=o in e,u=o in r,c=e[o],f=Object(l.isValidElement)(c)&&!c.props.in;!u||s&&!f?u||!s||f?u&&s&&Object(l.isValidElement)(c)&&(i[o]=Object(l.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:I(a,"exit",t),enter:I(a,"enter",t)})):i[o]=Object(l.cloneElement)(a,{in:!1}):i[o]=Object(l.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:I(a,"exit",t),enter:I(a,"enter",t)})}}),i}var C=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},P=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(O(O(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}o(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,o=e.handleExited;return{children:e.firstRender?(n=t,r=o,A(n.children,function(t){return Object(l.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:I(t,"appear",n),enter:I(t,"enter",n),exit:I(t,"exit",n)})})):N(t,i,o),firstRender:!1}},n.handleExited=function(t,e){var n=A(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=r({},e.children);return delete n[t.key],{children:n}}))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=i(t,["component","childFactory"]),o=this.state.contextValue,a=C(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?f.a.createElement(_.Provider,{value:o},a):f.a.createElement(_.Provider,{value:o},f.a.createElement(e,r,a))},e}(f.a.Component);P.propTypes={},P.defaultProps={component:"div",childFactory:function(t){return t}};var L=P,k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}o(e,t);var n=e.prototype;return n.handleLifecycle=function(t,e,n){var r,i=this.props.children,o=f.a.Children.toArray(i)[e];o.props[t]&&(r=o.props)[t].apply(r,n),this.props[t]&&this.props[t](h.a.findDOMNode(this))},n.render=function(){var t=this.props,e=t.children,n=t.in,r=i(t,["children","in"]),o=f.a.Children.toArray(e),a=o[0],s=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,f.a.createElement(L,r,n?f.a.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):f.a.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(f.a.Component);k.propTypes={};var D,x,M=k,U="out-in",F="in-out",j=function(t,e,n){return function(){var r;t.props[e]&&(r=t.props)[e].apply(r,arguments),n()}},B=((D={})[U]=function(t){var e=t.current,n=t.changeState;return f.a.cloneElement(e,{in:!1,onExited:j(e,"onExited",function(){n(m,null)})})},D[F]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,f.a.cloneElement(r,{in:!0,onEntered:j(r,"onEntered",function(){n(m)})})]},D),V=((x={})[U]=function(t){var e=t.children,n=t.changeState;return f.a.cloneElement(e,{in:!0,onEntered:j(e,"onEntered",function(){n(g,f.a.cloneElement(e,{in:!0}))})})},x[F]=function(t){var e=t.current,n=t.children,r=t.changeState;return[f.a.cloneElement(e,{in:!1,onExited:j(e,"onExited",function(){r(g,f.a.cloneElement(n,{in:!0}))})}),f.a.cloneElement(n,{in:!0})]},x),G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={status:g,current:null},e.appeared=!1,e.changeState=function(t,n){void 0===n&&(n=e.state.current),e.setState({status:t,current:n})},e}o(e,t);var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(t,e){return null==t.children?{current:null}:e.status===m&&t.mode===F?{status:m}:!e.current||((n=e.current)===(r=t.children)||f.a.isValidElement(n)&&f.a.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:f.a.cloneElement(t.children,{in:!0})}:{status:"exiting"};var n,r},n.render=function(){var t,e=this.props,n=e.children,r=e.mode,i=this.state,o=i.status,a=i.current,s={children:n,current:a,changeState:this.changeState,status:o};switch(o){case m:t=V[r](s);break;case"exiting":t=B[r](s);break;case g:t=a}return f.a.createElement(_.Provider,{value:{isMounting:!this.appeared}},t)},e}(f.a.Component);G.propTypes={},G.defaultProps={mode:U};var W=G;n.d(e,"CSSTransition",function(){return w}),n.d(e,"ReplaceTransition",function(){return M}),n.d(e,"SwitchTransition",function(){return W}),n.d(e,"TransitionGroup",function(){return L}),n.d(e,"Transition",function(){return T}),n.d(e,"config",function(){return d})},"4+3C":function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])_(u)||!E(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation,i=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return v(i)||(i=l(t,i,r)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):_(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return a.forEach(function(t,n){e[t]=!0}),e}();if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(g(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return f(n)}var c,E="",R=!1,O=["{","}"];return h(n)&&(R=!0,O=["[","]"]),S(n)&&(E=" [Function"+(n.name?": "+n.name:"")+"]"),g(n)&&(E=" "+RegExp.prototype.toString.call(n)),b(n)&&(E=" "+Date.prototype.toUTCString.call(n)),T(n)&&(E=" "+f(n)),0!==a.length||R&&0!=n.length?r<0?g(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=R?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)w(e,String(a))?o.push(p(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))}),o}(t,n,r,s,a):a.map(function(e){return p(t,n,r,s,e,R)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,E,O)):O[0]+E+O[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),w(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=_(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function _(t){return null===t}function y(t){return"number"==typeof t}function v(t){return"string"==typeof t}function m(t){return void 0===t}function g(t){return E(t)&&"[object RegExp]"===R(t)}function E(t){return"object"==typeof t&&null!==t}function b(t){return E(t)&&"[object Date]"===R(t)}function T(t){return E(t)&&("[object Error]"===R(t)||t instanceof Error)}function S(t){return"function"==typeof t}function R(t){return Object.prototype.toString.call(t)}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.debuglog=function(n){return m(o)&&(o=Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).NODE_DEBUG||""),n=n.toUpperCase(),a[n]||(new RegExp("\\b"+n+"\\b","i").test(o)?(t.pid,a[n]=function(){e.format.apply(e,arguments)}):a[n]=function(){}),a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=_,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=g,e.isObject=E,e.isDate=b,e.isError=T,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("EwJK"),e.log=function(){},e.inherits=n("wfEq"),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=O,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(A,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n("5IsQ"))},"46zW":function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},"4DfG":function(t,e,n){"use strict";t.exports=n("UdKW")},"4NdA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t){this.factories=t,this.observers=[]}return t.prototype.initiateObservers=function(t,e,n){this.observers=this.factories.map(function(r){return r.createEventObserver(t,e,n)}).filter(function(t){return t})},t.prototype.onPlaybackCreated=function(t,e,n){var r=Date.now();this.observers.forEach(function(i){i.onPlaybackCreated(t,e,n,r)})},t.prototype.onEndingPlayback=function(t){var e=Date.now();this.observers.forEach(function(n){n.onEndingPlayback(t,e)})},t.prototype.onPlaybackEnded=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onPlaybackEnded(e,t,n)})},t.prototype.onVolumeChanged=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onVolumeChanged(e,t,n)})},t.prototype.onResumed=function(t){var e=Date.now();this.observers.forEach(function(n){n.onResumed(t,e)})},t.prototype.onSeeking=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onSeeking(t,e,n)})},t.prototype.onPaused=function(t){var e=Date.now();this.observers.forEach(function(n){n.onPaused(t,e)})},t.prototype.onReady=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onReady(e,t,n)})},t.prototype.onManifestLoaded=function(){var t=Date.now();this.observers.forEach(function(e){e.onManifestLoaded(t)})},t.prototype.onManifestLoading=function(){var t=Date.now();this.observers.forEach(function(e){e.onManifestLoading(t)})},t.prototype.onRecoverableError=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onRecoverableError(t,e,n)})},t.prototype.onFatalError=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onFatalError(t,e,n)})},t.prototype.onAudioFormatChanged=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onAudioFormatChanged(t,e,n)})},t.prototype.onVideoFormatChanged=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onVideoFormatChanged(t,e,n)})},t.prototype.onBuffering=function(t,e,n){var r=Date.now();this.observers.forEach(function(i){i.onBuffering(e,n,t,r)})},t.prototype.onDroppedVideoFrames=function(t){var e=Date.now();this.observers.forEach(function(n){n.onDroppedVideoFrames(t,e)})},t.prototype.onEncryptionKeyLoaded=function(t){var e=Date.now();this.observers.forEach(function(n){n.onEncryptionKeyLoaded(t,e)})},t.prototype.onEncryptionKeyLoading=function(){var t=Date.now();this.observers.forEach(function(e){e.onEncryptionKeyLoading(t)})},t.prototype.onBytesTransferred=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onBytesTransferred(t,e,n)})},t.prototype.onDurationChanged=function(t){var e=Date.now();this.observers.forEach(function(n){n.onDurationChanged(t,e)})},t.prototype.onSubtitleChanged=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onSubtitleChanged(e,t,n)})},t.prototype.onFullscreenChanged=function(t,e){var n=Date.now();this.observers.forEach(function(r){r.onFullscreenChanged(e,t,n)})},t}();e.default=r},"4OlW":function(t,e,n){"use strict";var r=n("ovh1");t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},"4feL":function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},"4z+8":function(t,e,n){"use strict";var r=n("c70j"),i=n("VtxT"),o=n("xAxK");t.exports=function(t){return t.HTTP=i,t.Fetch=o,r.create(t)}},"4zCw":function(t,e,n){"use strict";var r=n("pPJX"),i=n("qt0y"),o=n("jnqd"),a=function(t){for(var e,n=1;n<arguments.length;n++)if(e=arguments[n])for(var r in e)r in e&&(t[r]=e[r]);return t}({},r,i,{USER_INFO_REQUEST_EMPTY_RESPONSE:"USER_INFO_REQUEST_EMPTY_RESPONSE",USER_INFO_REQUEST_FAILED_WITH_STATUS:"USER_INFO_REQUEST_FAILED_WITH_STATUS",HARMONY_LIFECYCLE_ERROR:"HARMONY_LIFECYCLE_ERROR",HARMONY_NO_TRACKS_LOADED:"HARMONY_NO_TRACKS_LOADED",HARMONY_OPERATION_FORBIDDEN:"HARMONY_OPERATION_FORBIDDEN",HARMONY_LOCAL_PLAYER_DISABLED:"HARMONY_LOCAL_PLAYER_DISABLED",CONNECTAPI_CLIENT_INVALID_ARGUMENTS:"CONNECTAPI_CLIENT_INVALID_ARGUMENTS",CONNECTAPI_CLIENT_NO_CONNECTION_ID:"CONNECT_API_CLIENT_NO_CONNECTION_ID",CONNECTAPI_CLIENT_NO_ACTIVE_DEVICE:"CONNECT_API_CLIENT_NO_ACTIVE_DEVICE",CONNECTAPI_CLIENT_NO_DEVICE:"CONNECTAPI_CLIENT_NO_DEVICE",CONNECTAPI_CLIENT_NO_SESSION_ID:"CONNECTAPI_CLIENT_NO_SESSION_ID",CONNECTAPI_CLIENT_NO_STATE:"CONNECTAPI_CLIENT_NO_STATE",CONNECTAPI_CLIENT_INVALID_POSITION:"CONNECT_API_CLIENT_INVALID_POSITION",CONNECTAPI_CLIENT_INVALID_VOLUME:"CONNECT_API_CLIENT_INVALID_VOLUME",CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED:"CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED",CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS:"CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS",TP_NO_RESPONSE_BODY:"TP_NO_RESPONSE_BODY",TP_REGISTRATION_FAILED_NON_PREMIUM:"TP_REGISTRATION_FAILED_NON_PREMIUM",TP_REGISTRATION_FAILED_WITH_STATUS:"TP_REGISTRATION_FAILED_WITH_STATUS",TP_MAX_SUBSCRIPTIONS_REACHED:"TP_MAX_SUBSCRIPTIONS_REACHED",TP_UPDATE_REQUEST_EMPTY_RESPONSE:"TP_UPDATE_REQUEST_EMPTY_RESPONSE",TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS:"TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS",TP_UNKNOWN_COMMAND:"TP_UNKNOWN_COMMAND",TP_CANNOT_CREATE_STATE_REF:"TP_CANNOT_CREATE_STATE_REF",TP_MISSING_INITIAL_STATE:"TP_MISSING_INITIAL_STATE",TP_INVALID_STATE_REFERENCE:"TP_INVALID_STATE_REFERENCE",TP_CONFLICT_REQUEST_FAILED_WITH_STATUS:"TP_CONFLICT_REQUEST_FAILED_WITH_STATUS",TP_STREAM_TIME_VALUE_OUT_OF_RANGE:"TP_STREAM_TIME_VALUE_OUT_OF_RANGE"});t.exports=o(a)},"54X/":function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{type:{type:"string",nullable:!0},page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},sp_cid:{type:"string",nullable:!0},referrer:{type:"string",nullable:!0}})),{name:"KmPageView",data:e}}},"5Ekh":function(t,e,n){(e=t.exports=n("B0Cl")).Stream=e,e.Readable=e,e.Writable=n("g+31"),e.Duplex=n("A/eZ"),e.Transform=n("+t3Y"),e.PassThrough=n("OLMR")},"5IsQ":function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"5JlJ":function(t,e,n){"use strict";var r=n("1Wwy"),i=n("uDox").forTag("transport.server_time");function o(t){this._transport=t,this._serverTime=0,this._serverTimeFetchedAt=0}o.create=function(t){return new o(t)},o.prototype._parseServiceResponse=function(t,e){var n,o=Date.now(),a=o-t,s=e.status;return s===r.OK?n=e.body.timestamp:(i.error("Cannot fetch server time. Service responded with "+s),n=o),this._serverTime=n+a,this._serverTimeFetchedAt=o,this._serverTime},o.prototype.get=function(){var t=Date.now();return this._transport.request("@webgate/melody/v1/time",{responseType:"json"}).then(this._parseServiceResponse.bind(this,t))},o.prototype.getApproximate=function(){if(!this._serverTime)return this.get(),Date.now();var t=Date.now()-this._serverTimeFetchedAt;return t>18e4&&this.get(),this._serverTime+t},t.exports=o},"5KDM":function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("wJTk"),s=n("f/Q/"),u=n("uDox").forTag("harmony.controller"),c=n("mPnL"),l=n("d7mV"),f=n("Q0s3"),p=n("4zCw"),h=/^disallow_([^]+)_reasons$/,d={disallow_pausing_reasons:!0,disallow_resuming_reasons:!0,disallow_seeking_reasons:!0,disallow_peeking_prev_reasons:!0,disallow_peeking_next_reasons:!0,disallow_skipping_prev_reasons:!0,disallow_skipping_next_reasons:!0,disallow_toggling_repeat_context_reasons:!0,disallow_toggling_repeat_track_reasons:!0,disallow_toggling_shuffle_reasons:!0},_="on-demand";function y(t){i.call(this),this._client=t.client,this._transport=this._client.getPublicTransport(),this._serverTime=t.serverTime,this._version=t.version,this._playerClient=t.playerClient,this._decorate=!!t.decorateTrackWindow,this._disableProgress=t.disableProgress,this._contextPlayerState=null,this._suppressed=!1,this._lastDeviceInfoData=null,this._deviceInfo=null,this._state=null,this._isOrphanedState=!1,this._progressPosition=0,this._lastProgressTs=0,this._trackingIntervalId=null,this._metadataCache=null,this._init()}r(y,i),y.create=function(t){return new y(t)},y.prototype._init=function(){this._decorate&&(this._metadataCache=new s(20)),this._client.on(f.CLIENT_BEFORE_DISCONNECT,this._onClientBeforeDisconnect.bind(this)),this.proxyEmit(this._playerClient,f.CONNECT_API_MAX_SUBSCRIPTIONS_REACHED,f.CONTROLLER_MAX_SUBSCRIPTIONS_REACHED),this.proxyEmit(this._playerClient,f.CONNECT_API_DEVICES_CHANGED,f.CONTROLLER_DEVICES_CHANGED),this.proxyEmit(this._playerClient,f.CONNECT_API_REGISTERED,f.CONTROLLER_REGISTERED),this._playerClient.on(f.CONNECT_API_DEVICE_STATE_CHANGED,this._onDeviceStateChanged.bind(this)),this._playerClient.on(f.CONNECT_API_PLAYER_STATE_CHANGED,this._onPlayerStateChanged.bind(this))},y.prototype._onClientBeforeDisconnect=function(t){t&&t.awaitPromise(this._playerClient.deregister().catch(function(){}))},y.prototype._onDeviceStateChanged=function(t){this._lastDeviceInfoData={deviceInfo:t.deviceState,hasOrphanedState:t.hasOrphanedState},this._suppressed||this.emit(f.CONTROLLER_DEVICE_INFO_CHANGED,this._lastDeviceInfoData)},y.prototype._startProgressTracking=function(){this._stopProgressTracking(),this._lastProgressTs=Date.now(),this._onProgressTracking(),this._trackingIntervalId=setInterval(this._onProgressTracking.bind(this),500)},y.prototype._stopProgressTracking=function(){this._trackingIntervalId&&(clearInterval(this._trackingIntervalId),this._trackingIntervalId=null)},y.prototype._onProgressTracking=function(){var t=Date.now();this._progressPosition+=t-this._lastProgressTs,this.emit(f.CONTROLLER_PROGRESS,{position:this._progressPosition,timestamp:Date.now()}),this._lastProgressTs=t},y.prototype._getLicense=function(){return this._client.getProductState().then(function(t){return"1"===t.ads?_:"premium"}).catch(function(){return _})},y.prototype._generatePlayOptions=function(t,e){return this._getLicense().then(function(n){var r={skip_to:void 0,seek_to:void 0,initially_paused:void 0,license:n,player_options_override:void 0};if(("index"in t||"trackUID"in t||"trackURI"in t)&&(r.skip_to={track_uid:t.trackUID,track_index:t.index,track_uri:t.trackURI}),"initialOffset"in t&&(r.seek_to=t.initialOffset),"paused"in t&&(r.initially_paused=t.paused),e)return r;var i=r.player_options_override={};if("shuffle"in t&&(i.shuffling_context=t.shuffle),"repeatMode"in t)switch(t.repeatMode){case l.CONTEXT:i.repeating_context=!0,i.repeating_track=!1;break;case l.TRACK:i.repeating_track=!0,i.repeating_context=!1;break;case l.OFF:i.repeating_track=!1,i.repeating_context=!1}return r})},y.prototype._setFilterAndSort=function(t,e){e.filter&&(t.metadata["filtering.predicate"]=e.filter),e.sort&&(t.metadata["sorting.criteria"]=e.sort)},y.prototype._generatePlayOrigin=function(t){var e=t.playOrigin||{};if(e.featureClasses&&!Array.isArray(e.featureClasses))throw new TypeError("PlayOptions playOrigin.featureClasses must be an array of strings.");return{feature_identifier:e.featureIdentifier||"harmony",feature_version:e.featureVersion||this._version,feature_classes:e.featureClasses,view_uri:e.viewURI,external_referrer:e.externalReferrer,referrer_identifier:e.referrerIdentifier}},y.prototype._parseRestrictions=function(t){var e={};for(var n in t.restrictions)t.restrictions.hasOwnProperty(n)&&d[n]?e[n]=t.restrictions[n]:d[n]&&(e[n]=[]);return e},y.prototype._parseDisallows=function(t){var e={},n=t.restrictions;for(var r in n)if(n.hasOwnProperty(r)&&d[r]){var i=!(!n[r]||!n[r].length);e[r.replace(h,"$1")]=i}return e},y.prototype._onPlayerStateChanged=function(t){this._contextPlayerState=t.playerState,this._isOrphanedState=t.orphaned,this._parsePlayerState(t.playerState).then(function(e){this._state=e;var n=this._copyState();this._suppressed||this.emit(f.CONTROLLER_STATE_CHANGED,{state:n,orphaned:t.orphaned}),!this._disableProgress&&e&&(this._progressPosition=e.position,e.paused?this._stopProgressTracking():this._startProgressTracking())}.bind(this))},y.prototype._copyState=function(){return this._state?JSON.parse(JSON.stringify(this._state)):null},y.prototype._parsePlayerState=function(t){return t?this._getTrackWindow(t).then(function(e){return{context:{uri:t.context_uri,metadata:t.context_metadata||{}},timestamp:t.timestamp,duration:t.duration||e.current_track&&e.current_track.duration_ms||0,position:t.is_paused?t.position_as_of_timestamp:this._offsetPosition(t.timestamp,t.position_as_of_timestamp),paused:t.is_paused,shuffle:t.options&&t.options.shuffling_context,repeat_mode:this._getStateRepeatMode(t),restrictions:this._parseRestrictions(t),disallows:this._parseDisallows(t),track_window:e,bitrate:null}}.bind(this)):o.resolve(null)},y.prototype._offsetPosition=function(t,e,n){var r=e+((n||this._serverTime.getApproximate())-t);return r<0?0:r},y.prototype._isRestricted=function(t,e){if(!t)return!1;var n="disallow_"+e+"_reasons";return t.restrictions&&n in t.restrictions&&!!t.restrictions[n].length},y.prototype._getTrackWindow=function(t){var e={current_track:null,next_tracks:[],previous_tracks:[]},n={},r=[];if(!t.track)return o.resolve(e);var i=t.track.uri;if(!i)return o.resolve(e);var s=a.from(i),u=this._parseLocalTrack(s),c=this._parseAd(s,t.track);return e.current_track=u||c||{uri:i},u||c||(n[i]=1,r.push(i)),this._isRestricted(t,"peeking_next")||this._fillWindow(r,e.next_tracks,n,t.next_tracks.slice(0,5)),this._isRestricted(t,"peeking_prev")||this._fillWindow(r,e.previous_tracks,n,t.prev_tracks.slice(-5),!0),this._decorate?this._decorateMetadata(r,e):o.resolve(e)},y.prototype._fillWindow=function(t,e,n,r,i){i&&r.reverse();for(var o=0,s=r.length;o<s;o++){var u=r[o].uri,c=a.from(u);if(u&&"spotify:delimiter"!==u&&(!c||c.type!==a.Type.AD&&c.type!==a.Type.INTERRUPTION)){var l=this._parseLocalTrack(c),f=l||{uri:u};if(l||u in n||(n[u]=1,t.push(u)),i?e.unshift(f):e.push(f),2===e.length)break}}},y.prototype._parseLocalTrack=function(t){return t&&t.type===a.Type.LOCAL?{id:null,uri:t.toURI(),type:"local",media_type:"audio",name:t.track,artists:[{uri:a.localArtistURI(t.artist).toURI(),name:t.artist}],album:{uri:a.localAlbumURI(t.artist,t.album).toURI(),name:t.album,images:[{url:""}]},duration_ms:1e3*t.duration||0,is_playable:!1}:null},y.prototype._parseAd=function(t,e){if(!t||t.type!==a.Type.AD&&t.type!==a.Type.INTERRUPTION)return null;if(!e||!e.metadata)return null;var n=e.metadata;return{id:t.id,uri:t.toURI(),type:t.type,media_type:"audio",name:n.title,artists:[{uri:n.click_url,name:n.advertiser}],album:{uri:"",name:"",images:[{url:n.image_url}]},duration_ms:parseInt(n.duration,10),is_playable:!1}},y.prototype._decorateMetadata=function(t,e){for(var n=this._metadataCache,r=[],i=[],s=0,u=t.length;s<u;s++){var c=t[s];if(!n.get(c)){var l=a.from(c);if(l){var f=a.hexToId(l.id);l.type===a.Type.TRACK?i.push(f):r.push(this._requestPodcastData(f,c))}}}return o.all([o.all(r).then(function(t){return-1===t.indexOf(!1)}),!!i.length&&this._requestTracksData(i)]).spread(function(t,n){return t||n?this._performDecoration(e):e}.bind(this))},y.prototype._requestTracksData=function(t){var e=this._metadataCache,n=["https://@webapi/v1/tracks","?ids=",t.join(","),"&market=from_token"].join("");return this._transport.request(n,{responseType:"json"}).then(function(t){if(200!==t.status)return!1;var n=t.body;if(!n)return!1;for(var r=n.tracks,i=r.length;i--;){var o=r[i];o&&(e.set(o.uri,o),o.media_type="audio",o.linked_from&&o.linked_from.uri&&e.set(o.linked_from.uri,o))}return!0})},y.prototype._requestPodcastData=function(t,e){var n=this._metadataCache,r="https://@webapi/v1/episodes/"+t;return this._transport.request(r,{responseType:"json"}).then(function(r){if(200!==r.status)return!1;var i=r.body;if(!i)return!1;var o={id:t,uri:e,type:"episode",media_type:i.show.media_type,name:i.name,artists:[{uri:i.show.uri,name:i.show.publisher}],album:{uri:i.show.uri,name:i.show.name,images:i.images},duration_ms:i.duration_ms||0,is_playable:!0};return n.set(e,o),!0}).catch(function(){return!1})},y.prototype._performDecoration=function(t){var e,n,r,i=this._metadataCache,o={current_track:null,next_tracks:[],previous_tracks:[]};for(t.current_track&&(n=i.get(t.current_track.uri),o.current_track=n||t.current_track),e=t.next_tracks.length;e--;)r=t.next_tracks[e],n=i.get(r.uri),o.next_tracks[e]=n||r;for(e=t.previous_tracks.length;e--;)r=t.previous_tracks[e],n=i.get(r.uri),o.previous_tracks[e]=n||r;return o},y.prototype._getStateRepeatMode=function(t){var e=t.options;if(e){if(e.repeating_track)return l.TRACK;if(e.repeating_context)return l.CONTEXT}return l.OFF},y.prototype.getActiveDevice=function(){return this._playerClient.getActiveDevice()},y.prototype.getCurrentState=function(t){if(t&&this._isOrphanedState)return o.resolve(null);if(this._state&&!this._state.paused){var e=this._serverTime.getApproximate();this._state.position=this._offsetPosition(this._state.timestamp,this._state.position,e),this._state.timestamp=e}return o.resolve(this._copyState())},y.prototype.getContextPlayerState=function(){return u.warn("The `getContextPlayerState()` method is not well supported. Please avoid using it directly."),this._playerClient.getContextPlayerState()},y.prototype.getDevices=function(){return this._playerClient.getDevices()},y.prototype._play=function(t,e,n){var r=n||{};return this._setFilterAndSort(t,r),this._generatePlayOptions(r).then(function(n){var i={context:t,play_origin:this._generatePlayOrigin(r),options:n};return this._playerClient.play(i,e)}.bind(this))},y.prototype.playURI=function(t,e,n){var r=n||{};if(!a.from(t))return o.reject(new TypeError("Invalid Spotify URI"));var i={uri:t,url:"context://"+t,metadata:r.contextMetadata||{}};return this._play(i,e,r)},y.prototype.playTracks=function(t,e,n){var r=n||{};return Array.isArray(t)?this._prepareTracks(t).then(function(t){var n={uri:r.contextURI||"spotify:app:playerapi-client",metadata:r.contextMetadata||{},pages:[{tracks:t}]};return this._play(n,e,r)}.bind(this)):o.reject(new TypeError("Invalid tracks array."))},y.prototype.updateCurrentContext=function(t,e){return this._playerClient.updateCurrentContext(t,e)},y.prototype.setQueue=function(t,e,n){return Array.isArray(t)?Array.isArray(e)?o.all([this._prepareTracks(t),this._prepareTracks(e)]).spread(function(t,e){var r={next_tracks:t.length?t:void 0,prev_tracks:e.length?e:void 0};return this._playerClient.setQueue(r,n)}.bind(this)):o.reject(new TypeError("Invalid previousTracks array.")):o.reject(new TypeError("Invalid nextTracks array."))},y.prototype.addToQueue=function(t,e){return Array.isArray(t)?o.all([this._prepareTracks(t,{queued:!0}),this._playerClient.getContextPlayerState()]).spread(function(t,n){if(!n)return o.reject(new Error("No context to queue."));for(var r=n.next_tracks.slice(0),i=0,a=r.length;i<a;i++){var s=r[i];if(!s||!s.metadata||"true"!==s.metadata.is_queued){r.splice.apply(r,[i,0].concat(t));break}}var u={next_tracks:r,prev_tracks:n.prev_tracks};return this._playerClient.setQueue(u,e)}.bind(this)):o.reject(new TypeError("Invalid nextTracks array."))},y.prototype._prepareTracks=function(t,e){for(var n=[],r=[a.Type.TRACK,a.Type.EPISODE],i=0,s=t.length;i<s;i++){var u,c=t[i];if(!c)return o.reject(new TypeError("Null value inside track array."));if("string"==typeof c?(u=a.from(c),c={uri:c}):u=a.from(c.uri),-1===r.indexOf(u.type))return o.reject(new TypeError("Invalid track uri: "+c.uri));c.metadata||(c.metadata={}),e&&e.queued&&(c.metadata.is_queued="true"),n.push(c)}return o.resolve(n)},y.prototype.togglePlay=function(t){return this._playerClient.togglePlay(t)},y.prototype.transfer=function(t,e){return this._generatePlayOptions(e||{},!0).then(function(e){return this._playerClient.transfer(t,e)}.bind(this))},y.prototype.pause=function(t){return this._playerClient.pause(t)},y.prototype.resume=function(t){return this._playerClient.resume(t)},y.prototype.nextTrack=function(t){return this._playerClient.nextTrack(t)},y.prototype.previousTrack=function(t){return this._playerClient.previousTrack(t)},y.prototype.seek=function(t,e){return this._playerClient.seek(t,e)},y.prototype.setShuffle=function(t,e){return this._playerClient.setShuffle(t,e)},y.prototype.toggleShuffle=function(t){return this._playerClient.toggleShuffle(t)},y.prototype.setVolume=function(t,e){return this._playerClient.setVolume(t,e)},y.prototype.setRepeatMode=function(t,e){switch(t){case l.OFF:return o.all([this._playerClient.setRepeatingContext(!1,e),this._playerClient.setRepeatingTrack(!1,e)]).then(function(){return!0});case l.CONTEXT:return o.all([this._playerClient.setRepeatingContext(!0,e),this._playerClient.setRepeatingTrack(!1,e)]).then(function(){return!0});case l.TRACK:return o.all([this._playerClient.setRepeatingContext(!1,e),this._playerClient.setRepeatingTrack(!0,e)]).then(function(){return!0});default:return o.reject(new TypeError("Unknown repeat mode."))}},y.prototype.cycleRepeatMode=function(t){return this.getCurrentState().then(function(e){if(!e)return o.reject(new c(p.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));var n=null;switch(e.repeat_mode){case l.OFF:n=l.CONTEXT;break;case l.CONTEXT:n=l.TRACK;break;case l.TRACK:n=l.OFF;break;default:n=l.OFF}return this.setRepeatMode(n,t)}.bind(this))},y.prototype.register=function(){return this._playerClient.register()},y.prototype.suppressEvents=function(){this._suppressed=!0},y.prototype.unsuppressEvents=function(){this._suppressed=!1,this._lastDeviceInfoData&&this.emit(f.CONTROLLER_DEVICE_INFO_CHANGED,this._lastDeviceInfoData),this._state&&this.emit(f.CONTROLLER_STATE_CHANGED,{state:this._state})},t.exports=y},"5QbJ":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},"5R4H":function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n("pCvA"))},"5WRv":function(t,e,n){var r=n("iNmH"),i=n("Qatm"),o=n("kluZ");t.exports=function(t){return r(t)||i(t)||o()}},"63Ad":function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},"67/Z":function(t,e,n){"use strict";var r=16,i=Array.prototype.slice;function o(t,e,n){this.tag=t,this.description=e,this._predicate=n,this._tagParts=t.split("."),this._tagText="["+t+"]","true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?this._enabled=!0:this._enabled=!1,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}o.prototype.matchesTag=function(t){var e=Array.isArray(t)?t:t.split("."),n=this._tagParts;if(e.length>n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(("*"!==e[r]||!n[r])&&e[r]!==n[r])return!1;return!0},o.prototype.setLevel=function(t){var e=0;switch(t){case"error":e=r;break;case"warn":e=24;break;case"info":e=28;break;case"debug":e=30;break;case"log":default:e=31}this._level=e},o.prototype.enable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!0)},o.prototype.disable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!1)},o.prototype.log=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||1&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"log",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.debug=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||2&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"debug",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.info=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||4&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"info",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.warn=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||8&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"warn",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.error=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||this._level&r))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"error",tag:this.tag,args:t});if(this._predicate(e))return}},t.exports=o},"6GOA":function(t,e,n){"use strict";function r(t,e,n){Error.call(this),this.message=e,this.code=t,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="RequestError",t.exports=r},"6GjV":function(t,e,n){"use strict";function r(t,e){this.url=t||"",this.status=e||0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.ok=this.status>=200&&this.status<=299,this.metadata=null}r.prototype.getStatusFamily=function(){return 0|this.status/100},t.exports=r},"6POh":function(t){t.exports=JSON.parse('{"tagged":"5.17.0-3eb4b41","version":"5.17.0","revision":"3eb4b41"}')},"6s8r":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"6w3l":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},"6xt7":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},"71kK":function(t,e,n){"use strict";var r=n("ovh1");t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},"73GF":function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=Object.prototype.toString,o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i.call(t)},a=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i.call(t)&&"[object Function]"===i.call(t.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},"76WR":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t){var e=this;this.cosmos=t,this.rules="",this.cosmos.sub("sp://product-state/v1/values/streaming-rules",function(t){e.rules=t["streaming-rules"]},function(){})}return t.prototype.streamingRules=function(){return this.rules},t}();e.default=r},"77OH":function(t,e,n){"use strict";e.Event=n("P1TA"),e.Method=n("6xt7"),e.StatusCode=n("1Wwy"),e.StatusFamily=n("6w3l");var r=n("eXcQ");e.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,e.Endpoints,e.EndpointsProvider,e.TokenProvider,e.SessionProviders,e.SessionConfig,e.HTTPURI,e.HTTPArgs,e.HTTPResponse,e.DealerMessage,e.ClientEventData},"78+Y":function(t,e,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},"79Um":function(t,e,n){"use strict";t.exports=function(t){this.get=t.get.bind(t),this.has=t.has.bind(t)}},"7C+0":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this,n)||this;return r.path=e,r}return i(e,t),e}(Error);e.VError=o;var a=function(){function t(){}return t.prototype.fail=function(t,e,n){return!1},t.prototype.unionResolver=function(){return this},t.prototype.createContext=function(){return this},t.prototype.resolveUnion=function(t){},t}();e.NoopContext=a;var s=function(){function t(){this._propNames=[""],this._messages=[null],this._score=0}return t.prototype.fail=function(t,e,n){return this._propNames.push(t),this._messages.push(e),this._score+=n,!1},t.prototype.unionResolver=function(){return new u},t.prototype.resolveUnion=function(t){for(var e,n,r=null,i=0,o=t.contexts;i<o.length;i++){var a=o[i];(!r||a._score>=r._score)&&(r=a)}r&&r._score>0&&((e=this._propNames).push.apply(e,r._propNames),(n=this._messages).push.apply(n,r._messages))},t.prototype.getError=function(t){for(var e=[],n=this._propNames.length-1;n>=0;n--){var r=this._propNames[n];t+="number"==typeof r?"["+r+"]":r?"."+r:"";var i=this._messages[n];i&&e.push(t+" "+i)}return new o(t,e.join("; "))},t.prototype.getErrorDetail=function(t){for(var e=[],n=this._propNames.length-1;n>=0;n--){var r=this._propNames[n];t+="number"==typeof r?"["+r+"]":r?"."+r:"";var i=this._messages[n];i&&e.push({path:t,message:i})}var o=null;for(n=e.length-1;n>=0;n--)o&&(e[n].nested=[o]),o=e[n];return o},t}();e.DetailContext=s;var u=function(){function t(){this.contexts=[]}return t.prototype.createContext=function(){var t=new s;return this.contexts.push(t),t},t}()},"7JHm":function(t,e,n){"use strict";e.counterDefaults={algo:"lin",baseTime:200,ceiling:0,curve:"linear"},e.backoffDefaults={algo:"lin",backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}}},"7L9N":function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return r})},"7UEW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"7jSL":function(t,e,n){"use strict";t.exports=n("KAAb")()?String.prototype.contains:n("46zW")},"7jkd":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},"7oZZ":function(t,e,n){"use strict";function r(t,e){return t===e}function i(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return i(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}function a(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(t){return"function"==typeof t})){var n=e.map(function(t){return typeof t}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function s(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=0,s=r.pop(),u=a(r),c=t.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),l=t(function(){for(var t=[],e=u.length,n=0;n<e;n++)t.push(u[n].apply(null,arguments));return c.apply(null,t)});return l.resultFunc=s,l.dependencies=u,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}n.r(e),n.d(e,"defaultMemoize",function(){return o}),n.d(e,"createSelectorCreator",function(){return s}),n.d(e,"createSelector",function(){return u}),n.d(e,"createStructuredSelector",function(){return c});var u=s(o);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map(function(e){return t[e]}),function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e,r){return t[n[r]]=e,t},{})})}},"7tRA":function(t,e,n){"use strict";var r=n("asuC"),i=n("ahND"),o=n("eRm+"),a=n("6GOA"),s=n("s2Nl"),u=n("U3MV"),c=function(){},l={POST:!0,PUT:!0,DELETE:!0},f={json:!0,text:!0,document:!0},p={},h=r.resolve(p);function d(t,e){var n=e||{};this._url=t,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||"",this._canceller=n.canceller||r.defer().promise,this._ignoreResponseBody=n.ignoreResponseBody,this._parseResponseHeaders=n.parseResponseHeaders,this._withCredentials="include"===n.credentials,this._forcePolyfill=n.forcePolyfill,this._timing=n.timing?{completed:0}:null,this._requestStartTime=0,this._xhr=new XMLHttpRequest,this._abort=this._abort.bind(this)}d.request=function(t,e){return new d(t,e).send()},d.prototype._abort=function(){this._xhr&&(this._xhr.abort(),this._xhr.onprogress=c,this._xhr.onerror=c,this._xhr.onreadystatechange=c,this._xhr=null)},d.prototype._handleStateChanged=function(t,e,n){this._xhr&&4===this._xhr.readyState&&(this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),this._xhr.onprogress=null,this._xhr.onerror=null,this._xhr.onreadystatechange=null,r.race([this._canceller,h]).then(function(r){if(r===p&&this._xhr){var a=this._xhr;if(a){var u=a.status,c=new i(a.responseURL||t,u);if(c.body=null,n&&n.isOnline&&(c.offline=!n.isOnline()),(this._parseResponseHeaders||u>299)&&(c.headers=new o(a.getAllResponseHeaders())),!this._ignoreResponseBody&&u!==s.NO_CONTENT&&2===c.getStatusFamily()){var l=this._responseType;if(!this._forcePolyfill&&"response"in a&&l===a.responseType)c.body=a.response;else if("document"===l)c.body=a.responseXML;else if("json"===l)try{c.body=JSON.parse(a.responseText)}catch(t){c.body=null}else"text"!==l&&""!==l||(c.body=a.responseText)}c.timing=this._timing,e.resolve(c),this._xhr=null}}}.bind(this)).catch(function(){}))},d.prototype.send=function(){return r.race([this._canceller,h]).then(function(t){var e=r.defer();if(t!==p)return e.promise;var n=this._url;if(!n)return e.reject(new TypeError("Request URL cannot be blank.")),e.promise;var i=null,o=this._payload,s=this._method;s in l&&o?i=o:o&&(n+="?"+o);var h=this._xhr;if(!h)return e.reject(new Error("Request has been closed.")),e.promise;h.open(s,n,!0),h.onprogress=c,h.onerror=function(){e.reject(new a(u.HTTP_REQUEST_FAILED,"Request cannot be completed.",this.status)),this.onerror=c},h.onreadystatechange=this._handleStateChanged.bind(this,n,e);var d=this._responseType;if(d)if(this._forcePolyfill){if(!(d in f))return e.reject(new TypeError('Cannot polyfill responseType "'+d+'"')),e.promise}else{if(!("responseType"in h||d in f))return e.reject(new TypeError("Cannot set responseType: not supported in browser.")),e.promise;if(h.responseType=d,d!==this._xhr.responseType&&!(d in f))return e.reject(new TypeError('Unknown responseType "'+d+'".')),e.promise}var _=this._headers;if(_)for(var y in _)if(_.hasOwnProperty(y))try{h.setRequestHeader(y,_[y])}catch(t){return e.reject(t),e.promise}try{this._requestStartTime=Date.now(),h.send(i)}catch(t){e.reject(t)}return this._canceller.then(this._abort,this._abort),e.promise}.bind(this))},t.exports=d},"7xV0":function(t,e,n){"use strict";t.exports=[{label:"video-sw-decode",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/webm; codecs="vp8"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:"SW_SECURE_DECODE"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{label:"video-sw-crypto",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/webm; codecs="vp8"',robustness:"SW_SECURE_CRYPTO"},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:"SW_SECURE_CRYPTO"},{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:"SW_SECURE_CRYPTO"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{label:"video-no-robustness",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[{contentType:'video/webm; codecs="vp8"',robustness:""},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:""},{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:""}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{label:"audio-sw-crypto",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{label:"audio-no-robustness",initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]}]},"7xuQ":function(t,e,n){"use strict";t.exports={EMPTY:"",UNKNOWN:"unknown"}},"8/eb":function(t,e,n){"use strict";(function(e){var n,r=function(){};n="true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?function(t){return e.Proxy&&"function"!=typeof e.Proxy.create&&"function"==typeof e.Proxy?new e.Proxy(t,{get:function(t,e){if(!t.hasOwnProperty(e))throw new ReferenceError("Unknown enum value "+e);return t[e]},set:r,delete:r}):t}:function(t){return t},t.exports=n}).call(this,n("pCvA"))},"8IsH":function(t,e,n){"use strict";function r(t,e){this.code=t,this.message=e,this.status=-1,this.maxedSubscriptions=!1,this.unrecoverable=!1,this.debug={}}r.prototype=new Error,r.prototype.constructor=new r,r.prototype.name="TrackPlayerAPIClientError",r.prototype.fatal=function(){return this.unrecoverable=!0,this},t.exports=r},"8Jek":function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},"8KUm":function(t,e,n){"use strict";(function(e){var r=n("asuC"),i=n("ahND"),o=n("H+5/"),a=n("s2Nl"),s={POST:!0,PUT:!0,DELETE:!0},u={json:!0,text:!0,arraybuffer:!0,blob:!0};function c(){return"function"==typeof e.fetch}t.exports={request:function(t,n){if(!c())return r.reject(new TypeError("Fetch is not supported"));var l=n||{};if(!t)return r.reject(new TypeError("Request URL cannot be blank."));var f=t,p=null,h=l.payload,d=(l.method||"GET").toUpperCase();d in s&&h?p=h:h&&(f+="?"+h);var _=l.responseType||"text";if(_&&!(_ in u))return r.reject(new TypeError("Cannot set responseType: not supported in browser."));var y=l.ignoreResponseBody,v={mode:l.mode||"cors",credentials:l.credentials||"same-origin",redirect:l.redirect||"follow",method:d};l.headers&&(v.headers=l.headers),p&&(v.body=p);var m=Date.now();return e.fetch(f,v).then(function(t){var e;e=y||t.status===a.NO_CONTENT?null:"json"===_?t.json().catch(function(){return null}):"arraybuffer"===_?t.arrayBuffer():"blob"===_?t.blob():t.text();var n=l.parseResponseHeaders||t.status>299?new o(t.headers):null;return r.all([t.url,t.status,n,e])}).then(function(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=l.timing?Date.now()-m:null,s=new i(e,n);return s.body=o,s.headers=r,s.timing=l.timing?{completed:a}:null,s}).catch(function(){var t=l.timing?Date.now()-m:null,e=new i(f);return e.timing=l.timing?{completed:t}:null,e}).then(function(t){return l.connectionObserver&&(t.offline=!l.connectionObserver.isOnline()),t})},isSupported:c}}).call(this,n("pCvA"))},"8OQS":function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},"8Pwi":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({KEY_SESSION_MESSAGE:"message",KEY_SESSION_STATUSES_CHANGE:"keystatuseschange",MEDIA_SOURCE_OPEN:"sourceopen",MEDIA_SOURCE_CLOSE:"sourceclose",SOURCE_BUFFER_UPDATE_END:"updateend",MS_KEY_ADDED:"mskeyadded",MS_KEY_ERROR:"mskeyerror",MS_KEY_MESSAGE:"mskeymessage",MS_NEEDKEY:"msneedkey",V0_1B_KEY_ADDED:"keyadded",V0_1B_KEY_ERROR:"keyerror",V0_1B_KEY_MESSAGE:"keymessage",V0_1B_NEEDKEY:"needkey",MEDIA_CANPLAY:"canplay",MEDIA_CANPLAYTHROUGH:"canplaythrough",MEDIA_DURATIONCHANGE:"durationchange",MEDIA_ENCRYPTED:"encrypted",MEDIA_ENDED:"ended",MEDIA_ERROR:"error",MEDIA_LOADEDMETADATA:"loadedmetadata",MEDIA_PAUSE:"pause",MEDIA_PLAYING:"playing",MEDIA_SEEKING:"seeking",MEDIA_TIMEUPDATE:"timeupdate",MEDIA_WAITING:"waiting",INTERNAL_PLAYER_CANPLAY:"__canplay",INTERNAL_PLAYER_CANPLAYTHROUGH:"__canplaythrough",INTERNAL_MEDIA_REQUIRES_DURATION:"__requiresduration",INTERNAL_PLAYER_LOADED_METADATA:"__loadedmetadata",BUFFER_APPEND_ERROR:"append_error",BUFFER_QUOTA_EXCEEDED:"quota_exceeded",BUFFER_STALLED:"stalled",BUFFER_SOURCE_OPEN:"source_open",BUFFER_SOURCE_CLOSE:"source_close",BUFFERING_START:"buffering_start",BUFFERING_END:"buffering_end",EME_LICENSE_REQUEST_ERROR:"license_request_error",EME_LICENSE_REQUEST_CAPPED:"license_request_capped",LIST_PLAYER_AUTOPLAY_FAILED:"player_autoplay_failed",LIST_PLAYER_BEFORE_LIST_CHANGE:"before_list_change",LIST_PLAYER_BEFORE_NEXT:"before_next",LIST_PLAYER_BEFORE_PLAYER_LOAD:"before_player_load",LIST_PLAYER_BEFORE_PREVIOUS:"before_previous",LIST_PLAYER_BEFORE_TRACK_LOAD:"before_track_load",LIST_PLAYER_BEFORE_VOLUME_CHANGE:"before_volume_change",LIST_PLAYER_BUFFER_STALLED:"stalled",LIST_PLAYER_BUFFERING_START:"buffering_start",LIST_PLAYER_BUFFERING_END:"buffering_end",LIST_PLAYER_CAPPED:"capped",LIST_PLAYER_CLEARED:"cleared",LIST_PLAYER_DURATION_CHANGED:"duration_changed",LIST_PLAYER_ERROR:"error",LIST_PLAYER_ERROR_SYNC:"error_sync",LIST_PLAYER_LIST_CHANGED:"list_change",LIST_PLAYER_LIST_ENDED:"list_ended",LIST_PLAYER_LOAD_VIDEO:"load_video",LIST_PLAYER_MAX_LIST_ERRORS_REACHED:"max_list_errors_reached",LIST_PLAYER_PAUSED:"paused",LIST_PLAYER_PLAYED_THRESHOLD_REACHED:"played_threshold_reached",LIST_PLAYER_PLAYER_LOAD:"player_load",LIST_PLAYER_PLAYING:"playing",LIST_PLAYER_POSITION_CHANGED:"position_changed",LIST_PLAYER_PROGRESS:"progress",LIST_PLAYER_REPEAT_MODE_CHANGED:"repeat_mode_changed",LIST_PLAYER_SHUFFLE_CHANGED:"shuffle_changed",LIST_PLAYER_STOPPED:"stopped",LIST_PLAYER_STOPPED_VIDEO:"stopped_video",LIST_PLAYER_TRACKING_DATA_CREATED:"tracking_data_created",LIST_PLAYER_TRACKING_DATA_FINALIZED:"tracking_data_finalized",LIST_PLAYER_TRACK_ENDED:"track_ended",LIST_PLAYER_TRACK_LOADED:"track_loaded",LIST_PLAYER_TRACK_TIMEOUT:"track_timeout",LIST_PLAYER_TRACK_UNPLAYABLE:"track_unplayable",LIST_PLAYER_DATA_CREATED:"tracking_data_created",LIST_PLAYER_DATA_FINALIZED:"tracking_data_finalized",LIST_PLAYER_VOLUME_CHANGED:"volume_changed",LIST_PLAYER_VIDEO_ELEMENT_APPENDED:"video_element_appended",LIST_PLAYER_VIDEO_ELEMENT_REMOVED:"video_element_removed",LOGGER_ERROR:"error",PLAYER_AUTOPLAY_FAILED:"player_autoplay_failed",PLAYER_BEFORE_LOAD:"before_load",PLAYER_BEFORE_STOP:"before_stop",PLAYER_BEFORE_VOLUME_CHANGE:"before_volume_change",PLAYER_BUFFER_STALLED:"stalled",PLAYER_BUFFERING_START:"buffering_start",PLAYER_BUFFERING_END:"buffering_end",PLAYER_CAN_PRELOAD:"can_preload",PLAYER_CAPPED:"capped",PLAYER_DURATION_CHANGED:"duration_changed",PLAYER_ENDED:"ended",PLAYER_ENDED_VIDEO:"ended_video",PLAYER_ERROR:"error",PLAYER_WARNING:"warning",PLAYER_FIRST_BYTES:"first_bytes",PLAYER_KEY_RECEIVED:"key",PLAYER_LOAD:"load",PLAYER_LOAD_VIDEO:"load_video",PLAYER_LOADING_FAILED:"loading_failed",PLAYER_PAUSED:"paused",PLAYER_PLAYING:"playing",PLAYER_POSITION_CHANGED:"position_changed",PLAYER_PRELOADING_ERROR:"preloading_error",PLAYER_PROGRESS:"progress",PLAYER_STALLED:"stalled",PLAYER_STOPPED:"stopped",PLAYER_STOPPED_VIDEO:"stopped_video",PLAYER_PLAYED_THRESHOLD_REACHED:"played_threshold_reached",PLAYER_TIMEOUT:"timeout",PLAYER_PLAYBACK_START:"playback_start",PLAYER_TRACKING_DATA_CREATED:"tracking_data_created",PLAYER_TRACKING_DATA_FINALIZED:"tracking_data_finalized",PLAYER_VIDEO_ELEMENT_APPENDED:"video_element_appended",PLAYER_VIDEO_ELEMENT_REMOVED:"video_element_removed",PLAYER_MANAGER_READY:"ready",TRACKER_PLAYBACK_START:"playback_start",TRACKER_PLAYED_THRESHOLD_REACHED:"played_threshold_reached",TRACKER_TRACKING_DATA_CREATED:"tracking_data_created",TRACKER_TRACKING_DATA_FINALIZED:"tracking_data_finalized",ABR_MANAGER_BITRATE_CHANGE:"bitrate_change"})},"8VmE":function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},"8ZXl":function(t,e,n){"use strict";var r=n("qED0")();t.exports=function(t){return t!==r&&null!==t}},"8bWK":function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.WidevineStates=void 0,e.WidevineStates=r,function(t){t.SUCCESS="success",t.REGISTRATION_FAILED="registration_failed",t.REGISTRATION_NOT_ALLOWED="registration_not_allowed",t.DOWNLOAD_FAILED="download_failed",t.MAX_RETRIES="max_retries",t.TIMEOUT_EXCEEDED="timeout_exceeded",t.UNKNOWN_STATUS="unknown_status",t.INSTALL_DELAYED="install_delayed",t.INSTALL_NOT_STARTED="install_not_started",t.INSTALL_REQUESTED="install_requested",t.INSTALL_IN_PROGRESS="install_in_progress"}(r||(e.WidevineStates=r={}))},"8vwS":function(t,e,n){"use strict";var r=n("/ub/");t.exports=function(t){if(!t||t.length%2!=0)throw new TypeError("Invalid clientId value.");var e=t.match(/[0-9a-f]{2}?/g);if(!e||!e.length)throw new TypeError("Invalid clientId value.");var n=String.fromCharCode.apply(null,e.map(function(t){return parseInt(t,16)})),i=r.encode(n);return function(){return{name:"context_client_id",data:{value:i}}}}},"96yp":function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("XR8V"),o=r(n("WnZh")),a=n("yWAF"),s=n("gMC6"),u=n("jT1e"),c=n("3STj"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},f=i.shaka.util.Error.Code,p=function(){function t(t){var e=this;this.setPreferredSubtitle=function(){e.preferredSubtitleCode&&e.session&&e.session.setPreferredSubtitle(e.preferredSubtitleCode)};var n=t.productState,r=t.cancellationTokenSource,i=t.cosmos,o=t.abba,a=t.getWebgateHeaders,s=t.VideoPlayerErrorKM1,c=t.widevineDownloader,f=t.authTokenCallback,p=t.logError,h=t.logWarn,d=t.betamaxPlayerFactory,_=t.playerConfiguration;this.VideoPlayerErrorKM1=s,this.cosmos=i,this.widevineDownloader=c,this.abba=o,this.getWebgateHeaders=a,this.logError=p,this.logWarn=h,this.cancellationTokenSource=r,this.spotifyProductState=n,this.videoContextPlayerSub=null,this.contextPlayerVolumeSub=null,this.session=null,this.contextPlayerVolume=1,this.clientPlayerState=null,this.contextPlayerConfig=null,this.onClientPlayerStateUpdate=this.onClientPlayerStateUpdate.bind(this),this.didFinishVideoInClientPlayerCallback=null,this.CC_SUFFIX="-x-cc",this.authTokenCallback=f,this.playerConfiguration=_?l({},_):{subtitlesEnabled:!1},this.betamaxPlayer=d.createBetamaxPlayer(this.playerConfiguration),this.betamaxPlayer.on(u.VideoPlaybackEvents.MANIFEST_LOADED,this.setPreferredSubtitle)}return t.prototype.makeVideoContextPlayerCoordinatorError=function(t,e){var n=new Error(e);return n.name="VideoContextPlayerCoordinatorError",n.reason=t,n},t.prototype.backendErrorToContextPlayerError=function(t){if(!t)return null;if(!t.responseText&&!t.httpStatus)return t.error_code&&t.error_code===f.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE?{type:"video_unsupported_key_system"}:6===t.error_category?{type:"video_playback_error"}:t.canRecover?null:{type:"unknown"};if(401===t.httpStatus)return{type:"video_playback_error"};var e=null;try{t.responseHeaders&&"content-type"in t.responseHeaders&&"application/json"===t.responseHeaders["content-type"]&&(e=JSON.parse(t.responseText).reason)}catch(t){return this.logError&&this.logError(t),{type:"unknown"}}switch(e){case"GEO_RESTRICTED":return{type:"video_georestricted"};case"UNSUPPORTED_CLIENT_VERSION":return{type:"video_unsupported_client_version"};case"UNSUPPORTED_PLATFORM_VERSION":return{type:"video_unsupported_platform_version"};case"COUNTRY_RESTRICTED":return{type:"video_country_restricted"};case"UNAVAILABLE":return{type:"video_unavailable"};case"CATALOGUE_RESTRICTED":return{type:"video_catalogue_restricted"};default:return{type:"unknown"}}},t.prototype.logVideoError=function(t,e,n,r,i){this.VideoPlayerErrorKM1&&this.VideoPlayerErrorKM1.log({file_id:n,uri:e,playback_id:r,local_time:(new Date).getTime(),name:t,message:JSON.stringify({kind:t,type:i?i.type:null,detail:i?i.detail:null})})},t.prototype.onClientPlayerStateUpdate=function(t,e,n){var r=this.backendErrorToContextPlayerError(t);if(r&&this.cosmos.post("sp://videoplayer/v1/error",r),n){var i=n.duration>0,o=n.currentTime>=0;if(n&&i&&o){var s=(0,a.pick)(["isPlaying","isPaused","isBuffering","isEnded","isError","isSeeking","duration"],n);if(!(0,a.equals)(s,this.clientPlayerState)){if(this.clientPlayerState=s,this.videoTrack){var u=n.duration>-1?Math.floor(1e3*n.duration):-1,c=n.currentTime>-1?Math.floor(1e3*n.currentTime):-1;this.cosmos.post("sp://videoplayer/v1/state",{playback_id:this.videoTrack.playback_id||"",is_paused:n.isPaused,is_buffering:n.isBuffering||!1,timestamp:(new Date).getTime(),playback_speed:n.isPlaying&&!n.isPaused?1:0,position_as_of_timestamp:c,duration:u})}n.isEnded&&this.finishCurrentVideoInClientPlayer("finished")}}}},t.prototype.createVideoPlayer=function(t,e,n){var r=this,i=(0,a.pathOr)(t,["track","track"],t),u="true"===(0,a.path)(["metadata",s.IS_ADVERTISMENT],i),f=(0,a.pathOr)("",["metadata","media.manifest_id"],i),p="";if(!f){try{var h=JSON.parse(i.metadata["media.manifest"]);p=o.default.getPreferredUrl(h)||""}catch(t){p=""}p||(p=(0,a.pathOr)("",["metadata","external_url"],i))}if(f||p){var d=(0,a.pathOr)("",["track","uri"],i),_=function(e){var n=r.spotifyProductState["widevine-license-url"];r.preferredSubtitleCode=r.getPrefSubtitleCodeFromContextPlayerConfig(r.contextPlayerConfig);var i=(t.seek_to||0)/1e3,o=!t.initially_paused;return Promise.all([r.abba.fetch("ab-video-subtitles"),r.abba.fetch("rollout_desktop_endvideo_event_api")]).then(function(h){var d=h[0],_=h[1],y=d&&"enabled"===d.toLowerCase(),v=_&&"enabled"===_.toLowerCase(),m=f?r.authTokenCallback:void 0;r.playerConfiguration.drm={servers:{"com.widevine.alpha":n},advanced:{"com.widevine.alpha":{videoRobustness:"SW_SECURE_DECODE",serverCertificate:e}}},r.playerConfiguration.widevineLicenseUrl=n,r.playerConfiguration.subtitlesEnabled=y,r.playerConfiguration.newEventApi=v,r.playerConfiguration.getToken=m,r.playerConfiguration.getWebgateHeaders=r.getWebgateHeaders;var g=(0,s.createMetadataWithEndVideoPrefix)(t),E=(0,a.pathOr)({},["track","track","metadata"],t),b={mediaUrl:f?c.SpotifyVideoUrl.create(f):p,isRoyaltyMedia:!u,metadata:l({},E,g)};return r.betamaxPlayer.setVolume(r.contextPlayerVolume),r.betamaxPlayer.playWithOptions(b,{playWhenReady:o,initialPosition:i})})};u?_(null).then(function(t){n(t?null:new Error("Failed to create client video player"),t)}):this.widevineDownloader.pollStatus(3e3,function(i){if(i){var o=r.makeVideoContextPlayerCoordinatorError("widevine-error",i.message);return o.widevineStatus=i.status,void n(o,null)}var a;r.widevineDownloader.downloadLicenseCertificate().then(function(t){a=t}).catch(function(e){a=null;var n=t.track.playback_id;r.logVideoError("widevine-server-certificate",d,f,n,e)}).then(function(){return e.isCanceled()?Promise.resolve(null):_(a)}).then(function(t){e.isCanceled()||n(t?null:new Error("Failed to create client video player"),t)})})}else{var y=this.makeVideoContextPlayerCoordinatorError("no-source-url","Cannot find a manifest ID nor a source URL in payload");n(y,null)}},t.prototype.processStartCommand=function(t,e,n){var r=this;this.createVideoPlayer(t,e,function(i,o){e.isCanceled()?n(e.operationCanceledError):(r.session=o,i?n(i,t,o):(r.videoTrack=t.track,r.session&&r.session.on(u.InternalEvents.CHANGE,r.onClientPlayerStateUpdate),n(i,t,o)))})},t.prototype.startSyncing=function(t,e,n){var r=this;this.widevineDownloader.startWatchingStatus(),this.didFinishVideoInClientPlayerCallback=n,this.videoContextPlayerSub=this.cosmos.sub("sp://videoplayer/v1/commands",function(n){var i=n||{};if("subscribed"!==i.type){t(null,i);var o=r.cancellationTokenSource.token();switch(i.type){case"start":r.finishCurrentVideoInStart(i.start_reason),r.processStartCommand(i,o,e);break;case"stop":r.finishCurrentVideoInClientPlayer("endplay"),e(null,i);break;case"pause":r.session&&r.session.pause(),e(null,i);break;case"resume":r.session&&("true"===(0,a.path)(["track","metadata","media.live"],r.videoTrack)&&r.session.seekTo(0),r.session.resume()),e(null,i);break;case"seek_to":if(r.session){var s=i.position||0;r.session.seekTo(s/1e3)}e(null,i);break;case"config":if(r.session){r.contextPlayerConfig=i.config;var u=r.getPrefSubtitleCodeFromContextPlayerConfig(i.config);r.session.setPreferredSubtitle(u)}e(null,i);break;case"prefetch_tracks":case"advance":e(null,i);break;default:r.logWarn&&r.logWarn("Unknown videoplayer cosmos command: ",i.type),e(null,i)}}else r.contextPlayerConfig=i.config},function(n){t(n),e(n)}),this.contextPlayerVolumeSub=this.cosmos.sub("sp://playback/v1/volume",function(t){var e=t;e&&"number"==typeof e.volume&&(r.contextPlayerVolume=e.volume,r.session&&r.session.setVolume(e.volume))},function(){})},t.prototype.notifySessionEnd=function(t,e){this.didFinishVideoInClientPlayerCallback&&this.didFinishVideoInClientPlayerCallback(t,e)},t.prototype.unsubscribeAndRemoveNode=function(){if(this.session){this.session.off(u.InternalEvents.CHANGE,this.onClientPlayerStateUpdate);var t=this.session.getNode();t&&t.remove()}},t.prototype.finishCurrentVideoInStart=function(t){this.videoTrack=null,this.clientPlayerState=null,this.session&&(this.unsubscribeAndRemoveNode(),this.session=null,this.notifySessionEnd(t))},t.prototype.stopSyncing=function(){this.videoContextPlayerSub&&(this.videoContextPlayerSub.cancel(),this.videoContextPlayerSub=null),this.contextPlayerVolumeSub&&(this.contextPlayerVolumeSub.cancel(),this.contextPlayerVolumeSub=null),this.session=null,this.contextPlayerVolume=1,this.clientPlayerState=null,this.videoTrack=null,this.didFinishVideoInClientPlayerCallback=null},t.prototype.finishCurrentVideoInClientPlayer=function(t,e){this.videoTrack=null,this.clientPlayerState=null,this.session&&(this.unsubscribeAndRemoveNode(),this.session.stop(),this.session=null,this.notifySessionEnd(t,e))},t.prototype.advanceContextPlayer=function(t,e,n){return this.session?(this.finishCurrentVideoInClientPlayer(t,e),n(new Error("Cannot advance before destroying client player")),!1):(r=e&&"unplayable"===t?{reason:t,unplayable_reason:e}:{reason:t},this.cosmos.post("sp://videoplayer/v1/advance",r).catch(function(t){return n(t)}),!0);var r},t.prototype.getPrefSubtitleCodeFromContextPlayerConfig=function(t){if(t){var e=t["video.subtitles"];return t["video.subtitles_cc"]&&e?e+this.CC_SUFFIX:e}return""},t}();e.default=p},"9K2m":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,_=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118;function E(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case p:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case h:case c:return t;default:return e}}case v:case y:case o:return e}}}function b(t){return E(t)===p}e.typeOf=E,e.AsyncMode=f,e.ConcurrentMode=p,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=h,e.Fragment=a,e.Lazy=v,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===p||t===u||t===s||t===d||t===_||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===h||t.$$typeof===m||t.$$typeof===g)},e.isAsyncMode=function(t){return b(t)||E(t)===f},e.isConcurrentMode=b,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===h},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===v},e.isMemo=function(t){return E(t)===y},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d}},"9O1+":function(t,e,n){"use strict";t.exports=function(){var t=document.createEvent("Event");t.initEvent("encrypted",!1,!1),this.dispatchEvent(t)}},"9OMS":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("fVVT"))&&r.__esModule?r:{default:r};e.default=i.default,t.exports=e.default},"9t1y":function(t,e,n){"use strict";var r=n("mXGw"),i=n("IL7q"),o=n("4DfG");function a(t){for(var e=t.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return t.message="Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(!(-1<n))throw a(Error(96),t);if(!f[n]){if(!e.extractEvents)throw a(Error(97),t);for(var r in f[n]=e,n=e.eventTypes){var i=void 0,o=n[r],c=e,h=r;if(p.hasOwnProperty(h))throw a(Error(99),h);p[h]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&l(d[i],c,h);i=!0}else o.registrationName?(l(o.registrationName,c,h),i=!0):i=!1;if(!i)throw a(Error(98),r,t)}}}}function l(t,e,n){if(h[t])throw a(Error(100),t);h[t]=e,d[t]=e.eventTypes[n].dependencies}var f=[],p={},h={},d={};var _=!1,y=null,v=!1,m=null,g={onError:function(t){_=!0,y=t}};function E(t,e,n,r,i,o,a,s,u){_=!1,y=null,function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}.apply(g,arguments)}var b=null,T=null,S=null;function R(t,e,n){var r=t.type||"unknown-event";t.currentTarget=S(n),function(t,e,n,r,i,o,s,u,c){if(E.apply(this,arguments),_){if(!_)throw a(Error(198));var l=y;_=!1,y=null,v||(v=!0,m=l)}}(r,e,void 0,t),t.currentTarget=null}function w(t,e){if(null==e)throw a(Error(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function O(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var A=null;function I(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)R(t,e[r],n[r]);else e&&R(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function N(t){if(null!==t&&(A=w(A,t)),t=A,A=null,t){if(O(t,I),A)throw a(Error(95));if(v)throw t=m,v=!1,m=null,t}}var C={injectEventPluginOrder:function(t){if(s)throw a(Error(101));s=Array.prototype.slice.call(t),c()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!u.hasOwnProperty(e)||u[e]!==r){if(u[e])throw a(Error(102),e);u[e]=r,n=!0}}n&&c()}};function P(t,e){var n=t.stateNode;if(!n)return null;var r=b(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw a(Error(231),e,typeof n);return n}var L=Math.random().toString(36).slice(2),k="__reactInternalInstance$"+L,D="__reactEventHandlers$"+L;function x(t){if(t[k])return t[k];for(;!t[k];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[k]).tag||6===t.tag?t:null}function M(t){return!(t=t[k])||5!==t.tag&&6!==t.tag?null:t}function U(t){if(5===t.tag||6===t.tag)return t.stateNode;throw a(Error(33))}function F(t){return t[D]||null}function j(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function B(t,e,n){(e=P(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=w(n._dispatchListeners,e),n._dispatchInstances=w(n._dispatchInstances,t))}function V(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=j(e);for(e=n.length;0<e--;)B(n[e],"captured",t);for(e=0;e<n.length;e++)B(n[e],"bubbled",t)}}function G(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=P(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=w(n._dispatchListeners,e),n._dispatchInstances=w(n._dispatchInstances,t))}function W(t){t&&t.dispatchConfig.registrationName&&G(t._targetInst,null,t)}function H(t){O(t,V)}var K=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function q(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Y={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},z={},X={};function Q(t){if(z[t])return z[t];if(!Y[t])return t;var e,n=Y[t];for(e in n)if(n.hasOwnProperty(e)&&e in X)return z[t]=n[e];return t}K&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var J=Q("animationend"),$=Q("animationiteration"),Z=Q("animationstart"),tt=Q("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,rt=null,it=null;function ot(){if(it)return it;var t,e,n=rt,r=n.length,i="value"in nt?nt.value:nt.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return it=i.slice(t,1<e?1-e:void 0)}function at(){return!0}function st(){return!1}function ut(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function ct(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function lt(t){if(!(t instanceof this))throw a(Error(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function ft(t){t.eventPool=[],t.getPooled=ct,t.release=lt}i(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,ft(n),n},ft(ut);var pt=ut.extend({data:null}),ht=ut.extend({data:null}),dt=[9,13,27,32],_t=K&&"CompositionEvent"in window,yt=null;K&&"documentMode"in document&&(yt=document.documentMode);var vt=K&&"TextEvent"in window&&!yt,mt=K&&(!_t||yt&&8<yt&&11>=yt),gt=String.fromCharCode(32),Et={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},bt=!1;function Tt(t,e){switch(t){case"keyup":return-1!==dt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function St(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Rt=!1,wt={eventTypes:Et,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(_t)t:{switch(t){case"compositionstart":i=Et.compositionStart;break t;case"compositionend":i=Et.compositionEnd;break t;case"compositionupdate":i=Et.compositionUpdate;break t}i=void 0}else Rt?Tt(t,n)&&(i=Et.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=Et.compositionStart);return i?(mt&&"ko"!==n.locale&&(Rt||i!==Et.compositionStart?i===Et.compositionEnd&&Rt&&(o=ot()):(rt="value"in(nt=r)?nt.value:nt.textContent,Rt=!0)),i=pt.getPooled(i,e,n,r),o?i.data=o:null!==(o=St(n))&&(i.data=o),H(i),o=i):o=null,(t=vt?function(t,e){switch(t){case"compositionend":return St(e);case"keypress":return 32!==e.which?null:(bt=!0,gt);case"textInput":return(t=e.data)===gt&&bt?null:t;default:return null}}(t,n):function(t,e){if(Rt)return"compositionend"===t||!_t&&Tt(t,e)?(t=ot(),it=rt=nt=null,Rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=ht.getPooled(Et.beforeInput,e,n,r)).data=t,H(e)):e=null,null===o?e:null===e?o:[o,e]}},Ot=null,At=null,It=null;function Nt(t){if(t=T(t)){if("function"!=typeof Ot)throw a(Error(280));var e=b(t.stateNode);Ot(t.stateNode,t.type,e)}}function Ct(t){At?It?It.push(t):It=[t]:At=t}function Pt(){if(At){var t=At,e=It;if(It=At=null,Nt(t),e)for(t=0;t<e.length;t++)Nt(e[t])}}function Lt(t,e){return t(e)}function kt(t,e,n,r){return t(e,n,r)}function Dt(){}var xt=Lt,Mt=!1;function Ut(){null===At&&null===It||(Dt(),Pt())}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ft[t.type]:"textarea"===e}function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Vt(t){if(!K)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}function Gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Wt(t){t._valueTracker||(t._valueTracker=function(t){var e=Gt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ht(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var Kt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Kt.hasOwnProperty("ReactCurrentDispatcher")||(Kt.ReactCurrentDispatcher={current:null}),Kt.hasOwnProperty("ReactCurrentBatchConfig")||(Kt.ReactCurrentBatchConfig={suspense:null});var qt=/^(.*)[\\\/]/,Yt="function"==typeof Symbol&&Symbol.for,zt=Yt?Symbol.for("react.element"):60103,Xt=Yt?Symbol.for("react.portal"):60106,Qt=Yt?Symbol.for("react.fragment"):60107,Jt=Yt?Symbol.for("react.strict_mode"):60108,$t=Yt?Symbol.for("react.profiler"):60114,Zt=Yt?Symbol.for("react.provider"):60109,te=Yt?Symbol.for("react.context"):60110,ee=Yt?Symbol.for("react.concurrent_mode"):60111,ne=Yt?Symbol.for("react.forward_ref"):60112,re=Yt?Symbol.for("react.suspense"):60113,ie=Yt?Symbol.for("react.suspense_list"):60120,oe=Yt?Symbol.for("react.memo"):60115,ae=Yt?Symbol.for("react.lazy"):60116;Yt&&Symbol.for("react.fundamental"),Yt&&Symbol.for("react.responder");var se="function"==typeof Symbol&&Symbol.iterator;function ue(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=se&&t[se]||t["@@iterator"])?t:null}function ce(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case Qt:return"Fragment";case Xt:return"Portal";case $t:return"Profiler";case Jt:return"StrictMode";case re:return"Suspense";case ie:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case te:return"Context.Consumer";case Zt:return"Context.Provider";case ne:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case oe:return ce(t.type);case ae:if(t=1===t._status?t._result:null)return ce(t)}return null}function le(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=ce(t.type);n=null,r&&(n=ce(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(qt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,he={},de={};function _e(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new _e(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new _e(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new _e(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new _e(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new _e(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new _e(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){ye[t]=new _e(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){ye[t]=new _e(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){ye[t]=new _e(t,5,!1,t.toLowerCase(),null,!1)});var ve=/[\-:]([a-z])/g;function me(t){return t[1].toUpperCase()}function ge(t,e,n,r){var i=ye.hasOwnProperty(e)?ye[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!pe.call(de,t)||!pe.call(he,t)&&(fe.test(t)?de[t]=!0:(he[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function Ee(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function be(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Te(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Ee(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Se(t,e){null!=(e=e.checked)&&ge(t,"checked",e,!1)}function Re(t,e){Se(t,e);var n=Ee(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Oe(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oe(t,e.type,Ee(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function we(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Oe(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ve,me);ye[e]=new _e(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ve,me);ye[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ve,me);ye[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new _e(t,1,!1,t.toLowerCase(),null,!1)}),ye.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){ye[t]=new _e(t,1,!1,t.toLowerCase(),null,!0)});var Ae={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ie(t,e,n){return(t=ut.getPooled(Ae.change,t,e,n)).type="change",Ct(n),H(t),t}var Ne=null,Ce=null;function Pe(t){N(t)}function Le(t){if(Ht(U(t)))return t}function ke(t,e){if("change"===t)return e}var De=!1;function xe(){Ne&&(Ne.detachEvent("onpropertychange",Me),Ce=Ne=null)}function Me(t){if("value"===t.propertyName&&Le(Ce))if(t=Ie(Ce,t,Bt(t)),Mt)N(t);else{Mt=!0;try{Lt(Pe,t)}finally{Mt=!1,Ut()}}}function Ue(t,e,n){"focus"===t?(xe(),Ce=n,(Ne=e).attachEvent("onpropertychange",Me)):"blur"===t&&xe()}function Fe(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Le(Ce)}function je(t,e){if("click"===t)return Le(e)}function Be(t,e){if("input"===t||"change"===t)return Le(e)}K&&(De=Vt("input")&&(!document.documentMode||9<document.documentMode));var Ve={eventTypes:Ae,_isInputEventSupported:De,extractEvents:function(t,e,n,r){var i=e?U(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=ke:jt(i)?De?o=Be:(o=Fe,a=Ue):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=je),o&&(o=o(t,e)))return Ie(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Ge=ut.extend({view:null,detail:null}),We={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function He(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=We[t])&&!!e[t]}function Ke(){return He}var qe=0,Ye=0,ze=!1,Xe=!1,Qe=Ge.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ke,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=qe;return qe=t.screenX,ze?"mousemove"===t.type?t.screenX-e:0:(ze=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ye;return Ye=t.screenY,Xe?"mousemove"===t.type?t.screenY-e:0:(Xe=!0,0)}}),Je=Qe.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$e={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ze={eventTypes:$e,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?x(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===t||"mouseover"===t?(a=Qe,s=$e.mouseLeave,u=$e.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Je,s=$e.pointerLeave,u=$e.pointerEnter,c="pointer");var l=null==o?i:U(o);if(i=null==e?i:U(e),(t=a.getPooled(s,o,n,r)).type=c+"leave",t.target=l,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=e,o&&r)t:{for(i=r,c=0,a=e=o;a;a=j(a))c++;for(a=0,u=i;u;u=j(u))a++;for(;0<c-a;)e=j(e),c--;for(;0<a-c;)i=j(i),a--;for(;c--;){if(e===i||e===i.alternate)break t;e=j(e),i=j(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)e.push(o),o=j(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=j(r);for(r=0;r<e.length;r++)G(e[r],"bubbled",t);for(r=o.length;0<r--;)G(o[r],"captured",n);return[t,n]}};function tn(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e}var en=Object.prototype.hasOwnProperty;function nn(t,e){if(tn(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!en.call(e,n[r])||!tn(t[n[r]],e[n[r]]))return!1;return!0}function rn(t,e){return{responder:t,props:e}}function on(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function an(t){if(2!==on(t))throw a(Error(188))}function sn(t){if(!(t=function(t){var e=t.alternate;if(!e){if(3===(e=on(t)))throw a(Error(188));return 1===e?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return an(i),t;if(o===r)return an(i),e;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}new Map,new Map,new Set,new Map;var un=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=ut.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ln=Ge.extend({relatedTarget:null});function fn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}for(var pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Ge.extend({key:function(t){if(t.key){var e=pn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=fn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?hn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ke,charCode:function(t){return"keypress"===t.type?fn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?fn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),_n=Qe.extend({dataTransfer:null}),yn=Ge.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ke}),vn=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Qe.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[J,"animationEnd",2],[$,"animationIteration",2],[Z,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[tt,"transitionEnd",2],["waiting","waiting",2]],En={},bn={},Tn=0;Tn<gn.length;Tn++){var Sn=gn[Tn],Rn=Sn[0],wn=Sn[1],On=Sn[2],An="on"+(wn[0].toUpperCase()+wn.slice(1)),In={phasedRegistrationNames:{bubbled:An,captured:An+"Capture"},dependencies:[Rn],eventPriority:On};En[wn]=In,bn[Rn]=In}var Nn={eventTypes:En,getEventPriority:function(t){return void 0!==(t=bn[t])?t.eventPriority:2},extractEvents:function(t,e,n,r){var i=bn[t];if(!i)return null;switch(t){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":t=dn;break;case"blur":case"focus":t=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Qe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=yn;break;case J:case $:case Z:t=un;break;case tt:t=vn;break;case"scroll":t=Ge;break;case"wheel":t=mn;break;case"copy":case"cut":case"paste":t=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Je;break;default:t=ut}return H(e=t.getPooled(i,e,n,r)),e}},Cn=Nn.getEventPriority,Pn=[];function Ln(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=x(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Bt(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<f.length;s++){var u=f[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=w(a,u))}N(a)}}var kn=!0;function Dn(t,e){xn(e,t,!1)}function xn(t,e,n){switch(Cn(e)){case 0:var r=function(t,e,n){Mt||Dt();var r=Mn,i=Mt;Mt=!0;try{kt(r,t,e,n)}finally{(Mt=i)||Ut()}}.bind(null,e,1);break;case 1:r=function(t,e,n){Mn(t,e,n)}.bind(null,e,1);break;default:r=Mn.bind(null,e,1)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Mn(t,e,n){if(kn){if(null===(e=x(e=Bt(n)))||"number"!=typeof e.tag||2===on(e)||(e=null),Pn.length){var r=Pn.pop();r.topLevelType=t,r.nativeEvent=n,r.targetInst=e,t=r}else t={topLevelType:t,nativeEvent:n,targetInst:e,ancestors:[]};try{if(n=t,Mt)Ln(n);else{Mt=!0;try{xt(Ln,n,void 0)}finally{Mt=!1,Ut()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Pn.length&&Pn.push(t)}}}var Un=new("function"==typeof WeakMap?WeakMap:Map);function Fn(t){var e=Un.get(t);return void 0===e&&(e=new Set,Un.set(t,e)),e}function jn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Bn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vn(t,e){var n,r=Bn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bn(r)}}function Gn(){for(var t=window,e=jn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=jn((t=e.contentWindow).document)}return e}function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Hn=K&&"documentMode"in document&&11>=document.documentMode,Kn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,Yn=null,zn=null,Xn=!1;function Qn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Xn||null==qn||qn!==jn(n)?null:(n="selectionStart"in(n=qn)&&Wn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},zn&&nn(zn,n)?null:(zn=n,(t=ut.getPooled(Kn.select,Yn,t,e)).type="select",t.target=qn,H(t),t))}var Jn={eventTypes:Kn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Fn(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?U(e):window,t){case"focus":(jt(o)||"true"===o.contentEditable)&&(qn=o,Yn=e,zn=null);break;case"blur":zn=Yn=qn=null;break;case"mousedown":Xn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xn=!1,Qn(n,r);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return Qn(n,r)}return null}};function $n(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Zn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ee(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function tr(t,e){if(null!=e.dangerouslySetInnerHTML)throw a(Error(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function er(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw a(Error(92));if(Array.isArray(e)){if(!(1>=e.length))throw a(Error(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:Ee(n)}}function nr(t,e){var n=Ee(e.value),r=Ee(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function rr(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}C.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b=F,T=M,S=U,C.injectEventPluginsByName({SimpleEventPlugin:Nn,EnterLeaveEventPlugin:Ze,ChangeEventPlugin:Ve,SelectEventPlugin:Jn,BeforeInputEventPlugin:wt});var ir={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function or(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?or(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var sr=void 0,ur=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==ir.svg||"innerHTML"in t)t.innerHTML=e;else{for((sr=sr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=sr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];function pr(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||lr.hasOwnProperty(t)&&lr[t]?(""+e).trim():e+"px"}function hr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pr(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(lr).forEach(function(t){fr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lr[e]=lr[t]})});var dr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(t,e){if(e){if(dr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw a(Error(137),t,"");if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw a(Error(60));if(!("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=e.style&&"object"!=typeof e.style)throw a(Error(62),"")}}function yr(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vr(t,e){var n=Fn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=d[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.has(i)){switch(i){case"scroll":xn(t,"scroll",!0);break;case"focus":case"blur":xn(t,"focus",!0),xn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Vt(i)&&xn(t,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(i)&&Dn(i,t)}n.add(i)}}}function mr(){}var gr=null,Er=null;function br(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Tr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Sr="function"==typeof setTimeout?setTimeout:void 0,Rr="function"==typeof clearTimeout?clearTimeout:void 0;function wr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}new Set;var Or=[],Ar=-1;function Ir(t){0>Ar||(t.current=Or[Ar],Or[Ar]=null,Ar--)}function Nr(t,e){Or[++Ar]=t.current,t.current=e}var Cr={},Pr={current:Cr},Lr={current:!1},kr=Cr;function Dr(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function xr(t){return null!=t.childContextTypes}function Mr(t){Ir(Lr),Ir(Pr)}function Ur(t){Ir(Lr),Ir(Pr)}function Fr(t,e,n){if(Pr.current!==Cr)throw a(Error(168));Nr(Pr,e),Nr(Lr,n)}function jr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw a(Error(108),ce(e)||"Unknown",o);return i({},n,r)}function Br(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Cr,kr=Pr.current,Nr(Pr,e),Nr(Lr,Lr.current),!0}function Vr(t,e,n){var r=t.stateNode;if(!r)throw a(Error(169));n?(e=jr(t,e,kr),r.__reactInternalMemoizedMergedChildContext=e,Ir(Lr),Ir(Pr),Nr(Pr,e)):Ir(Lr),Nr(Lr,n)}var Gr=o.unstable_runWithPriority,Wr=o.unstable_scheduleCallback,Hr=o.unstable_cancelCallback,Kr=o.unstable_shouldYield,qr=o.unstable_requestPaint,Yr=o.unstable_now,zr=o.unstable_getCurrentPriorityLevel,Xr=o.unstable_ImmediatePriority,Qr=o.unstable_UserBlockingPriority,Jr=o.unstable_NormalPriority,$r=o.unstable_LowPriority,Zr=o.unstable_IdlePriority,ti={},ei=void 0!==qr?qr:function(){},ni=null,ri=null,ii=!1,oi=Yr(),ai=1e4>oi?Yr:function(){return Yr()-oi};function si(){switch(zr()){case Xr:return 99;case Qr:return 98;case Jr:return 97;case $r:return 96;case Zr:return 95;default:throw a(Error(332))}}function ui(t){switch(t){case 99:return Xr;case 98:return Qr;case 97:return Jr;case 96:return $r;case 95:return Zr;default:throw a(Error(332))}}function ci(t,e){return t=ui(t),Gr(t,e)}function li(t,e,n){return t=ui(t),Wr(t,e,n)}function fi(t){return null===ni?(ni=[t],ri=Wr(Xr,hi)):ni.push(t),ti}function pi(){null!==ri&&Hr(ri),hi()}function hi(){if(!ii&&null!==ni){ii=!0;var t=0;try{var e=ni;ci(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),ni=null}catch(e){throw null!==ni&&(ni=ni.slice(t+1)),Wr(Xr,pi),e}finally{ii=!1}}}function di(t,e){return 1073741823===e?99:1===e?95:0>=(t=10*(1073741821-e)-10*(1073741821-t))?99:250>=t?98:5250>=t?97:95}function _i(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var yi={current:null},vi=null,mi=null,gi=null;function Ei(){gi=mi=vi=null}function bi(t,e){var n=t.type._context;Nr(yi,n._currentValue),n._currentValue=e}function Ti(t){var e=yi.current;Ir(yi),t.type._context._currentValue=e}function Si(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function Ri(t,e){vi=t,gi=mi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ua=!0),t.firstContext=null)}function wi(t,e){if(gi!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(gi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===mi){if(null===vi)throw a(Error(308));mi=e,vi.dependencies={expirationTime:0,firstContext:e,responders:null}}else mi=mi.next=e;return t._currentValue}var Oi=!1;function Ai(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ii(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ni(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Ci(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Pi(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=Ai(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=Ai(t.memoizedState),i=n.updateQueue=Ai(n.memoizedState)):r=t.updateQueue=Ii(i):null===i&&(i=n.updateQueue=Ii(r));null===i||r===i?Ci(r,e):null===r.lastUpdate||null===i.lastUpdate?(Ci(r,e),Ci(i,e)):(Ci(r,e),i.lastUpdate=e)}function Li(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=Ai(t.memoizedState):ki(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ki(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Ii(e)),e}function Di(t,e,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-2049&t.effectTag|64;case 0:if(null==(o="function"==typeof(t=n.payload)?t.call(a,r,o):t))break;return i({},r,o);case 2:Oi=!0}return r}function xi(t,e,n,r,i){Oi=!1;for(var o=(e=ki(t,e)).baseState,a=null,s=0,u=e.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(js(l,u.suspenseConfig),c=Di(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(l=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=Di(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===l&&(o=c),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=l,t.expirationTime=s,t.memoizedState=c}function Mi(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Ui(e.firstEffect,n),e.firstEffect=e.lastEffect=null,Ui(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function Ui(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;if("function"!=typeof n)throw a(Error(191),n);n.call(r)}t=t.nextEffect}}var Fi=Kt.ReactCurrentBatchConfig,ji=(new r.Component).refs;function Bi(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Vi={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===on(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Os(),i=Fi.suspense;(i=Ni(r=As(r,t,i),i)).payload=e,null!=n&&(i.callback=n),Pi(t,i),Ns(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Os(),i=Fi.suspense;(i=Ni(r=As(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),Pi(t,i),Ns(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Os(),r=Fi.suspense;(r=Ni(n=As(n,t,r),r)).tag=2,null!=e&&(r.callback=e),Pi(t,r),Ns(t,n)}};function Gi(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&nn(n,r)&&nn(i,o))}function Wi(t,e,n){var r=!1,i=Cr,o=e.contextType;return"object"==typeof o&&null!==o?o=wi(o):(i=xr(e)?kr:Pr.current,o=(r=null!=(r=e.contextTypes))?Dr(t,i):Cr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vi,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hi(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vi.enqueueReplaceState(e,e.state,null)}function Ki(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ji;var o=e.contextType;"object"==typeof o&&null!==o?i.context=wi(o):(o=xr(e)?kr:Pr.current,i.context=Dr(t,o)),null!==(o=t.updateQueue)&&(xi(t,o,n,i,r),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Bi(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Vi.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(xi(t,o,n,i,r),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var qi=Array.isArray;function Yi(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw a(Error(309));r=n.stateNode}if(!r)throw a(Error(147),t);var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ji&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw a(Error(284));if(!n._owner)throw a(Error(290),t)}return t}function zi(t,e){if("textarea"!==t.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Xi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Zs(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=nu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Yi(t,e,n),r.return=t,r):((r=tu(n.type,n.key,n.props,null,t.mode,r)).ref=Yi(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=ru(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=eu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function p(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=nu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case zt:return(n=tu(e.type,e.key,e.props,null,t.mode,n)).ref=Yi(t,null,e),n.return=t,n;case Xt:return(e=ru(e,t.mode,n)).return=t,e}if(qi(e)||ue(e))return(e=eu(e,t.mode,n,null)).return=t,e;zi(t,e)}return null}function h(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case zt:return n.key===i?n.type===Qt?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case Xt:return n.key===i?l(t,e,n,r):null}if(qi(n)||ue(n))return null!==i?null:f(t,e,n,r,null);zi(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case zt:return t=t.get(null===r.key?n:r.key)||null,r.type===Qt?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case Xt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(qi(r)||ue(r))return f(e,t=t.get(n)||null,r,i,null);zi(e,r)}return null}function _(i,a,s,u){for(var c=null,l=null,f=a,_=a=0,y=null;null!==f&&_<s.length;_++){f.index>_?(y=f,f=null):y=f.sibling;var v=h(i,f,s[_],u);if(null===v){null===f&&(f=y);break}t&&f&&null===v.alternate&&e(i,f),a=o(v,a,_),null===l?c=v:l.sibling=v,l=v,f=y}if(_===s.length)return n(i,f),c;if(null===f){for(;_<s.length;_++)null!==(f=p(i,s[_],u))&&(a=o(f,a,_),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);_<s.length;_++)null!==(y=d(f,i,_,s[_],u))&&(t&&null!==y.alternate&&f.delete(null===y.key?_:y.key),a=o(y,a,_),null===l?c=y:l.sibling=y,l=y);return t&&f.forEach(function(t){return e(i,t)}),c}function y(i,s,u,c){var l=ue(u);if("function"!=typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var f=l=null,_=s,y=s=0,v=null,m=u.next();null!==_&&!m.done;y++,m=u.next()){_.index>y?(v=_,_=null):v=_.sibling;var g=h(i,_,m.value,c);if(null===g){null===_&&(_=v);break}t&&_&&null===g.alternate&&e(i,_),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g,_=v}if(m.done)return n(i,_),l;if(null===_){for(;!m.done;y++,m=u.next())null!==(m=p(i,m.value,c))&&(s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return l}for(_=r(i,_);!m.done;y++,m=u.next())null!==(m=d(_,i,y,m.value,c))&&(t&&null!==m.alternate&&_.delete(null===m.key?y:m.key),s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return t&&_.forEach(function(t){return e(i,t)}),l}return function(t,r,o,u){var c="object"==typeof o&&null!==o&&o.type===Qt&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case zt:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Qt:c.elementType===o.type){n(t,c.sibling),(r=i(c,o.type===Qt?o.props.children:o.props)).ref=Yi(t,c,o),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}o.type===Qt?((r=eu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=tu(o.type,o.key,o.props,null,t.mode,u)).ref=Yi(t,r,o),u.return=t,t=u)}return s(t);case Xt:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=ru(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=nu(o,t.mode,u)).return=t,t=r),s(t);if(qi(o))return _(t,r,o,u);if(ue(o))return y(t,r,o,u);if(l&&zi(t,o),void 0===o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,a(Error(152),t.displayName||t.name||"Component")}return n(t,r)}}var Qi=Xi(!0),Ji=Xi(!1),$i={},Zi={current:$i},to={current:$i},eo={current:$i};function no(t){if(t===$i)throw a(Error(174));return t}function ro(t,e){Nr(eo,e),Nr(to,t),Nr(Zi,$i);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ar(null,"");break;default:e=ar(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Ir(Zi),Nr(Zi,e)}function io(t){Ir(Zi),Ir(to),Ir(eo)}function oo(t){no(eo.current);var e=no(Zi.current),n=ar(e,t.type);e!==n&&(Nr(to,t),Nr(Zi,n))}function ao(t){to.current===t&&(Ir(Zi),Ir(to))}var so=1,uo=1,co=2,lo={current:0};function fo(t){for(var e=t;null!==e;){if(13===e.tag){if(null!==e.memoizedState)return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var po=0,ho=2,_o=4,yo=8,vo=16,mo=32,go=64,Eo=128,bo=Kt.ReactCurrentDispatcher,To=0,So=null,Ro=null,wo=null,Oo=null,Ao=null,Io=null,No=0,Co=null,Po=0,Lo=!1,ko=null,Do=0;function xo(){throw a(Error(321))}function Mo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Uo(t,e,n,r,i,o){if(To=o,So=e,wo=null!==t?t.memoizedState:null,bo.current=null===wo?Qo:Jo,e=n(r,i),Lo){do{Lo=!1,Do+=1,wo=null!==t?t.memoizedState:null,Io=Oo,Co=Ao=Ro=null,bo.current=Jo,e=n(r,i)}while(Lo);ko=null,Do=0}if(bo.current=Xo,(t=So).memoizedState=Oo,t.expirationTime=No,t.updateQueue=Co,t.effectTag|=Po,t=null!==Ro&&null!==Ro.next,To=0,Io=Ao=Oo=wo=Ro=So=null,No=0,Co=null,Po=0,t)throw a(Error(300));return e}function Fo(){bo.current=Xo,To=0,Io=Ao=Oo=wo=Ro=So=null,No=0,Co=null,Po=0,Lo=!1,ko=null,Do=0}function jo(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ao?Oo=Ao=t:Ao=Ao.next=t,Ao}function Bo(){if(null!==Io)Io=(Ao=Io).next,wo=null!==(Ro=wo)?Ro.next:null;else{if(null===wo)throw a(Error(310));var t={memoizedState:(Ro=wo).memoizedState,baseState:Ro.baseState,queue:Ro.queue,baseUpdate:Ro.baseUpdate,next:null};Ao=null===Ao?Oo=t:Ao.next=t,wo=Ro.next}return Ao}function Vo(t,e){return"function"==typeof e?e(t):e}function Go(t){var e=Bo(),n=e.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=t,0<Do){var r=n.dispatch;if(null!==ko){var i=ko.get(n);if(void 0!==i){ko.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return tn(o,e.memoizedState)||(ua=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.lastRenderedState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<To?(l||(l=!0,u=s,i=o),f>No&&(No=f)):(js(f,c.suspenseConfig),o=c.eagerReducer===t?c.eagerState:t(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),tn(o,e.memoizedState)||(ua=!0),e.memoizedState=o,e.baseUpdate=u,e.baseState=i,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function Wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===Co?(Co={lastEffect:null}).lastEffect=t.next=t:null===(e=Co.lastEffect)?Co.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,Co.lastEffect=t),t}function Ho(t,e,n,r){var i=jo();Po|=t,i.memoizedState=Wo(e,n,void 0,void 0===r?null:r)}function Ko(t,e,n,r){var i=Bo();r=void 0===r?null:r;var o=void 0;if(null!==Ro){var a=Ro.memoizedState;if(o=a.destroy,null!==r&&Mo(r,a.deps))return void Wo(po,n,o,r)}Po|=t,i.memoizedState=Wo(e,n,o,r)}function qo(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Yo(){}function zo(t,e,n){if(!(25>Do))throw a(Error(301));var r=t.alternate;if(t===So||null!==r&&r===So)if(Lo=!0,t={expirationTime:To,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===ko&&(ko=new Map),void 0===(n=ko.get(e)))ko.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=Os(),o=Fi.suspense;o={expirationTime:i=As(i,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var c=e.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,tn(l,c))return}catch(t){}Ns(t,i)}}var Xo={readContext:wi,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useResponder:xo},Qo={readContext:wi,useCallback:function(t,e){return jo().memoizedState=[t,void 0===e?null:e],t},useContext:wi,useEffect:function(t,e){return Ho(516,Eo|go,t,e)},useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Ho(4,_o|mo,qo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ho(4,_o|mo,t,e)},useMemo:function(t,e){var n=jo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=zo.bind(null,So,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},jo().memoizedState=t},useState:function(t){var e=jo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t}).dispatch=zo.bind(null,So,t),[e.memoizedState,t]},useDebugValue:Yo,useResponder:rn},Jo={readContext:wi,useCallback:function(t,e){var n=Bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Mo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)},useContext:wi,useEffect:function(t,e){return Ko(516,Eo|go,t,e)},useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Ko(4,_o|mo,qo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ko(4,_o|mo,t,e)},useMemo:function(t,e){var n=Bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Mo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:Go,useRef:function(){return Bo().memoizedState},useState:function(t){return Go(Vo)},useDebugValue:Yo,useResponder:rn},$o=null,Zo=null,ta=!1;function ea(t,e){var n=Js(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function na(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function ra(t){if(ta){var e=Zo;if(e){var n=e;if(!na(t,e)){if(!(e=wr(n.nextSibling))||!na(t,e))return t.effectTag|=2,ta=!1,void($o=t);ea($o,n)}$o=t,Zo=wr(e.firstChild)}else t.effectTag|=2,ta=!1,$o=t}}function ia(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;$o=t}function oa(t){if(t!==$o)return!1;if(!ta)return ia(t),ta=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Tr(e,t.memoizedProps))for(e=Zo;e;)ea(t,e),e=wr(e.nextSibling);return ia(t),Zo=$o?wr(t.stateNode.nextSibling):null,!0}function aa(){Zo=$o=null,ta=!1}var sa=Kt.ReactCurrentOwner,ua=!1;function ca(t,e,n,r){e.child=null===t?Ji(e,null,n,r):Qi(e,t.child,n,r)}function la(t,e,n,r,i){n=n.render;var o=e.ref;return Ri(e,i),r=Uo(t,e,n,r,o,i),null===t||ua?(e.effectTag|=1,ca(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ta(t,e,i))}function fa(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||$s(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=tu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,pa(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&t.ref===e.ref)?Ta(t,e,o):(e.effectTag|=1,(t=Zs(a,r)).ref=e.ref,t.return=e,e.child=t)}function pa(t,e,n,r,i,o){return null!==t&&nn(t.memoizedProps,r)&&t.ref===e.ref&&(ua=!1,i<o)?Ta(t,e,o):da(t,e,n,r,o)}function ha(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function da(t,e,n,r,i){var o=xr(n)?kr:Pr.current;return o=Dr(e,o),Ri(e,i),n=Uo(t,e,n,r,o,i),null===t||ua?(e.effectTag|=1,ca(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ta(t,e,i))}function _a(t,e,n,r,i){if(xr(n)){var o=!0;Br(e)}else o=!1;if(Ri(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Wi(e,n,r),Ki(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?wi(c):Dr(e,c=xr(n)?kr:Pr.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Hi(e,a,r,c),Oi=!1;var p=e.memoizedState;u=a.state=p;var h=e.updateQueue;null!==h&&(xi(e,h,r,a,i),u=e.memoizedState),s!==r||p!==u||Lr.current||Oi?("function"==typeof l&&(Bi(e,n,l,r),u=e.memoizedState),(s=Oi||Gi(e,n,s,r,p,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:_i(e.type,s),u=a.context,c="object"==typeof(c=n.contextType)&&null!==c?wi(c):Dr(e,c=xr(n)?kr:Pr.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Hi(e,a,r,c),Oi=!1,u=e.memoizedState,p=a.state=u,null!==(h=e.updateQueue)&&(xi(e,h,r,a,i),p=e.memoizedState),s!==r||u!==p||Lr.current||Oi?("function"==typeof l&&(Bi(e,n,l,r),p=e.memoizedState),(l=Oi||Gi(e,n,s,r,u,p,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ya(t,e,n,r,o,i)}function ya(t,e,n,r,i,o){ha(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Vr(e,n,!1),Ta(t,e,o);r=e.stateNode,sa.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Qi(e,t.child,null,o),e.child=Qi(e,null,s,o)):ca(t,e,s,o),e.memoizedState=r.state,i&&Vr(e,n,!0),e.child}function va(t){var e=t.stateNode;e.pendingContext?Fr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Fr(0,e.context,!1),ro(t,e.containerInfo)}var ma={};function ga(t,e,n){var r,i=e.mode,o=e.pendingProps,a=lo.current,s=null,u=!1;if((r=0!=(64&e.effectTag))||(r=0!=(a&co)&&(null===t||null!==t.memoizedState)),r?(s=ma,u=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=uo),Nr(lo,a&=so),null===t)if(u){if(o=o.fallback,(t=eu(null,i,0,null)).return=e,0==(2&e.mode))for(u=null!==e.memoizedState?e.child.child:e.child,t.child=u;null!==u;)u.return=t,u=u.sibling;(n=eu(o,i,n,null)).return=e,t.sibling=n,i=t}else i=n=Ji(e,null,o.children,n);else{if(null!==t.memoizedState)if(i=(a=t.child).sibling,u){if(o=o.fallback,(n=Zs(a,a.pendingProps)).return=e,0==(2&e.mode)&&(u=null!==e.memoizedState?e.child.child:e.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(o=Zs(i,o,i.expirationTime)).return=e,n.sibling=o,i=n,n.childExpirationTime=0,n=o}else i=n=Qi(e,a.child,o.children,n);else if(a=t.child,u){if(u=o.fallback,(o=eu(null,i,0,null)).return=e,o.child=a,null!==a&&(a.return=o),0==(2&e.mode))for(a=null!==e.memoizedState?e.child.child:e.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=eu(u,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,i=o,o.childExpirationTime=0}else n=i=Qi(e,a,o.children,n);e.stateNode=t.stateNode}return e.memoizedState=s,e.child=i,n}function Ea(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function ba(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ca(t,e,r.children,n),0!=((r=lo.current)&co))r=r&so|co,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag){if(null!==t.memoizedState){t.expirationTime<n&&(t.expirationTime=n);var a=t.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Si(t.return,n)}}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=so}if(Nr(lo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(r=n.alternate)&&null===fo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ea(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(r=i.alternate)&&null===fo(r)){e.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}Ea(e,!0,n,null,o);break;case"together":Ea(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ta(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw a(Error(153));if(null!==e.child){for(n=Zs(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Zs(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Sa(t){t.effectTag|=4}var Ra=void 0,wa=void 0,Oa=void 0,Aa=void 0;function Ia(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Na(t){switch(t.tag){case 1:xr(t.type)&&Mr();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:if(io(),Ur(),0!=(64&(e=t.effectTag)))throw a(Error(285));return t.effectTag=-2049&e|64,t;case 5:return ao(t),null;case 13:return Ir(lo),2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 18:return null;case 19:return Ir(lo),null;case 4:return io(),null;case 10:return Ti(t),null;default:return null}}function Ca(t,e){return{value:t,source:e,stack:le(e)}}Ra=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(20===n.tag)t.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wa=function(){},Oa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(no(Zi.current),t=null,n){case"input":a=be(s,a),r=be(s,r),t=[];break;case"option":a=$n(s,a),r=$n(s,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=tr(s,a),r=tr(s,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=mr)}_r(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(h.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(t||(t=[]),t.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(n,""+l)):"children"===n?c===l||"string"!=typeof l&&"number"!=typeof l||(t=t||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(h.hasOwnProperty(n)?(null!=l&&vr(o,n),t||c===l||(t=[])):(t=t||[]).push(n,l))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&Sa(e)}},Aa=function(t,e,n,r){n!==r&&Sa(e)};var Pa="function"==typeof WeakSet?WeakSet:Set;function La(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=le(n)),null!==n&&ce(n.type),e=e.value,null!==t&&1===t.tag&&ce(t.type)}function ka(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ks(t,e)}else e.current=null}function Da(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)!==po){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&e)!==po&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function xa(t,e){switch("function"==typeof Xs&&Xs(t),t.tag){case 0:case 11:case 14:case 15:var n=t.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;ci(97<e?97:e,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(t){Ks(i,t)}}e=e.next}while(e!==r)})}break;case 1:ka(t),"function"==typeof(e=t.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ks(t,e)}}(t,e);break;case 5:ka(t);break;case 4:ja(t,e)}}function Ma(t,e){for(var n=t;;)if(xa(n,e),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ua(t){return 5===t.tag||3===t.tag||4===t.tag}function Fa(t){t:{for(var e=t.return;null!==e;){if(Ua(e)){var n=e;break t}e=e.return}throw a(Error(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(cr(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Ua(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){var o=5===i.tag||6===i.tag;if(o||20===i.tag){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=e).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else e.insertBefore(s,n);else r?(8===(u=e).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==o.onclick||(o.onclick=mr)):e.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ja(t,e){for(var n=t,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;t:for(;;){if(null===r)throw a(Error(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break t;case 3:case 4:i=i.containerInfo,o=!0;break t}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(Ma(n,e),o){var s=i,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else i.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,Ma(n,e),o?8===(s=i).nodeType?s.parentNode.removeChild(u):s.removeChild(u):i.removeChild(u);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(xa(n,e),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:Da(_o,yo,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[D]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Se(n,r),yr(t,i),e=yr(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?hr(n,u):"dangerouslySetInnerHTML"===s?ur(n,u):"children"===s?cr(n,u):ge(n,s,u,e)}switch(t){case"input":Re(n,r);break;case"textarea":nr(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Zn(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Zn(n,!!r.multiple,r.defaultValue,!0):Zn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw a(Error(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,ps=ai()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=pr("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}Va(e);break;case 19:Va(e);break;case 17:case 20:break;default:throw a(Error(163))}}function Va(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Pa),e.forEach(function(e){var r=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),n=di(n=Os(),e=As(n,t,null)),null!==(t=Cs(t,e))&&Ps(t,n,e)}.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}var Ga="function"==typeof WeakMap?WeakMap:Map;function Wa(t,e,n){(n=Ni(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_s||(_s=!0,ys=r),La(t,e)},n}function Ha(t,e,n){(n=Ni(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return La(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===vs?vs=new Set([this]):vs.add(this),La(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ka=Math.ceil,qa=Kt.ReactCurrentDispatcher,Ya=Kt.ReactCurrentOwner,za=0,Xa=8,Qa=16,Ja=32,$a=0,Za=1,ts=2,es=3,ns=4,rs=za,is=null,os=null,as=0,ss=$a,us=1073741823,cs=1073741823,ls=null,fs=!1,ps=0,hs=500,ds=null,_s=!1,ys=null,vs=null,ms=!1,gs=null,Es=90,bs=0,Ts=null,Ss=0,Rs=null,ws=0;function Os(){return(rs&(Qa|Ja))!==za?1073741821-(ai()/10|0):0!==ws?ws:ws=1073741821-(ai()/10|0)}function As(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=si();if(0==(4&e))return 99===r?1073741823:1073741822;if((rs&Qa)!==za)return as;if(null!==n)t=1073741821-25*(1+((1073741821-t+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:t=1073741823;break;case 98:t=1073741821-10*(1+((1073741821-t+15)/10|0));break;case 97:case 96:t=1073741821-25*(1+((1073741821-t+500)/25|0));break;case 95:t=1;break;default:throw a(Error(326))}return null!==is&&t===as&&--t,t}var Is=0;function Ns(t,e){if(50<Ss)throw Ss=0,Rs=null,a(Error(185));if(null!==(t=Cs(t,e))){t.pingTime=0;var n=si();if(1073741823===e)if((rs&Xa)!==za&&(rs&(Qa|Ja))===za)for(var r=Fs(t,1073741823,!0);null!==r;)r=r(!0);else Ps(t,99,1073741823),rs===za&&pi();else Ps(t,n,e);(4&rs)===za||98!==n&&99!==n||(null===Ts?Ts=new Map([[t,e]]):(void 0===(n=Ts.get(t))||n>e)&&Ts.set(t,e))}}function Cs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(e>i.firstPendingTime&&(i.firstPendingTime=e),0===(t=i.lastPendingTime)||e<t)&&(i.lastPendingTime=e),i}function Ps(t,e,n){if(t.callbackExpirationTime<n){var r=t.callbackNode;null!==r&&r!==ti&&Hr(r),t.callbackExpirationTime=n,1073741823===n?t.callbackNode=fi(Ls.bind(null,t,Fs.bind(null,t,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-ai()}),t.callbackNode=li(e,Ls.bind(null,t,Fs.bind(null,t,n)),r))}}function Ls(t,e,n){var r=t.callbackNode,i=null;try{return null!==(i=e(n))?Ls.bind(null,t,i):null}finally{null===i&&r===t.callbackNode&&(t.callbackNode=null,t.callbackExpirationTime=0)}}function ks(){(rs&(1|Qa|Ja))===za&&(function(){if(null!==Ts){var t=Ts;Ts=null,t.forEach(function(t,e){fi(Fs.bind(null,e,t))}),pi()}}(),Ws())}function Ds(t,e){var n=rs;rs|=1;try{return t(e)}finally{(rs=n)===za&&pi()}}function xs(t,e,n,r){var i=rs;rs|=4;try{return ci(98,t.bind(null,e,n,r))}finally{(rs=i)===za&&pi()}}function Ms(t,e){var n=rs;rs&=-2,rs|=Xa;try{return t(e)}finally{(rs=n)===za&&pi()}}function Us(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Rr(n)),null!==os)for(n=os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=r.type.childContextTypes&&Mr();break;case 3:io(),Ur();break;case 5:ao(r);break;case 4:io();break;case 13:case 19:Ir(lo);break;case 10:Ti(r)}n=n.return}is=t,os=Zs(t.current,null),as=e,ss=$a,cs=us=1073741823,ls=null,fs=!1}function Fs(t,e,n){if((rs&(Qa|Ja))!==za)throw a(Error(327));if(t.firstPendingTime<e)return null;if(n&&t.finishedExpirationTime===e)return Gs.bind(null,t);if(Ws(),t!==is||e!==as)Us(t,e);else if(ss===es)if(fs)Us(t,e);else{var r=t.lastPendingTime;if(r<e)return Fs.bind(null,t,r)}if(null!==os){r=rs,rs|=Qa;var i=qa.current;if(null===i&&(i=Xo),qa.current=Xo,n){if(1073741823!==e){var o=Os();if(o<e)return rs=r,Ei(),qa.current=i,Fs.bind(null,t,o)}}else ws=0;for(;;)try{if(n)for(;null!==os;)os=Bs(os);else for(;null!==os&&!Kr();)os=Bs(os);break}catch(n){if(Ei(),Fo(),null===(o=os)||null===o.return)throw Us(t,e),rs=r,n;t:{var s=t,u=o.return,c=o,l=n,f=as;if(c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var p=l,h=0!=(lo.current&uo);l=u;do{var d;if((d=13===l.tag)&&(d=null===l.memoizedState&&(void 0!==(d=l.memoizedProps).fallback&&(!0!==d.unstable_avoidThisFallback||!h))),d){if(null===(u=l.updateQueue)?((u=new Set).add(p),l.updateQueue=u):u.add(p),0==(2&l.mode)){l.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((f=Ni(1073741823,null)).tag=2,Pi(c,f))),c.expirationTime=1073741823;break t}c=s,s=f,null===(h=c.pingCache)?(h=c.pingCache=new Ga,u=new Set,h.set(p,u)):void 0===(u=h.get(p))&&(u=new Set,h.set(p,u)),u.has(s)||(u.add(s),c=qs.bind(null,c,p,s),p.then(c,c)),l.effectTag|=2048,l.expirationTime=f;break t}l=l.return}while(null!==l);l=Error((ce(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+le(c))}ss!==ns&&(ss=Za),l=Ca(l,c),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=f,Li(c,f=Wa(c,l,f));break t;case 1:if(p=l,s=c.type,u=c.stateNode,0==(64&c.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===vs||!vs.has(u)))){c.effectTag|=2048,c.expirationTime=f,Li(c,f=Ha(c,p,f));break t}}c=c.return}while(null!==c)}os=Vs(o)}if(rs=r,Ei(),qa.current=i,null!==os)return Fs.bind(null,t,e)}if(t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,function(t,e){var n=t.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=e)&&(li(97,function(){return n._onComplete(),null}),!0)}(t,e))return null;switch(is=null,ss){case $a:throw a(Error(328));case Za:return(r=t.lastPendingTime)<e?Fs.bind(null,t,r):n?Gs.bind(null,t):(Us(t,e),fi(Fs.bind(null,t,e)),null);case ts:return 1073741823===us&&!n&&10<(n=ps+hs-ai())?fs?(Us(t,e),Fs.bind(null,t,e)):(r=t.lastPendingTime)<e?Fs.bind(null,t,r):(t.timeoutHandle=Sr(Gs.bind(null,t),n),null):Gs.bind(null,t);case es:if(!n){if(fs)return Us(t,e),Fs.bind(null,t,e);if((n=t.lastPendingTime)<e)return Fs.bind(null,t,n);if(1073741823!==cs?n=10*(1073741821-cs)-ai():1073741823===us?n=0:(n=10*(1073741821-us)-5e3,0>(n=(r=ai())-n)&&(n=0),(e=10*(1073741821-e)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ka(n/1960))-n)&&(n=e)),10<n)return t.timeoutHandle=Sr(Gs.bind(null,t),n),null}return Gs.bind(null,t);case ns:return!n&&1073741823!==us&&null!==ls&&(r=us,0>=(e=0|(i=ls).busyMinDurationMs)?e=0:(n=0|i.busyDelayMs,e=(r=ai()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+e-r),10<e)?(t.timeoutHandle=Sr(Gs.bind(null,t),e),null):Gs.bind(null,t);default:throw a(Error(329))}}function js(t,e){t<us&&1<t&&(us=t),null!==e&&t<cs&&1<t&&(cs=t,ls=e)}function Bs(t){var e=Ys(t.alternate,t,as);return t.memoizedProps=t.pendingProps,null===e&&(e=Vs(t)),Ya.current=null,e}function Vs(t){os=t;do{var e=os.alternate;if(t=os.return,0==(1024&os.effectTag)){t:{var n=e,r=as,o=(e=os).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:xr(e.type)&&Mr();break;case 3:io(),Ur(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(oa(e),e.effectTag&=-3),wa(e);break;case 5:ao(e),r=no(eo.current);var s=e.type;if(null!==n&&null!=e.stateNode)Oa(n,e,s,o,r),n.ref!==e.ref&&(e.effectTag|=128);else if(o){var u=no(Zi.current);if(oa(e)){o=void 0,s=(n=e).stateNode;var c=n.type,l=n.memoizedProps;switch(s[k]=n,s[D]=l,c){case"iframe":case"object":case"embed":Dn("load",s);break;case"video":case"audio":for(var f=0;f<et.length;f++)Dn(et[f],s);break;case"source":Dn("error",s);break;case"img":case"image":case"link":Dn("error",s),Dn("load",s);break;case"form":Dn("reset",s),Dn("submit",s);break;case"details":Dn("toggle",s);break;case"input":Te(s,l),Dn("invalid",s),vr(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Dn("invalid",s),vr(r,"onChange");break;case"textarea":er(s,l),Dn("invalid",s),vr(r,"onChange")}for(o in _r(c,l),f=null,l)l.hasOwnProperty(o)&&(u=l[o],"children"===o?"string"==typeof u?s.textContent!==u&&(f=["children",u]):"number"==typeof u&&s.textContent!==""+u&&(f=["children",""+u]):h.hasOwnProperty(o)&&null!=u&&vr(r,o));switch(c){case"input":Wt(s),we(s,l,!0);break;case"textarea":Wt(s),rr(s);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(s.onclick=mr)}r=f,n.updateQueue=r,null!==r&&Sa(e)}else{l=s,n=o,c=e,f=9===r.nodeType?r:r.ownerDocument,u===ir.html&&(u=or(l)),u===ir.html?"script"===l?((l=f.createElement("div")).innerHTML="<script><\/script>",f=l.removeChild(l.firstChild)):"string"==typeof n.is?f=f.createElement(l,{is:n.is}):(f=f.createElement(l),"select"===l&&(l=f,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):f=f.createElementNS(u,l),(l=f)[k]=c,l[D]=n,Ra(n=l,e,!1,!1),c=n;var p=r,d=yr(s,o);switch(s){case"iframe":case"object":case"embed":Dn("load",c),r=o;break;case"video":case"audio":for(r=0;r<et.length;r++)Dn(et[r],c);r=o;break;case"source":Dn("error",c),r=o;break;case"img":case"image":case"link":Dn("error",c),Dn("load",c),r=o;break;case"form":Dn("reset",c),Dn("submit",c),r=o;break;case"details":Dn("toggle",c),r=o;break;case"input":Te(c,o),r=be(c,o),Dn("invalid",c),vr(p,"onChange");break;case"option":r=$n(c,o);break;case"select":c._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),Dn("invalid",c),vr(p,"onChange");break;case"textarea":er(c,o),r=tr(c,o),Dn("invalid",c),vr(p,"onChange");break;default:r=o}_r(s,r),l=void 0,f=s,u=c;var _=r;for(l in _)if(_.hasOwnProperty(l)){var y=_[l];"style"===l?hr(u,y):"dangerouslySetInnerHTML"===l?null!=(y=y?y.__html:void 0)&&ur(u,y):"children"===l?"string"==typeof y?("textarea"!==f||""!==y)&&cr(u,y):"number"==typeof y&&cr(u,""+y):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(h.hasOwnProperty(l)?null!=y&&vr(p,l):null!=y&&ge(u,l,y,d))}switch(s){case"input":Wt(c),we(c,o,!1);break;case"textarea":Wt(c),rr(c);break;case"option":null!=o.value&&c.setAttribute("value",""+Ee(o.value));break;case"select":r=c,c=o,r.multiple=!!c.multiple,null!=(l=c.value)?Zn(r,!!c.multiple,l,!1):null!=c.defaultValue&&Zn(r,!!c.multiple,c.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=mr)}br(s,o)&&Sa(e),e.stateNode=n}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw a(Error(166));break;case 6:if(n&&null!=e.stateNode)Aa(n,e,n.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw a(Error(166));n=no(eo.current),no(Zi.current),oa(e)?(r=e.stateNode,n=e.memoizedProps,r[k]=e,r.nodeValue!==n&&Sa(e)):(r=e,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[k]=e,r.stateNode=n)}break;case 11:break;case 13:if(Ir(lo),o=e.memoizedState,0!=(64&e.effectTag)){e.expirationTime=r;break t}r=null!==o,o=!1,null===n?oa(e):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=s,s.nextEffect=c):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!=(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(lo.current&uo)?ss===$a&&(ss=ts):ss!==$a&&ss!==ts||(ss=es)),(r||o)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:io(),wa(e);break;case 10:Ti(e);break;case 9:case 14:break;case 17:xr(e.type)&&Mr();break;case 18:break;case 19:if(Ir(lo),null===(o=e.memoizedState))break;if(s=0!=(64&e.effectTag),null===(c=o.rendering)){if(s)Ia(o,!1);else if(ss!==$a||null!==n&&0!=(64&n.effectTag))for(n=e.child;null!==n;){if(null!==(c=fo(n))){for(e.effectTag|=64,Ia(o,!1),null!==(n=c.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),e.firstEffect=e.lastEffect=null,n=e.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=c.childExpirationTime,o.expirationTime=c.expirationTime,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,s=c.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Nr(lo,lo.current&so|co),e=e.child;break t}n=n.sibling}}else{if(!s)if(null!==(n=fo(c))){if(e.effectTag|=64,s=!0,Ia(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null);break}}else ai()>o.tailExpiration&&1<r&&(e.effectTag|=64,s=!0,Ia(o,!1),e.expirationTime=e.childExpirationTime=r-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=o.last)?r.sibling=c:e.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=ai()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=e.lastEffect,r.sibling=null,n=lo.current,Nr(lo,n=s?n&so|co:n&so),e=r;break t}break;case 20:break;default:throw a(Error(156))}e=null}if(r=os,1===as||1!==r.childExpirationTime){for(n=0,o=r.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(c=o.childExpirationTime)>n&&(n=c),o=o.sibling;r.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(1024&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=os.firstEffect),null!==os.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=os.firstEffect),t.lastEffect=os.lastEffect),1<os.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=os:t.firstEffect=os,t.lastEffect=os))}else{if(null!==(e=Na(os)))return e.effectTag&=1023,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=1024)}if(null!==(e=os.sibling))return e;os=t}while(null!==os);return ss===$a&&(ss=ns),null}function Gs(t){var e=si();return ci(99,function(t,e){if(Ws(),(rs&(Qa|Ja))!==za)throw a(Error(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw a(Error(177));t.callbackNode=null,t.callbackExpirationTime=0;var i=n.expirationTime,o=n.childExpirationTime;if(i=o>i?o:i,t.firstPendingTime=i,i<t.lastPendingTime&&(t.lastPendingTime=i),t===is&&(os=is=null,as=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){o=rs,rs|=Ja,Ya.current=null,gr=kn;var s=Gn();if(Wn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(t){u=null;break t}var p=0,h=-1,d=-1,_=0,y=0,v=s,m=null;e:for(;;){for(var g;v!==u||0!==l&&3!==v.nodeType||(h=p+l),v!==f||0!==c&&3!==v.nodeType||(d=p+c),3===v.nodeType&&(p+=v.nodeValue.length),null!==(g=v.firstChild);)m=v,v=g;for(;;){if(v===s)break e;if(m===u&&++_===l&&(h=p),m===f&&++y===c&&(d=p),null!==(g=v.nextSibling))break;m=(v=m).parentNode}v=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Er={focusedElem:s,selectionRange:u},kn=!1,ds=i;do{try{for(;null!==ds;){if(0!=(256&ds.effectTag)){var E=ds.alternate;switch((s=ds).tag){case 0:case 11:case 15:Da(ho,po,s);break;case 1:if(256&s.effectTag&&null!==E){var b=E.memoizedProps,T=E.memoizedState,S=s.stateNode,R=S.getSnapshotBeforeUpdate(s.elementType===s.type?b:_i(s.type,b),T);S.__reactInternalSnapshotBeforeUpdate=R}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}ds=ds.nextEffect}}catch(t){if(null===ds)throw a(Error(330));Ks(ds,t),ds=ds.nextEffect}}while(null!==ds);ds=i;do{try{for(E=e;null!==ds;){var w=ds.effectTag;if(16&w&&cr(ds.stateNode,""),128&w){var O=ds.alternate;if(null!==O){var A=O.ref;null!==A&&("function"==typeof A?A(null):A.current=null)}}switch(14&w){case 2:Fa(ds),ds.effectTag&=-3;break;case 6:Fa(ds),ds.effectTag&=-3,Ba(ds.alternate,ds);break;case 4:Ba(ds.alternate,ds);break;case 8:ja(b=ds,E),b.return=null,b.child=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null;var I=b.alternate;null!==I&&(I.return=null,I.child=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null)}ds=ds.nextEffect}}catch(t){if(null===ds)throw a(Error(330));Ks(ds,t),ds=ds.nextEffect}}while(null!==ds);if(A=Er,O=Gn(),w=A.focusedElem,E=A.selectionRange,O!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==E&&Wn(w)&&(O=E.start,void 0===(A=E.end)&&(A=O),"selectionStart"in w?(w.selectionStart=O,w.selectionEnd=Math.min(A,w.value.length)):(A=(O=w.ownerDocument||document)&&O.defaultView||window).getSelection&&(A=A.getSelection(),b=w.textContent.length,I=Math.min(E.start,b),E=void 0===E.end?I:Math.min(E.end,b),!A.extend&&I>E&&(b=E,E=I,I=b),b=Vn(w,I),T=Vn(w,E),b&&T&&(1!==A.rangeCount||A.anchorNode!==b.node||A.anchorOffset!==b.offset||A.focusNode!==T.node||A.focusOffset!==T.offset)&&((O=O.createRange()).setStart(b.node,b.offset),A.removeAllRanges(),I>E?(A.addRange(O),A.extend(T.node,T.offset)):(O.setEnd(T.node,T.offset),A.addRange(O))))),O=[];for(A=w;A=A.parentNode;)1===A.nodeType&&O.push({element:A,left:A.scrollLeft,top:A.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<O.length;w++)(A=O[w]).element.scrollLeft=A.left,A.element.scrollTop=A.top}Er=null,kn=!!gr,gr=null,t.current=n,ds=i;do{try{for(w=r;null!==ds;){var N=ds.effectTag;if(36&N){var C=ds.alternate;switch(A=w,(O=ds).tag){case 0:case 11:case 15:Da(vo,mo,O);break;case 1:var P=O.stateNode;if(4&O.effectTag)if(null===C)P.componentDidMount();else{var L=O.elementType===O.type?C.memoizedProps:_i(O.type,C.memoizedProps);P.componentDidUpdate(L,C.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var k=O.updateQueue;null!==k&&Mi(0,k,P);break;case 3:var D=O.updateQueue;if(null!==D){if(I=null,null!==O.child)switch(O.child.tag){case 5:I=O.child.stateNode;break;case 1:I=O.child.stateNode}Mi(0,D,I)}break;case 5:var x=O.stateNode;null===C&&4&O.effectTag&&(A=x,br(O.type,O.memoizedProps)&&A.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&N){var M=ds.ref;if(null!==M){var U=ds.stateNode;switch(ds.tag){case 5:var F=U;break;default:F=U}"function"==typeof M?M(F):M.current=F}}512&N&&(ms=!0),ds=ds.nextEffect}}catch(t){if(null===ds)throw a(Error(330));Ks(ds,t),ds=ds.nextEffect}}while(null!==ds);ds=null,ei(),rs=o}else t.current=n;if(ms)ms=!1,gs=t,bs=r,Es=e;else for(ds=i;null!==ds;)e=ds.nextEffect,ds.nextEffect=null,ds=e;if(0!==(e=t.firstPendingTime)?Ps(t,N=di(N=Os(),e),e):vs=null,"function"==typeof zs&&zs(n.stateNode,r),1073741823===e?t===Rs?Ss++:(Ss=0,Rs=t):Ss=0,_s)throw _s=!1,t=ys,ys=null,t;return(rs&Xa)!==za?null:(pi(),null)}.bind(null,t,e)),null!==gs&&li(97,function(){return Ws(),null}),null}function Ws(){if(null===gs)return!1;var t=gs,e=bs,n=Es;return gs=null,bs=0,Es=90,ci(97<n?97:n,function(t){if((rs&(Qa|Ja))!==za)throw a(Error(331));var e=rs;for(rs|=Ja,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Da(Eo,po,n),Da(po,go,n)}}catch(e){if(null===t)throw a(Error(330));Ks(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return rs=e,pi(),!0}.bind(null,t,e))}function Hs(t,e,n){Pi(t,e=Wa(t,e=Ca(n,e),1073741823)),null!==(t=Cs(t,1073741823))&&Ps(t,99,1073741823)}function Ks(t,e){if(3===t.tag)Hs(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Hs(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===vs||!vs.has(r))){Pi(n,t=Ha(n,t=Ca(e,t),1073741823)),null!==(n=Cs(n,1073741823))&&Ps(n,99,1073741823);break}}n=n.return}}function qs(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),is===t&&as===n?ss===es||ss===ts&&1073741823===us&&ai()-ps<hs?Us(t,as):fs=!0:t.lastPendingTime<n||0!==(e=t.pingTime)&&e<n||(t.pingTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),Ps(t,e=di(e=Os(),n),n))}var Ys=void 0;Ys=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||Lr.current)ua=!0;else if(r<n){switch(ua=!1,e.tag){case 3:va(e),aa();break;case 5:if(oo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:xr(e.type)&&Br(e);break;case 4:ro(e,e.stateNode.containerInfo);break;case 10:bi(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?ga(t,e,n):(Nr(lo,lo.current&so),null!==(e=Ta(t,e,n))?e.sibling:null);Nr(lo,lo.current&so);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return ba(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),Nr(lo,lo.current),!r)return null}return Ta(t,e,n)}}else ua=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Dr(e,Pr.current),Ri(e,n),i=Uo(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,Fo(),xr(r)){var o=!0;Br(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Bi(e,r,s,t),i.updater=Vi,e.stateNode=i,i._reactInternalFiber=e,Ki(e,r,t,n),e=ya(null,e,r,!0,o,n)}else e.tag=0,ca(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:switch(t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._status){case 1:return t._result;case 2:throw t._result}throw t._result=e,e}}(i),e.type=i,o=e.tag=function(t){if("function"==typeof t)return $s(t)?1:0;if(null!=t){if((t=t.$$typeof)===ne)return 11;if(t===oe)return 14}return 2}(i),t=_i(i,t),o){case 0:e=da(null,e,i,t,n);break;case 1:e=_a(null,e,i,t,n);break;case 11:e=la(null,e,i,t,n);break;case 14:e=fa(null,e,i,_i(i.type,t),r,n);break;default:throw a(Error(306),i,"")}return e;case 0:return r=e.type,i=e.pendingProps,da(t,e,r,i=e.elementType===r?i:_i(r,i),n);case 1:return r=e.type,i=e.pendingProps,_a(t,e,r,i=e.elementType===r?i:_i(r,i),n);case 3:if(va(e),null===(r=e.updateQueue))throw a(Error(282));return i=null!==(i=e.memoizedState)?i.element:null,xi(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(aa(),e=Ta(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(Zo=wr(e.stateNode.containerInfo.firstChild),$o=e,i=ta=!0),i?(e.effectTag|=2,e.child=Ji(e,null,r,n)):(ca(t,e,r,n),aa()),e=e.child),e;case 5:return oo(e),null===t&&ra(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Tr(r,i)?s=null:null!==o&&Tr(r,o)&&(e.effectTag|=16),ha(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(ca(t,e,s,n),e=e.child),e;case 6:return null===t&&ra(e),null;case 13:return ga(t,e,n);case 4:return ro(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Qi(e,null,r,n):ca(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,la(t,e,r,i=e.elementType===r?i:_i(r,i),n);case 7:return ca(t,e,e.pendingProps,n),e.child;case 8:case 12:return ca(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,bi(e,o=i.value),null!==s){var u=s.value;if(0==(o=tn(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Lr.current){e=Ta(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=Ni(n,null)).tag=2,Pi(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Si(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}ca(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,Ri(e,n),r=r(i=wi(i,o.unstable_observedBits)),e.effectTag|=1,ca(t,e,r,n),e.child;case 14:return o=_i(i=e.type,e.pendingProps),fa(t,e,i,o=_i(i.type,o),r,n);case 15:return pa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_i(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,xr(r)?(t=!0,Br(e)):t=!1,Ri(e,n),Wi(e,r,i),Ki(e,r,i,n),ya(null,e,r,!0,t,n);case 19:return ba(t,e,n)}throw a(Error(156))};var zs=null,Xs=null;function Qs(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Js(t,e,n,r){return new Qs(t,e,n,r)}function $s(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Zs(t,e){var n=t.alternate;return null===n?((n=Js(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)$s(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case Qt:return eu(n.children,i,o,e);case ee:s=8,i|=7;break;case Jt:s=8,i|=1;break;case $t:return(t=Js(12,n,e,8|i)).elementType=$t,t.type=$t,t.expirationTime=o,t;case re:return(t=Js(13,n,e,i)).type=re,t.elementType=re,t.expirationTime=o,t;case ie:return(t=Js(19,n,e,i)).elementType=ie,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case Zt:s=10;break t;case te:s=9;break t;case ne:s=11;break t;case oe:s=14;break t;case ae:s=16,r=null;break t}throw a(Error(130),null==t?t:typeof t,"")}return(e=Js(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function eu(t,e,n,r){return(t=Js(7,t,r,e)).expirationTime=n,t}function nu(t,e,n){return(t=Js(6,t,null,e)).expirationTime=n,t}function ru(t,e,n){return(e=Js(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function ou(t,e,n){return t=new iu(t,e,n),e=Js(3,null,null,2===e?7:1===e?3:0),t.current=e,e.stateNode=t}function au(t,e,n,r,i,o){var s=e.current;t:if(n){e:{if(2!==on(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(xr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(xr(c)){n=jr(n,c,u);break t}}n=u}else n=Cr;return null===e.context?e.context=n:e.pendingContext=n,e=o,(i=Ni(r,i)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),Pi(s,i),Ns(s,r),r}function su(t,e,n,r){var i=e.current,o=Os(),a=Fi.suspense;return au(t,e,n,i=As(o,i,a),a,r)}function uu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function cu(t){var e=1073741821-25*(1+((1073741821-Os()+500)/25|0));e<=Is&&--e,this._expirationTime=Is=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function lu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function fu(t,e,n){this._internalRoot=ou(t,e,n)}function pu(t,e){this._internalRoot=ou(t,2,e)}function hu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function du(t,e,n,r,i){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var t=uu(a);s.call(t)}}su(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new fu(t,0,e)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=uu(a);u.call(t)}}Ms(function(){su(e,a,t,i)})}return uu(a)}function _u(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!hu(e))throw a(Error(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Ot=function(t,e,n){switch(e){case"input":if(Re(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=F(r);if(!i)throw a(Error(90));Ht(r),Re(r,i)}}}break;case"textarea":nr(t,n);break;case"select":null!=(e=n.value)&&Zn(t,!!n.multiple,e,!1)}},cu.prototype.render=function(t){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new lu;return au(t,e,null,n,null,r._onCommit),r},cu.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},cu.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(!this._defer||null===e)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=e,t.firstBatch=this}if(this._defer=!1,e=n,(rs&(Qa|Ja))!==za)throw a(Error(253));fi(Fs.bind(null,t,e)),pi(),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},cu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},lu.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},lu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)throw a(Error(191),n);n()}}},pu.prototype.render=fu.prototype.render=function(t,e){var n=this._internalRoot,r=new lu;return null!==(e=void 0===e?null:e)&&r.then(e),su(t,n,null,r._onCommit),r},pu.prototype.unmount=fu.prototype.unmount=function(t){var e=this._internalRoot,n=new lu;return null!==(t=void 0===t?null:t)&&n.then(t),su(null,e,null,n._onCommit),n},pu.prototype.createBatch=function(){var t=new cu(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Lt=Ds,kt=xs,Dt=ks,xt=function(t,e){var n=rs;rs|=2;try{return t(e)}finally{(rs=n)===za&&pi()}};var yu,vu,mu={createPortal:_u,findDOMNode:function(t){if(null==t)t=null;else if(1!==t.nodeType){var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw a(Error(188));throw a(Error(268),Object.keys(t))}t=null===(t=sn(e))?null:t.stateNode}return t},hydrate:function(t,e,n){if(!hu(e))throw a(Error(200));return du(null,t,e,!0,n)},render:function(t,e,n){if(!hu(e))throw a(Error(200));return du(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){if(!hu(n))throw a(Error(200));if(null==t||void 0===t._reactInternalFiber)throw a(Error(38));return du(t,e,n,!1,r)},unmountComponentAtNode:function(t){if(!hu(t))throw a(Error(40));return!!t._reactRootContainer&&(Ms(function(){du(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return _u.apply(void 0,arguments)},unstable_batchedUpdates:Ds,unstable_interactiveUpdates:function(t,e,n,r){return ks(),xs(t,e,n,r)},unstable_discreteUpdates:xs,unstable_flushDiscreteUpdates:ks,flushSync:function(t,e){if((rs&(Qa|Ja))!==za)throw a(Error(187));var n=rs;rs|=1;try{return ci(99,t.bind(null,e))}finally{rs=n,pi()}},unstable_createRoot:function(t,e){if(!hu(t))throw a(Error(299),"unstable_createRoot");return new pu(t,null!=e&&!0===e.hydrate)},unstable_createSyncRoot:function(t,e){if(!hu(t))throw a(Error(299),"unstable_createRoot");return new fu(t,1,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=rs;rs|=1;try{ci(99,t)}finally{(rs=e)===za&&pi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[M,U,F,C.injectEventPluginsByName,p,H,function(t){O(t,W)},Ct,Pt,Mn,N,Ws,{current:!1}]}};vu=(yu={findFiberByHostInstance:x,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);zs=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Xs=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},yu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=sn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return vu?vu(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var gu={default:mu},Eu=gu&&mu||gu;t.exports=Eu.default||Eu},"A/eZ":function(t,e,n){"use strict";var r=n("upWy"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=n("nrnY");o.inherits=n("wfEq");var a=n("B0Cl"),s=n("g+31");o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},A1vi:function(t,e,n){"use strict";var r=n("TV+k");t.exports=function(){return{name:"context_sdk",data:{version_name:r.version}}}},AEdO:function(t,e,n){var r=n("+J7U"),i=n("2tSK"),o=i;o.v1=r,o.v4=i,t.exports=o},ANQQ:function(t,e,n){(function(e,r,i){var o=n("eoLT"),a=n("wfEq"),s=n("3mKH"),u=n("5Ekh"),c=n("NY/1"),l=s.IncomingMessage,f=s.readyStates,p=t.exports=function(t){var n,r=this;u.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":o.vbArray&&t?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};a(p,u.Writable),p.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===h.indexOf(n)&&(this._headers[n]={name:t,value:e})},p.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},p.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},p.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,a=t._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=o.arraybuffer?c(e.concat(t._body)):o.blobConstructor?new r.Blob(t._body.map(function(t){return c(t)}),{type:(a["content-type"]||{}).value||""}):e.concat(t._body).toString());var u=[];if(Object.keys(a).forEach(function(t){var e=a[t].name,n=a[t].value;Array.isArray(n)?n.forEach(function(t){u.push([e,t])}):u.push([e,n])}),"fetch"===t._mode){var l=null;if(o.abortController){var p=new AbortController;l=p.signal,t._fetchAbortController=p,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=r.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},n.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then(function(e){t._fetchResponse=e,t._connect()},function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var h=t._xhr=new r.XMLHttpRequest;try{h.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}"responseType"in h&&(h.responseType=t._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(h.timeout=n.requestTimeout,h.ontimeout=function(){t.emit("requestTimeout")}),u.forEach(function(t){h.setRequestHeader(t[0],t[1])}),t._response=null,h.onreadystatechange=function(){switch(h.readyState){case f.LOADING:case f.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(h.onprogress=function(){t._onXHRProgress()}),h.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{h.send(s)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}}}},p.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},p.prototype._connect=function(){var t=this;t._destroyed||(t._response=new l(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},p.prototype._write=function(t,e,n){this._body.push(t),n()},p.prototype.abort=p.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},p.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),u.Writable.prototype.end.call(this,t,e,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("qykS").Buffer,n("pCvA"),n("5IsQ"))},AQPL:function(t,e,n){var r=n("+IV6");t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},AWLF:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("wrle"),o=n("lIgl"),a=n("dcjB"),s=n("qG8n"),u=n("asuC"),c=n("Gm6p"),l=n("ZaFu"),f=n("WSLi"),p=n("Lc1h"),h=n("1Wwy"),d=n("6w3l"),_=n("P1TA"),y=n("pPJX"),v=n("nEgm"),m=n("eXcQ"),g=n("uDox").forTag("transport.transport"),E=/^(?:https?:\/\/)?@([^\/]+)\//,b=/^(ws|http)s?:\/\/.*[^\/]$/,T=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,S={fetch:!0,xhr:!0};function R(t){if(!t)throw new TypeError("Argument `config` for Transport cannot be null.");if(!t.providers)throw new TypeError("Argument `config.providers` for Transport cannot be null.");s.call(this),this._ownerRef="ownerRef"in t?Object(t.ownerRef):{},this._tokenProvider=t.providers.token,this._endpointsProvider=t.providers.endpoints,this._HTTP=t.HTTP,this._Fetch=t.Fetch,this._WebSocket=t.WebSocket,this._reconnectionRetries=t.reconnectionRetries>=0?t.reconnectionRetries:3,this._requestMode=t.requestMode in S?t.requestMode:"xhr",this._forcePolyfillTypes=t.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in t&&t.disableAutoLogout,this._activated=!1,this._dealer=null,this._connectionObserver=null,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=!1,this._reconnectTimeout=null,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._disconnectBeforeUnload=t.disconnectBeforeUnload||!1,this._counter=new a(t.backoffStrategy||{algo:"exp",baseTime:5e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[]},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null},this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._init()}r(R,s),R.create=function(t){return new R(t)},R.prototype._init=function(){this.onAddListener(_.TRANSPORT_CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(_.TRANSPORT_AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(_.TRANSPORT_CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(_.TRANSPORT_CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(_.TRANSPORT_AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(_.TRANSPORT_CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),"fetch"!==this._requestMode||this._Fetch.isSupported()||(g.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");var t=new l({WebSocket:this._WebSocket});this._dealer=t,t.on(_.DEALER_DISCONNECTED,this._onDealerDisconnected.bind(this)),this._disableAutoLogout||this.matchMessages("client:logout",this._onLogout.bind(this)),this.proxyEmit(t,_.DEALER_CONNECTION_ID,_.TRANSPORT_CONNECTION_ID),this.proxyEmitSync(t,_.DEALER_MESSAGE,_.INTERNAL_DEALER_MESSAGE),this.proxyEmitSync(t,_.DEALER_REQUEST,_.INTERNAL_DEALER_REQUEST),this._connectionObserver=new f({notifyBeforeUnload:this._disconnectBeforeUnload}),this._connectionObserver.on(_.CONNECTION_ONLINE,this._onOnline.bind(this)),this._connectionObserver.on(_.CONNECTION_OFFLINE,this._onOffline.bind(this)),this._connectionObserver.on(_.WINDOW_BEFORE_UNLOAD,this.disconnect.bind(this))},R.prototype._onAddListener=function(t,e){if(!e.options.ignoreCurrentState){var n=null;switch(t){case"connected":if(!this.isConnected())return;n=u.resolve(s.createEvent(_.TRANSPORT_CONNECTED));break;case"authenticated":if(!this.isAuthenticated())return;n=u.resolve(s.createEvent(_.TRANSPORT_AUTHENTICATED));break;case"connection_id":if(!this._dealer.hasConnectionId())return;n=this._dealer.getConnectionInfo().then(function(t){return s.createEvent(_.TRANSPORT_CONNECTION_ID,t)});break;default:return}var r=e.listener;this._stateAwareListeners[t].push(r);var i=this._stateAwareRunners;i[t]||(i[t]=n.then(this._runStateAwareQueues.bind(this,t)),e.options.once&&e.preventDefault())}},R.prototype._onRemoveListener=function(t,e){if(!e.options.ignoreCurrentState){var n=e.listener,r=this._stateAwareListeners[t].indexOf(n);-1!==r&&this._stateAwareListeners[t].splice(r,1)}},R.prototype._runStateAwareQueues=function(t,e){for(var n=this._stateAwareListeners[t].splice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);this._stateAwareRunners[t]=null},R.prototype._onDealerDisconnected=function(t){var e=Date.now(),n=e-this._lastDisconnect;this._disconnect(!0),t.wsCode!==m.CLOSE?this._connectionObserver.isOnline()&&(n<5e3?(this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(_.TRANSPORT_SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n})),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._counter.getTime(this._quickDisconnectCount))):(this._quickDisconnectCount=0,this._lastDisconnect=e,this._tryToReconnect())):this._quickDisconnectCount=0},R.prototype._onLogout=function(){var t=function(){this._lastToken=null,this._lastTokenExpiry=0,this.emit(_.TRANSPORT_LOGGED_OUT)}.bind(this);this.disconnect().then(t,t)},R.prototype._onAuthenticated=function(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=4,this._initTime=Date.now(),this.emit(_.TRANSPORT_AUTHENTICATED),u.resolve(!0)},R.prototype._onAuthenticationFailed=function(t){var e=t&&t.error?t.error:t;return this._authenticationPromise=null,this._stateMask&=-5,this.emit(_.TRANSPORT_AUTHENTICATION_FAILED,{error:e}),u.reject(e)},R.prototype._onOffline=function(){this.emit(_.TRANSPORT_CONNECTION_OFFLINE),this._disconnect(!0)},R.prototype._onOnline=function(){this.emit(_.TRANSPORT_CONNECTION_ONLINE),this._activated&&this._tryToReconnect()},R.prototype._tryToReconnect=function(){this._isReconnecting||(this._stateMask=0,o.init(this._createReconnector(),{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(function(){this._stateMask=0,this._isReconnecting=!1,this.emit(_.TRANSPORT_DISCONNECTED)}.bind(this)))},R.prototype._createReconnector=function(){var t=!0;return function(){return this._isReconnecting=!0,this.emit(_.TRANSPORT_RECONNECTING),this._disconnect(!0),this._connect().then(function(){return this._authenticate(t).then(function(e){return t=!1,e},function(e){return t=!0,u.reject(e)})}.bind(this)).then(function(){return this._isReconnecting=!1,this.emit(_.TRANSPORT_RECONNECTED),!0}.bind(this))}.bind(this)},R.prototype._connect=function(){return 1&this._stateMask?u.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new u(function(t,e){this._connectionObserver.once(_.CONNECTION_ONLINE,function(){this._performConnect().then(t,e)}.bind(this))}.bind(this))},R.prototype._performConnect=function(){return new u(function(t){t(this._endpointsProvider(this.toPublic()))}.bind(this)).catch(function(t){if(!t||t.code)return u.reject(t);var e=new v(y.TRANSPORT_ENDPOINTS_PROVIDER_ERROR,t.message||"Endpoints provider error.");return e.origin=e,u.reject(e)}).then(this._connectToEndpoints.bind(this)).catch(function(t){var e=t&&t.error?t.error:t;return this.emit(_.TRANSPORT_CONNECTION_FAILED,{error:e}),u.reject(e)}.bind(this))},R.prototype._connectToEndpoints=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)&&t[n]){var r=t[n];b.test(r)&&(r+="/"),e[n]=r}this._endpoints=e,this.emit(_.TRANSPORT_ENDPOINTS_RESOLVED,{endpoints:i({},this._endpoints)});var o=function(){return this._stateMask|=1,this.emit(_.TRANSPORT_CONNECTED),u.resolve(!0)}.bind(this);return t.dealer?this._dealer.connect(e.dealer).then(o):o()},R.prototype._disconnect=function(t){return this._stateMask=0,this._dealer.disconnect(),t||this.emit(_.TRANSPORT_DISCONNECTED),!0},R.prototype._refreshToken=function(t){if(!this._refreshTokenPromise){if(!t&&Date.now()<this._lastTokenExpiry)return u.resolve(this._lastToken);var e=function(){this._refreshTokenPromise=null}.bind(this);this._refreshTokenPromise=new u(function(t){t(this._tokenProvider())}.bind(this)).then(this._parseProvidedToken),this._refreshTokenPromise.then(e,e)}return this._refreshTokenPromise},R.prototype._parseProvidedToken=function(t){var e,n;if(Array.isArray(t)?(e=t[0],n=parseInt(t[1]||3540,10)):(e=t,n=3540),!e)throw this._lastToken=null,this._lastTokenExpiry=0,new v(y.TRANSPORT_INVALID_TOKEN,"Token provider returned an invalid token: "+e);return this._lastToken=e,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(_.TRANSPORT_ACCESS_TOKEN,{token:e}),e},R.prototype._authenticateWithToken=function(t){return this._endpoints.dealer?this._dealer.authenticate(t):u.resolve(!0)},R.prototype._tryExpandSpecialURL=function(t){var e=this._endpoints;return t.replace(E,function(t,n){if(!e.hasOwnProperty(n))throw new TypeError("Cannot replace endpoint @"+n+"; Endpoint undefined.");return e[n]})},R.prototype._processRequestArgs=function(t,e){return new u(function(n){var r=t,o=e||{},a={algo:"exp",maxRetries:2};E.test(r)&&(r=this._tryExpandSpecialURL(r),"authorize"in o||(o.authorize=!0)),o.forcePolyfill=o.responseType in this._forcePolyfillTypes,o.requestMode||(o.requestMode=this._requestMode),"retry"in o&&i(a,o.retry),o.connectionObserver=this._connectionObserver,"metadata"in o||(o.metadata=null),n({url:r,args:o,backoffStrategy:a})}.bind(this))},R.prototype._setAuthHeader=function(t,e){if(!t.authorize)return u.resolve(t);var n=function(){return this._refreshToken(e).then(function(e){return t.headers||(t.headers={}),t.headers.Authorization="Bearer "+e,t})}.bind(this);return 4&this._stateMask?n():new u(function(t,e){this.once("authenticated",function(){n().then(t,e)})}.bind(this))},R.prototype._sendRetriedRequest=function(t){var e=t.backoffStrategy,n=!1,r=function(){return this._setAuthHeader(t.args,n)}.bind(this),i=this._connectionObserver,a=function(){return(i.isOnline()?r():new u(function(e,n){t.args.allowOffline?r().then(e,n):i.once(_.CONNECTION_ONLINE,function(){r().then(e,n)})})).then(function(){return"fetch"===t.args.requestMode&&this._Fetch.isSupported()?this._Fetch.request(t.url,t.args):this._HTTP.request(t.url,t.args)}.bind(this)).then(function(r){var i;if(r.headers&&(i=r.headers.get("Retry-After")),r.status===h.UNAUTHORIZED&&!t.args.ignoreUnauthorized)return n=!0,u.reject(r);if("function"==typeof e.condition&&(e.condition(r,d)||i)){var o=parseInt(i,10);return T.test(i)?r.retryAfter=new Date(i).getTime()-Date.now():o>0&&(r.retryAfter=1e3*o),u.reject(r)}return r})}.bind(this);return o.init(a,e).catch(this._handleRetriedRequestError).then(function(e){return e.metadata=t.args.metadata,t.args.rejectNotOk&&!e.ok?u.reject(e):e})},R.prototype._handleRetriedRequestError=function(t){return t instanceof p?u.resolve(t):u.reject(t)},R.prototype._sendFireAndForgetRequest=function(t){return"function"==typeof e.fetch?e.fetch(t,{mode:"no-cors"}).catch(function(){}):e.Image?(new e.Image).src=t:this.request(t,{requestMode:"xhr",method:"GET",authorize:!1,ignoreResponseBody:!0}),u.resolve(new p(t,0))},R.prototype._sendRequest=function(t,e){return this._processRequestArgs(t,e).then(function(t){return t.args.forget?this._sendFireAndForgetRequest(t.url):this._sendRetriedRequest(t)}.bind(this))},R.prototype.getEndpoints=function(){return i({},this._endpoints)},R.prototype.getInitTime=function(){return this._initTime},R.prototype.getLastToken=function(){return this._lastToken},R.prototype.getConnectionId=function(){return this._dealer.getConnectionId()},R.prototype.isConnected=function(){return!!(1&this._stateMask)},R.prototype.isAuthenticated=function(){return!!(4&this._stateMask)},R.prototype.isOnline=function(){return this._connectionObserver.isOnline()},R.prototype.forceTokenRefresh=function(){return this._refreshToken(!0).then(function(){return!0})},R.prototype.connect=function(){return this._activated=!0,this._connect()},R.prototype.disconnect=function(){if(!this._activated)return u.resolve(!1);this._activated=!1;var t=this.isConnected()?_.TRANSPORT_BEFORE_ONLINE_DISCONNECT:_.TRANSPORT_BEFORE_OFFLINE_DISCONNECT,e=[];return this.emitSync(t,{awaitPromise:function(t){e.push(t)}}),u.all(e).then(this._disconnect.bind(this,!1))},R.prototype.forceDisconnect=function(){return this._activated?(this._activated=!1,this._disconnect(),u.resolve(!0)):u.resolve(!1)},R.prototype._authenticate=function(t){return this._authenticationPromise||(this._authenticationPromise=o.init(function(){return this._refreshToken(t).catch(function(t){if(!t||t.code)return u.reject(t);var e=new v(y.TRANSPORT_TOKEN_PROVIDER_ERROR,t.message||"Token provider error.");return e.origin=e,u.reject(e)}).then(this._authenticateWithToken.bind(this))}.bind(this),{algo:"exp",maxRetries:2,baseTime:500}).then(this._onAuthenticated).catch(this._onAuthenticationFailed)),this._authenticationPromise},R.prototype.authenticate=function(){return this._authenticate(!0)},R.prototype.request=function(t,e){var n=this._sendRequest.bind(this,t,e);return this._connectionObserver.isOnline()&&(!E.test(t)||1&this._stateMask)?n():new u(function(t,e){this.once("connected",function(){n().then(t,e)})}.bind(this))},R.prototype.matchMessages=function(t,e){if(!t)throw new TypeError('Dealer message "matcher" cannot be null.');if("function"!=typeof e)throw new TypeError("Dealer message callback cannot be null.");var n=function(n){var r=n.data;r.uri&&r.uri.match(t)&&e(r)};n.__matchMessagesExp=t,e.__matchMessagesWrapper=n,this.on(_.INTERNAL_DEALER_MESSAGE,n)},R.prototype.unmatchMessages=function(t,e){if("function"!=typeof e)throw new TypeError("Dealer message callback cannot be null.");var n=e.__matchMessagesWrapper;return n.__matchMessagesExp===t&&(this.removeListener(_.INTERNAL_DEALER_MESSAGE,n),!0)},R.prototype.handlePushRequests=function(t,e){if(!t)throw new TypeError('Dealer push request "matcher" cannot be null.');if("function"!=typeof e)throw new TypeError("Dealer push request callback cannot be null.");var n=function(n){var r=n.data;r.message_ident&&r.message_ident.match(t)&&u.resolve(e(r)).then(n.reply)};n.__matchRequestExp=t,e.__matchRequestWrapper=n,this.on(_.INTERNAL_DEALER_REQUEST,n)},R.prototype.unhandlePushRequests=function(t,e){if("function"!=typeof e)throw new TypeError("Dealer push request callback cannot be null.");var n=e.__matchRequestWrapper;return n.__matchRequestWrapper===t&&(this.removeListener(_.INTERNAL_DEALER_REQUEST,n),!0)},R.prototype.toPublic=function(){return new c(this)},R.prototype.hasOwnerRef=function(t){return this._ownerRef===t},t.exports=R}).call(this,n("pCvA"))},AzgF:function(t,e,n){"use strict";var r=n("63Ad"),i=n("vdEC");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("mXGw")),a=(r(n("W0B4")),r(n("uv3J"))),s=(r(n("S+Ue")),function(t){return o.createElement(a.default.Provider,{value:t.resolver},t.children)});e.default=s},B0Cl:function(t,e,n){"use strict";(function(e,r){var i=n("upWy");t.exports=g;var o,a=n("kah5");g.ReadableState=m,n("hBZP").EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n("n428"),c=n("pRMk").Buffer,l=e.Uint8Array||function(){},f=n("nrnY");f.inherits=n("wfEq");var p=n(1),h=void 0;h=p&&p.debuglog?p.debuglog("stream"):function(){};var d,_=n("IPtZ"),y=n("xTpk");f.inherits(g,u);var v=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var r=e instanceof(o=o||n("A/eZ"));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n("soc2").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function g(t){if(o=o||n("A/eZ"),!(this instanceof g))return new g(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function E(t,e,n,r,i){var o,a=t._readableState;return null===e?(a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,R(t)}}(t,a)):(i||(o=function(t,e){var n,r;return r=e,c.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):b(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?b(t,a,e,!1):O(t,a)):b(t,a,e,!1))):r||(a.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function b(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&R(t)),O(t,e)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),g.prototype.destroy=y.destroy,g.prototype._undestroy=y.undestroy,g.prototype._destroy=function(t,e){this.push(null),e(t)},g.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),E(this,t,e,!1,n)},g.prototype.unshift=function(t){return E(this,t,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(t){return d||(d=n("soc2").StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var T=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(w,t):w(t))}function w(t){h("emit readable"),t.emit("readable"),C(t)}function O(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function I(t){h("readable nexttick read 0"),t.read(0)}function N(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function P(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0==(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0==(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(k,e,t))}function k(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function D(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}g.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):R(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&L(this),null;var r,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",i=!0),e.ended||e.reading?h("reading or ended",i=!1):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(n,e))),null===(r=t>0?P(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==r&&this.emit("data",r),r},g.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,e);var u=e&&!1===e.end||t===r.stdout||t===r.stderr?m:c;function c(){h("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",function e(r,i){h("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),t.removeListener("close",y),t.removeListener("finish",v),t.removeListener("drain",l),t.removeListener("error",_),t.removeListener("unpipe",e),n.removeListener("end",c),n.removeListener("end",m),n.removeListener("data",d),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())});var l=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,C(t))}}(n);t.on("drain",l);var f=!1,p=!1;function d(e){h("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==D(o.pipes,t))&&!f&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function _(e){h("onerror",e),m(),t.removeListener("error",_),0===s(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",v),m()}function v(){h("onfinish"),t.removeListener("close",y),m()}function m(){h("unpipe"),n.unpipe(t)}return n.on("data",d),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",_),t.once("close",y),t.once("finish",v),t.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),t},g.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=D(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},g.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&R(this):i.nextTick(I,this))}return n},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(N,t,e))}(this,t)),this},g.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){h("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=P}).call(this,n("pCvA"),n("5IsQ"))},BDEe:function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}},BU6D:function(t,e,n){"use strict";(function(e){var r=n("asuC"),i=n("/ub/"),o=n("F9Td"),a=n("qt0y"),s=n("FtDD"),u=n("FSw7");function c(t){var e=t||{};this._keySystem=t.keySystem,this._keySystemSettings=u[this._keySystem],this._mediaType="video",this._loaded=!1,this._transport=t.transport,this._videoCodec=t.videoCodec||"vp8",this._videoMimeType=t.videoMimeType||"video/webm",this._audioCodec=t.audioCodec||"opus",this._audioMimeType=t.audioMimeType||"audio/webm",this._isAd=t.isAd,this._fileId=t.fileId,this._fragments=[],this._segmentLength=0,this._subtitleLanguages=[],this._duration=0,this._initFragment=null,this._videoProfile=null,this._videoProfiles=[],this._audioProfile=null,this._protection=null,this._psshBox=null,this._resolver=e.resolver,this._abrManager=e.abrManager,this._resolvedURLs=[],this._baseURL="",this._fallbackURLs=[],this._initTemplate="",this._segmentTemplate="",this._disableCache=t.disableCache,this._licenseEndpoint=t.licenseEndpoint||null}c.create=function(t){return new c(t||{})},c.prototype._constructAudioMimeType=function(t){return t.mime_type+';codecs="'+t.audio_codec+'"'},c.prototype._constructVideoMimeType=function(t){return t.mime_type+';codecs="'+t.video_codec+'"'},c.prototype.abort=function(){},c.prototype._calculateFragments=function(t){this._duration=t.end_time_millis/1e3;var e=this._segmentLength;this._initFragment={init:!0,cacheBuffer:!this._disableCache,bitrate:0,quality:0,audio:{bufferURL:null,buffer:null,codec:this._constructAudioMimeType(this._audioProfile)},video:{bufferURL:null,buffer:null,codec:this._constructVideoMimeType(this._videoProfile)}};for(var n=0;n<this._duration;n+=e)this._fragments.push({bitrate:0,cacheBuffer:!n&&!this._disableCache,timeStart:n,timeEnd:n+e,quality:0,fetchingBufferPromise:null,audio:{bufferURL:null,buffer:null,codec:this._constructAudioMimeType(this._audioProfile)},video:{bufferURL:null,buffer:null,codec:this._constructVideoMimeType(this._videoProfile)}})},c.prototype._calculateVariants=function(t,e){for(var n=this._videoCodec,r=this._videoMimeType,i=this._audioCodec,o=this._audioMimeType,a=[],s=[],u=0,c=t.length;u<c;u++){var l=t[u];l.video_codec===n&&l.mime_type===r&&l.encryption_index===e?a.push(l):l.audio_codec===i&&l.mime_type===o&&l.encryption_index===e&&s.push(l)}this._videoProfiles=this._sortByProfilesByBitrate(a),this._audioProfiles=s},c.prototype._sortByProfilesByBitrate=function(t){return t.sort(function(t,e){return t.max_bitrate-e.max_bitrate})},c.prototype._constructFragmentURL=function(t){return t.init?this._resolver.getInitSegmentURLs(this._baseURL,this._initTemplate,this._audioProfile,this._videoProfile):this._resolver.getSegmentURLs(this._baseURL,this._segmentTemplate,t.timeStart,this._audioProfile,this._videoProfile)},c.prototype._fetchBufferForFragment=function(t){if(!t.fetchingBufferPromise){var e=Date.now(),n=this._videoProfile.video_resolution,i={method:"GET",responseType:"arraybuffer",timing:!0,retry:{condition:function(t,e){if(0===t.status)return!0;var n=t.getStatusFamily();return n===e.CONNECTION_ERROR||n===e.SERVER_ERROR}}},o=this._constructFragmentURL(t);t.fetchingBufferPromise=r.all([this._transport.request(o.audio,i).then(this._parseFragmentResponse.bind(this,t,"audio")),this._transport.request(o.video,i).then(this._parseFragmentResponse.bind(this,t,"video"))]).spread(function(r,i){return t.quality=n,t.bitrate=this._videoProfile.video_bitrate,t.cacheBuffer&&(t.audio.buffer=r.buffer,t.audio.bufferURL=o.audioLogging,t.video.buffer=i.buffer,t.video.bufferURL=o.videoLogging),t.fetchingBufferPromise=null,this._abrManager.sample(r.buffer.byteLength+i.buffer.byteLength,Date.now()-e),this._updateVariants(),{audio:{bufferURL:o.audioLogging,buffer:r.buffer,codec:t.audio.codec,bandwidth:r.bandwidth},video:{bufferURL:o.videoLogging,buffer:i.buffer,codec:t.video.codec,bandwidth:i.bandwidth}}}.bind(this)).catch(function(e){return t.fetchingBufferPromise=null,r.reject(e)})}return t.fetchingBufferPromise},c.prototype._parseFragmentResponse=function(t,e,n){var i=t.timeStart+"-"+t.timeEnd,s=t[e]?t[e].codec:null;switch(n.status){case 0:return r.reject(new o(a.FRAGMENT_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{time_range:i,codec:s,quality:t.quality}));case 200:case 206:return n.body?r.resolve({buffer:n.body,bandwidth:8e3*n.body.byteLength/n.timing.completed}):r.reject(new o(a.FRAGMENT_REQUEST_EMPTY_RESPONSE,"Empty response for successful buffer.",n.status,{time_range:i,codec:s,quality:t.quality}))}return r.reject(new o(a.FRAGMENT_REQUEST_FAILED_WITH_STATUS,"Buffer request failed with status "+n.status,n.status,{time_range:i,codec:s,quality:t.quality}))},c.prototype.getBitrateForTime=function(t){if(null===this._fragments)return 0;var e=this._segmentLength,n=(t-t%e)/e;return this._fragments[n].bitrate},c.prototype.getFragmentLength=function(){return this._segmentLength},c.prototype.getLicenseEndpoint=function(){return this._licenseEndpoint},c.prototype.getBufferForFragment=function(t){return t.audio.buffer&&t.video.buffer&&t.quality>=this._videoProfile.video_resolution?r.resolve({audio:{bufferURL:t.audio.bufferURL,buffer:t.audio.buffer,codec:t.audio.codec,bandwidth:null},video:{bufferURL:t.video.bufferURL,buffer:t.video.buffer,codec:t.video.codec,bandwidth:null}}):this._fetchBufferForFragment(t)},c.prototype.clearCachedBuffers=function(){this._initFragment&&(this._initFragment.audio.buffer=null,this._initFragment.video.buffer=null),this._fragments.forEach(function(t){t.audio.buffer=null,t.video.buffer=null})},c.prototype._parsePSSHBox=function(t){for(var n=i.decode(t),r=new e.Uint8Array(n.length),o=0,a=n.length;o<a;o++)r[o]=n.charCodeAt(o);return r},c.prototype._updateVariants=function(){var t,e=this._abrManager.getBandwidthEstimate(),n=this._videoProfiles,r=n.length;this._audioProfile=this._audioProfiles[0];for(var i=this._audioProfile.audio_bitrate,o=0;o<r;o++){var a=n[o];(a.video_bitrate+i<e-1e5||!t)&&(t=a)}this._videoProfile=t||n[r-1]},c.prototype.getDuration=function(){return this._endTime},c.prototype.getFragmentAfterTime=function(t){if(null===this._fragments)return null;var e=null;if(0===t||.01===t)e=this._fragments[1];else for(var n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart>=t){e=this._fragments[n];break}return e},c.prototype.getFragmentForTime=function(t){if(null===this._fragments)return null;var e=null;if(0===t||.01===t)e=this._fragments[0];else for(var n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart<=t&&this._fragments[n].timeEnd>=t){e=this._fragments[n];break}return e},c.prototype.getInitFragment=function(){return this._initFragment},c.prototype.getSubtitleLanguages=function(){return this._subtitleLanguages},c.prototype.getSubtitleForLanguage=function(t){return this._subtitleTemplate.replace("{{profile_id}}",t)},c.prototype.load=function(t){var e=t||{};if(this._loaded)return e.resolveLatency=0,e.manifestLatency=0,r.resolve(this);var n=Date.now();return this._resolver.getManifest(this._fileId).then(function(t){var i;e.resolveLatency=0,e.manifestLatency=Date.now()-n;var o=t.contents[0];if(!o)return(i=new s(a.FILE_MALFORMED_SEEKTABLE,"Malformed seektable: no contents.")).track=this.toLogJSON(),r.reject(i);this._resolvedURLs=t.base_urls.slice(),this._baseURL=t.base_urls.shift(),this._fallbackURLs=t.base_urls,this._initTemplate=t.initialization_template,this._segmentTemplate=t.segment_template,this._segmentLength=o.segment_length;var u=void 0;if(o.encryption_infos&&o.encryption_infos.length){for(var c,l=o.encryption_infos,f=this._keySystemSettings.commonName,p=0,h=l.length;p<h;p++){var d=l[p];if(d&&d.key_system===f){u=p,c=d[this._keySystemSettings.pssh_field.video];break}}if(!c)return(i=new s(a.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format.")).track=this.toLogJSON(),r.reject(i);this._protection="cenc";try{this._psshBox=this._parsePSSHBox(c)}catch(t){return(i=new s(a.FILE_MALFORMED_PSSH,"Invalid PSSH value.")).track=this.toLogJSON(),r.reject(i)}}return this._startTime=t.start_time_millis,this._endTime=t.end_time_millis,this._calculateVariants(o.profiles,u),this._updateVariants(),this._calculateFragments(t),this._subtitleLanguages=t.subtitle_language_codes||[],this}.bind(this))},c.prototype.setLogData=function(t){return this._logData=t,this},c.prototype.getURI=function(){return this._uri},c.prototype.getFileId=function(){return this._fileId},c.prototype.getFormat=function(){return this._format},c.prototype.getCalculatedDuration=function(){return this._duration},c.prototype.getResolveLatency=function(){},c.prototype.getPlayableCodecs=function(){return[this._constructAudioMimeType(this._audioProfile),this._constructVideoMimeType(this._videoProfile)]},c.prototype.getResolvedURL=function(){return this._resolvedURL},c.prototype.getResolvedURLs=function(){return this._resolvedURLs},c.prototype.getLogData=function(){return this._logData},c.prototype.getAudioProfile=function(){return this._audioProfile},c.prototype.getVideoProfile=function(){return this._videoProfile},c.prototype.getVideoProfiles=function(){return this._videoProfiles},c.prototype.getInitParams=function(){var t={keySystem:this._keySystem,initDataType:this._protection,initData:this._psshBox,licenseServer:null};return r.resolve(t)},c.prototype.isAd=function(){return!!this._isAd},c.prototype.isProtected=function(){return!!this._protection&&!!this._psshBox},c.prototype.getKeySystem=function(){return this._keySystem},c.prototype.getMediaType=function(){return this._mediaType},c.prototype.toLogJSON=function(){return{uri:this._uri,fileId:this._fileId,format:this._format,resolved_url:"unknown-video"}},t.exports=c}).call(this,n("pCvA"))},BdB7:function(t,e,n){"use strict";var r=n("IL7q"),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.suspense_list"):60120,_=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var v="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var e=t.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return t.message="Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function b(t,e,n){this.props=t,this.context=e,this.refs=E,this.updater=n||g}function T(){}function S(t,e,n){this.props=t,this.context=e,this.refs=E,this.updater=n||g}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw m(Error(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},T.prototype=b.prototype;var R=S.prototype=new T;R.constructor=S,r(R,b.prototype),R.isPureReactComponent=!0;var w={current:null},O={suspense:null},A={current:null},I=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)I.call(e,r)&&!N.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:A.current}}function P(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var L=/\/+/g,k=[];function D(t,e,n,r){if(k.length){var i=k.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function x(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>k.length&&k.push(t)}function M(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+U(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+U(s=e[c],c);u+=t(s,l,r,i)}else if("function"==typeof(l=null===e||"object"!=typeof e?null:"function"==typeof(l=v&&e[v]||e["@@iterator"])?l:null))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+U(s,c++),r,i);else if("object"===s)throw r=""+e,m(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function U(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,r,n,function(t){return t}):null!=t&&(P(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(L,"$&/")+"/")+n)),r.push(t))}function B(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(L,"$&/")+"/"),M(t,j,e=D(e,o,r,i)),x(e)}function V(){var t=w.current;if(null===t)throw m(Error(321));return t}var G={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return B(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;M(t,F,e=D(null,null,e,n)),x(e)},count:function(t){return M(t,function(){return null},null)},toArray:function(t){var e=[];return B(t,e,null,function(t){return t}),e},only:function(t){if(!P(t))throw m(Error(143));return t}},createRef:function(){return{current:null}},Component:b,PureComponent:S,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:_,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:c,StrictMode:u,Suspense:h,unstable_SuspenseList:d,createElement:C,cloneElement:function(t,e,n){if(null==t)throw m(Error(267),t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,c=A.current),void 0!==e.key&&(s=""+e.key);var l=void 0;for(i in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)I.call(e,i)&&!N.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==l?l[i]:e[i])}if(1==(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:P,version:"16.9.0",unstable_withSuspenseConfig:function(t,e){var n=O.suspense;O.suspense=void 0===e?null:e;try{t()}finally{O.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:w,ReactCurrentBatchConfig:O,ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r}},W={default:G},H=W&&G||W;t.exports=H.default||H},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},BpT2:function(t,e,n){"use strict";var r=n("vdEC");Object.defineProperty(e,"__esModule",{value:!0}),e.processEndVideoMetadata=E,e.processAudioCodec=b,e.processVideoCodec=T,e.processUiLatency=S,e.processLocalTime=R,e.processNewSessionLoaded=w,e.processReasonEnd=O,e.processUnionPlayed=A,e.processMaxContinousPlayed=I,e.processTimeWeightedBitrate=N,e.generateEndVideoMessage=function(t){var e,n=(0,s.generatePlaybackSessionMessage)(t),r=l({},n,((e={})[i.EndVideoKeys.MS_PLAYED_BACKGROUND]=0,e[i.EndVideoKeys.FULL_SCREEN]=0,e[i.EndVideoKeys.PREFETCHED_BYTES]=0,e[i.EndVideoKeys.PREFETCHED_BYTES_LOADED]=-1,e[i.EndVideoKeys.REFERRER_VENDOR]="com.spotify",e[i.EndVideoKeys.SHUFFLE]=!1,e[i.EndVideoKeys.LIVE]=!1,e[i.EndVideoKeys.SEQUENCE_NUMBER]=-1,e[i.EndVideoKeys.SEQUENCE_ID]="",e[i.EndVideoKeys.CONNECTION_TYPE_START]="",e[i.EndVideoKeys.CONNECTION_TYPE_END]="",e[i.EndVideoKeys.STREAMING_RULE]="",e[i.EndVideoKeys.INCOGNITO_MODE]=!1,e[i.EndVideoKeys.N_SEEKFWD]=n[i.PlaybackSessionKeys.N_SEEKFORWARD],e[i.EndVideoKeys.VIDEO_SESSION_ID]=n[i.PlaybackSessionKeys.SESSION_ID],e[i.EndVideoKeys.MS_TOTAL_EST]=n[i.PlaybackSessionKeys.MS_DURATION],e[i.EndVideoKeys.MS_MANIFEST_LATENCY]=n[i.PlaybackSessionKeys.MS_MANIFEST_LOAD_TIME],e[i.EndVideoKeys.START_OFFSET_MS]=n[i.PlaybackSessionKeys.MS_START_POSITION],e[i.EndVideoKeys.MS_SEEK_REBUFFERING]=n[i.PlaybackSessionKeys.MS_BUFFERING_SEEK],e[i.EndVideoKeys.MAX_MS_SEEK_REBUFFERING]=n[i.PlaybackSessionKeys.MS_BUFFERING_SEEK_LONGEST],e[i.EndVideoKeys.MS_STALLED]=n[i.PlaybackSessionKeys.MS_BUFFERING_STALL],e[i.EndVideoKeys.MAX_MS_STALLED]=n[i.PlaybackSessionKeys.MS_BUFFERING_STALL_LONGEST],e[i.EndVideoKeys.KEY_SYSTEM]=n[i.PlaybackSessionKeys.ENCRYPTION_TYPE],e[i.EndVideoKeys.MS_KEY_LATENCY]=n[i.PlaybackSessionKeys.MS_ENCRYPTION_LOAD_TIME],e[i.EndVideoKeys.MS_LATENCY]=n[i.PlaybackSessionKeys.MS_START_TIME],e[i.EndVideoKeys.TOTAL_BYTES]=Math.round(1e3*n[i.PlaybackSessionKeys.KBYTES_DOWNLOADED]),e));return l({},r,E(t),S(t),O(t),A(t),I(t),N(t),R(t),b(t),T(t))};var i=n("bfQY"),o=r(n("WshP")),a=n("gMC6"),s=n("MFfK"),u=n("yWAF"),c=n("jT1e"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function f(t,e){return t.from<e.from?-1:t.from===e.from?t.to>e.to?-1:t.to<e.to?1:0:1}function p(t,e){return 0===e?0:Object.entries(t).reduce(function(t,n){var r=n[0],i=n[1],o=parseFloat(r)*i/e;return Math.round(t+o)},0)}var h=function(t,e){var n=l({},e);if(n.playing&&void 0!==n.bitrates[n.activeBitrate]){var r=(0,a.computeRange)(n.playingTimestamp/1e3,t.timestamp/1e3);n.bitrates[n.activeBitrate]+=r,n.totalTimePlayedInKnownBitrate+=r,n.timeWeightedBitrate=p(n.bitrates,n.totalTimePlayedInKnownBitrate)}return n.playing=!1,n.playingTimestamp=0,n},d=function(t,e){var n=l({},e),r=t.timestamp,i=t.data.format.bandwidth;if(n.bitrates[i]||(n.bitrates[i]=0),n.playing&&-1===n.activeBitrate)n.playingTimestamp=r;else if(n.playing&&i!==n.activeBitrate){var o=(0,a.computeRange)(n.playingTimestamp/1e3,r/1e3);n.bitrates[n.activeBitrate]+=o,n.totalTimePlayedInKnownBitrate+=o,n.playingTimestamp=r,n.timeWeightedBitrate=p(n.bitrates,n.totalTimePlayedInKnownBitrate)}return n.playing||n.bitrates[i]||(n.bitrates[i]=0),n.activeBitrate=i,n},_=function(t,e){return l({},e,{playing:!0,playingTimestamp:t.timestamp})},y=function(t,e){var n=t.data;return l({},e,{playingPosition:n.toPosition,playing:!1,playedRanges:e.playedRanges.concat([{from:e.playingPosition,to:n.fromPosition}])})},v=function(t,e){var n=1e3*(t.data.fromPosition-e.playingPosition),r=Math.round(Math.max(e.maxContinous,n));return l({},e,{playing:!1,playingPosition:t.data.toPosition,maxContinous:r})},m=function(t,e){var n=1e3*(t.data.position-e.playingPosition),r=Math.round(Math.max(e.maxContinous,n));return l({},e,{playing:!1,playingPosition:0,maxContinous:r})},g=function(t,e){var n,r=t.data,i=e.playedRanges.concat([{from:e.playingPosition,to:r.position}]),o=Math.round(1e3*(n=i).sort(f).reduce(function(t,e,r){if(0===t.length)return t.push(e),t;var i=n[r-1];return i.to===e.from?(t[r-1]={from:i.from,to:e.to},t):i.to<e.to&&i.to>e.from?(t[r-1]={from:i.from,to:e.to},t):i.to<e.from?(t.push(e),t):t},[]).reduce(function(t,e){return t+e.to-e.from},0));return l({},e,{playedRanges:i,playing:!1,playingPosition:0,unionPlayed:o})};function E(t){return t.filter(a.created).reduce(function(t,e){var n=e.data;return(0,a.retrieveEndvideoMetadata)(n.playbackIdentity.metadata||{})},{})}function b(t){var e;return t.filter(a.audioFormat).reduce(function(t,e){var n,r=e.data;return(n={})[i.EndVideoKeys.AUDIOCODEC]=r.format.audioCodec,n},((e={})[i.EndVideoKeys.AUDIOCODEC]="",e))}function T(t){var e;return t.filter(a.videoFormat).reduce(function(t,e){var n,r=e.data;return(n={})[i.EndVideoKeys.VIDEOCODEC]=r.format.videoCodec,n},((e={})[i.EndVideoKeys.VIDEOCODEC]="",e))}function S(t){var e,n=(0,a.getFirstTimestamp)(t,o.default.RESUMED);return t.filter(a.created).reduce(function(t,e){var r,o=e.data;if(n!==a.DEFAULT_INVALID_TIME){var s=(0,a.retrieveEndvideoMetadata)(o.playbackIdentity.metadata||{})[a.COMMAND_INITIATED_TIME_MS];return(r={})[i.EndVideoKeys.UI_LATENCY]=s>-1?Math.round(n-s):-1,r}return t},((e={})[i.EndVideoKeys.UI_LATENCY]=a.DEFAULT_INVALID_TIME,e))}function R(t){var e;return t.filter(a.created).reduce(function(t,e){var n,r=e.timestamp;return(n={})[i.EndVideoKeys.LOCAL_TIME_MS]=Math.round(r),n},((e={})[i.EndVideoKeys.LOCAL_TIME_MS]=0,e))}function w(t){return t.filter(a.newSessionLoaded).reduce(function(t,e){var n=e.data;return{startReason:n.playbackRequest.metadata?(0,a.retrieveEndVideoReasonStart)(n.playbackRequest.metadata):""}},{startReason:""})}function O(t){var e,n=w(t);return t.filter(a.ended).reduce(function(t,e){var r,a=e.data;return(r={})[i.EndVideoKeys.REASON_END]=n.startReason||function(t){switch(t){case o.EndReason.PLAYED_TO_END:return c.EndVideoReasonEnd.END_TRACK_DONE;case o.EndReason.REQUESTED:return c.EndVideoReasonEnd.END_PLAY;case o.EndReason.FATAL_ERROR:return c.EndVideoReasonEnd.END_TRACK_ERROR;default:return t}}(a.reason),r},((e={})[i.EndVideoKeys.REASON_END]="",e))}function A(t){var e,n=t.reduce(function(t,e){return(0,u.cond)([[(0,a.startedPlaying)(t.playing),a.handlePlayingPosition],[(0,a.seekingWhilePlaying)(t.playing),y],[(0,a.endedWhilePlaying)(t.playing),g],[u.T,function(t,e){return e}]])(e,t)},{playedRanges:[],playing:!1,playingPosition:0,unionPlayed:0});return(e={})[i.EndVideoKeys.UNION_PLAYED]=n.unionPlayed,e}function I(t){var e,n=t.reduce(function(t,e){return(0,u.cond)([[(0,a.startedPlaying)(t.playing),a.handlePlayingPosition],[(0,a.seekingWhilePlaying)(t.playing),v],[(0,a.endedWhilePlaying)(t.playing),m],[u.T,function(t,e){return e}]])(e,t)},{playing:!1,playingPosition:0,maxContinous:0});return(e={})[i.EndVideoKeys.MAX_CONTINOUS]=n.maxContinous,e}function N(t){var e,n=t.reduce(function(t,e){return(0,u.cond)([[a.videoFormat,d],[(0,a.startedPlaying)(t.playing),_],[(0,a.interruptedWhilePlaying)(t.playing),h],[u.T,function(t,e){return e}]])(e,t)},{activeBitrate:-1,currentPlayingBitrate:0,playing:!1,playingTimestamp:0,bitrates:{},totalTimePlayedInKnownBitrate:0,timeWeightedBitrate:0});return(e={})[i.EndVideoKeys.TIME_WEIGHTED_BITRATE]=n.timeWeightedBitrate,e}},"C/jX":function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},target_uri:{type:"string",nullable:!0},item_id:{type:"string",nullable:!0},action_type:{type:"string",nullable:!0},action_intent:{type:"string",nullable:!0},sp_cid:{type:"string",nullable:!0}})),{name:"KmInteraction",data:e}}},CTrm:function(t,e,n){"use strict";function r(t,e,n){Error.call(this),this.message=e,this.code=t,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="RequestError",t.exports=r},CfxW:function(t,e,n){"use strict";t.exports=function(){return{name:"context_time",data:{timestamp:Date.now()}}}},CqI6:function(t,e,n){"use strict";var r=n("Grao"),i=n("LmGa"),o=n("lIgl"),a=n("W2ce").Event,s=n("A1vi"),u=n("CfxW"),c=n("PyhZ"),l=n("T3pf"),f=n("asuC"),p=l.forTag("EventSender"),h=200,d=3e5,_=18e5;function y(t){var e=t||{};this._transport=e.transport,this._upload=this._upload.bind(this),this._shouldRetry=this._shouldRetry.bind(this),this._uploadWaiting=!1,this._uploader=i.create({enableDebugInfo:e.enableDebugInfo,suppressPersist:e.suppressPersist,transport:this._transport}),this._contextCreators=e.context||[];for(var n=0,r=this._contextCreators.length;n<r;n++)if("function"!=typeof this._contextCreators[n])throw new Error("The context creator at index "+n+" is not a function");this._contextCreators.push(s),this._contextCreators.push(u),e.clientId&&this._contextCreators.push(c(e.clientId)),this._reset(),this._refreshing=!1,this._events=[],this._backoffBaseTime=e.baseTime||h,this._backoffCeiling=e.ceiling||d,this._backoffMaxDuration=e.maxDuration||_,this._transport.on(a.TRANSPORT_BEFORE_ONLINE_DISCONNECT,this._onBeforeDisconnect.bind(this))}y.create=function(t){return new y(t)},y.prototype._onBeforeDisconnect=function(t){t.awaitPromise(this._uploader.lastUpload(this._events.splice(0)))},y.prototype._reset=function(){this._sequenceId=r.generateBase64(16),this._sequenceNumbers={}},y.prototype._shouldRetry=function(){return this._transport.isOnline()&&!this._refreshing},y.prototype._initFlush=function(){var t=this._backoffBaseTime,e=!1;return this._uploader.shouldBackoff()&&(t=this._backoffCeiling,e=!0),o.init(this._upload,{algo:"exp",baseTime:t,ceiling:this._backoffCeiling,maxDuration:this._backoffMaxDuration,backoffInitial:e,retryPredicate:this._shouldRetry})},y.prototype._waitForConnection=function(){return new f(function(t){this._transport.once(a.TRANSPORT_CONNECTION_ONLINE,t)}.bind(this))},y.prototype.flush=function(){return this._transport.isOnline()||this._ongoingUpload||(this._ongoingUpload=this._waitForConnection()),this._ongoingUpload?(this._uploadWaiting||(this._uploadWaiting=!0,this._ongoingUpload=this._ongoingUpload.then(function(){return this._ongoingUpload=!1,this._uploadWaiting=!1,this.flush()}.bind(this))),this._ongoingUpload):this._events.length?(this._ongoingUpload=this._initFlush().then(function(t){return this._ongoingUpload=void 0,t}.bind(this)).catch(function(){return this._ongoingUpload=void 0,this._transport.isOnline()?(this._refreshing||(p.warn("The events in the queue could not be uploaded. Throwing away "+this._events.length+" events."),this._events=[]),{nack:this._events,backoff:this._uploader.shouldBackoff()}):this.flush()}.bind(this)),this._ongoingUpload):f.resolve({nack:this._events,backoff:this._uploader.shouldBackoff()})},y.prototype._upload=function(){return this._uploader.upload(this._events.splice(0)).then(function(t){if(t.nack.length)throw this._events=t.nack.concat(this._events),new Error("Backoff requested");return t}.bind(this))},y.prototype.log=function(t,e){this._sequenceNumbers[t.name]||(this._sequenceNumbers[t.name]=0);var n={sequence_id:this._sequenceId,sequence_number:++this._sequenceNumbers[t.name],event_name:t.name};n.fragments={message:t.data};for(var r=0,i=this._contextCreators.length;r<i;r++){var o=this._contextCreators[r].call(this);n.fragments[o.name]=o.data}this._events.push(n),!1!==e&&this.flush()},y.prototype.refresh=function(){return this._reset(),this._refreshing=!0,this.flush().then(function(){return this._transport.forceTokenRefresh().then(function(t){return this._refreshing=!1,t}.bind(this))}.bind(this)).catch(function(t){return p.warn("Could not flush using cached token",t),this._refreshing=!1,!0}.bind(this))},t.exports=y},CweX:function(t,e,n){"use strict";function r(t,e){return!t&&!e||!(!t||!e)&&t.id===e.id&&t.is_active===e.is_active&&t.is_controllable===e.is_controllable&&t.is_observable===e.is_observable&&t.local===e.local&&t.name===e.name&&t.type===e.type&&t.version===e.version&&t.volume===e.volume}t.exports={areDevicesEqual:r,areDeviceListsEqual:function(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Invalid devices list.");if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(!r(t[n],e[n]))return!1;return!0}}},D5Cn:function(t,e,n){"use strict";(function(e){var r=n("REJ4");function i(t){var e=Math.pow(2,31),n=Math.floor(t||Math.random()*(e-1));this._max=e,this._nextInt=function(){return n=(1103515245*n+12345)%e}}function o(){this._index=0,this._items=[]}function a(t,e){this.buf=t,this.pos=0|e}function s(t,e){for(;e--;)t[e]=~t[e]}i.prototype.nextBoolean=function(){return!!(this._nextInt()%2)},i.prototype.nextInt=function(t,e){return void 0===e&&(e=t,t=0),e=void 0===e?this._max:e,t+Math.floor(this.nextFloat()*(e-t))},i.prototype.nextFloat=function(t,e){return void 0===e&&(e=t,t=0),t+((e=void 0===e?1:e)-t)*this._nextInt()/this._max},i.prototype.nextString=function(t,e){t|=0;var n="";(e=e||"aA").indexOf("a")>-1&&(n+="abcdefghijklmnopqrstuvwxyz"),e.indexOf("A")>-1&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),e.indexOf("#")>-1&&(n+="0123456789"),e.indexOf("!")>-1&&(n+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var r=[],i=0;i<t;i++)r.push(this.choice(n));return r.join("")},i.prototype.nextBuffer=function(t){var n,r=[];for(n=0;n<t;n++)r.push(this.nextInt(256));return new e(r)},i.prototype.choice=function(t){var e=t.length;if(!e)throw new Error("choosing from empty array");return t[this.nextInt(e)]},o.prototype.push=function(t){var e,n=this._items,r=0|n.length;for(n.push(t);r>0&&n[r].index<n[e=r-1>>1].index;)t=n[r],n[r]=n[e],n[e]=t,r=e},o.prototype.pop=function(){var t=this._items,e=t.length-1|0,n=t[0];if(!n||n.index>this._index)return null;if(this._index++,!e)return t.pop(),n;t[0]=t.pop();for(var r,i,o,a,s,u,c,l=e>>1,f=0;f<l&&(a=t[f],i=f+1<<1,u=t[r=1+(f<<1)],!(c=t[i])||u.index<=c.index?(s=u,o=r):(s=c,o=i),!(s.index>=a.index));)t[o]=a,t[f]=s,f=o;return n},a.prototype.isValid=function(){return this.pos<=this.buf.length},a.prototype.getValue=function(){return this.buf.slice(0,this.pos)},a.prototype.readBoolean=function(){return!!this.buf[this.pos++]},a.prototype.skipBoolean=function(){this.pos++},a.prototype.writeBoolean=function(t){this.buf[this.pos++]=!!t},a.prototype.readInt=a.prototype.readLong=function(){var t,e,n,r,i=0,o=0,a=this.buf;do{e=128&(t=a[this.pos++]),i|=(127&t)<<o,o+=7}while(e&&o<28);if(e){n=i,r=268435456;do{n+=(127&(t=a[this.pos++]))*r,r*=128}while(128&t);return(n%2?-(n+1):n)/2}return i>>1^-(1&i)},a.prototype.skipInt=a.prototype.skipLong=function(){for(var t=this.buf;128&t[this.pos++];);},a.prototype.writeInt=a.prototype.writeLong=function(t){var e,n,r=this.buf;if(t>=-1073741824&&t<1073741824){n=t>=0?t<<1:~t<<1|1;do{r[this.pos]=127&n,n>>=7}while(n&&(r[this.pos++]|=128))}else{e=t>=0?2*t:2*-t-1;do{r[this.pos]=127&e,e/=128}while(e>=1&&(r[this.pos++]|=128))}this.pos++},a.prototype.readFloat=function(){var t=this.buf,e=this.pos;if(this.pos+=4,!(this.pos>t.length))return this.buf.readFloatLE(e)},a.prototype.skipFloat=function(){this.pos+=4},a.prototype.writeFloat=function(t){var e=this.buf,n=this.pos;if(this.pos+=4,!(this.pos>e.length))return this.buf.writeFloatLE(t,n)},a.prototype.readDouble=function(){var t=this.buf,e=this.pos;if(this.pos+=8,!(this.pos>t.length))return this.buf.readDoubleLE(e)},a.prototype.skipDouble=function(){this.pos+=8},a.prototype.writeDouble=function(t){var e=this.buf,n=this.pos;if(this.pos+=8,!(this.pos>e.length))return this.buf.writeDoubleLE(t,n)},a.prototype.readFixed=function(t){var n=this.pos;if(this.pos+=t,!(this.pos>this.buf.length)){var r=new e(t);return this.buf.copy(r,0,n,n+t),r}},a.prototype.skipFixed=function(t){this.pos+=t},a.prototype.writeFixed=function(t,e){e=e||t.length;var n=this.pos;this.pos+=e,this.pos>this.buf.length||t.copy(this.buf,n,0,e)},a.prototype.readBytes=function(){return this.readFixed(this.readLong())},a.prototype.skipBytes=function(){var t=this.readLong();this.pos+=t},a.prototype.writeBytes=function(t){var e=t.length;this.writeLong(e),this.writeFixed(t,e)},a.prototype.readString=function(){var t=this.readLong(),e=this.pos,n=this.buf;if(this.pos+=t,!(this.pos>n.length))return this.buf.utf8Slice(e,e+t)},a.prototype.skipString=function(){var t=this.readLong();this.pos+=t},a.prototype.writeString=function(t){var n=e.byteLength(t);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.utf8Write(t,r,n)},a.prototype.writeBinary=function(t,e){var n=this.pos;this.pos+=e,this.pos>this.buf.length||this.buf.write(t,n,e,"binary")},a.prototype.matchBoolean=function(t){return this.buf[this.pos++]-t.buf[t.pos++]},a.prototype.matchInt=a.prototype.matchLong=function(t){var e=this.readLong(),n=t.readLong();return e===n?0:e<n?-1:1},a.prototype.matchFloat=function(t){var e=this.readFloat(),n=t.readFloat();return e===n?0:e<n?-1:1},a.prototype.matchDouble=function(t){var e=this.readDouble(),n=t.readDouble();return e===n?0:e<n?-1:1},a.prototype.matchFixed=function(t,e){return this.readFixed(e).compare(t.readFixed(e))},a.prototype.matchBytes=a.prototype.matchString=function(t){var e=this.readLong(),n=this.pos;this.pos+=e;var r=t.readLong(),i=t.pos;t.pos+=r;var o=this.buf.slice(n,this.pos),a=t.buf.slice(i,t.pos);return o.compare(a)},a.prototype.unpackLongBytes=function(){var t,n,r=new e(8),i=0,o=0,a=6,u=this.buf;for(n=1&(t=u[this.pos++]),r.fill(0),i|=(127&t)>>1;128&t;)i|=(127&(t=u[this.pos++]))<<a,(a+=7)>=8&&(a-=8,r[o++]=i,i>>=8);return r[o]=i,n&&s(r,8),r},a.prototype.packLongBytes=function(t){var e,n=(128&t[7])>>7,r=this.buf,i=1,o=0,a=3;n?(s(t,8),e=1):e=0;for(var u=[t.readUIntLE(0,3),t.readUIntLE(3,3),t.readUIntLE(6,2)];a&&!u[--a];);for(;o<a;)for(e|=u[o++]<<i,i+=24;i>7;)r[this.pos++]=127&e|128,e>>=7,i-=7;e|=u[a]<<i;do{r[this.pos]=127&e,e>>=7}while(e&&(r[this.pos++]|=128));this.pos++,n&&s(t,8)},t.exports={abstractFunction:function(){throw new Error("abstract")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},compare:function(t,e){return t===e?0:t<e?-1:1},getHash:function(t,e){e=e||"md5";var n=r.createHash(e);return n.end(t),n.read()},toMap:function(t,e){var n,r,i={};for(n=0;n<t.length;n++)i[e(r=t[n])]=r;return i},singleIndexOf:function(t,e){var n,r,i=-1;if(!t)return-1;for(n=0,r=t.length;n<r;n++)if(t[n]===e){if(i>=0)return-2;i=n}return i},hasDuplicates:function(t,e){var n,r,i,o={};for(n=0,r=t.length;n<r;n++){if(i=t[n],e&&(i=e(i)),o[i])return!0;o[i]=!0}return!1},Lcg:i,OrderedQueue:o,Tap:a}}).call(this,n("qykS").Buffer)},DBDF:function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);var e=t||{};this.index="index"in e?e.index:-1,this.position="position"in e?e.position:0,this.initialPosition="initialPosition"in e?e.initialPosition:0,this.duration="duration"in e?e.duration:-1,this.paused="paused"in e&&e.paused,this.reason=e.reason||"unknown"}r.create=function(t){return t instanceof r?t:new r(t)},t.exports=r},DNnd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MIN_BACKGROUND_FETCH_INTERVAL=e.DEFAULT_BACKGROUND_FETCH_INTERVAL=e.INSTALLATION_ID_COOKIE_KEY=e.INSTALLATION_ID_STORAGE_KEY=e.CONFIG_STORAGE_KEY=void 0;var r=n("fFKA");e.CONFIG_STORAGE_KEY="com.spotify.rcs.configuration",e.INSTALLATION_ID_STORAGE_KEY="com.spotify.rcs.installationId",e.INSTALLATION_ID_COOKIE_KEY="sp_t";var i=1*r.TimeUnit.HOUR;e.DEFAULT_BACKGROUND_FETCH_INTERVAL=i;var o=30*r.TimeUnit.SECOND;e.MIN_BACKGROUND_FETCH_INTERVAL=o},"DqZ+":function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n("du5n")),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.onEnded=e,n}return a(e,t),e.prototype.onPlaybackEnded=function(e,n,r){t.prototype.onPlaybackEnded.call(this,e,n,r),this.onEnded&&(this.onEnded(this.sessionEvents),this.onEnded=null)},e}(o.default);e.default=s},E02R:function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},E6BA:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},E6vx:function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&t instanceof Event}function f(t){return"undefined"!=typeof Element&&t instanceof Element}function p(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function h(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function d(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}n.d(e,"d",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"j",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"l",function(){return h}),n.d(e,"k",function(){return d})},EFBM:function(t,e,n){"use strict";var r=n("PCPI");function i(){this.reset()}i.create=function(){return new i},i.prototype.reset=function(){this._sequenceId=r.generateBase64(16),this._sequenceNumbers={}},i.prototype.getSequenceId=function(){return this._sequenceId},i.prototype.nextSequenceNumber=function(t){return this._sequenceNumbers[t]||(this._sequenceNumbers[t]=0),++this._sequenceNumbers[t]},t.exports=i},EFMV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+Ltg"),i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function s(t){return a.call(t).slice(8,-1)}var u=Object.assign||function(t,e){return c(e).forEach(function(n){i.call(e,n)&&(t[n]=e[n])}),t},c="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function l(t){return Array.isArray(t)?u(t.constructor(t.length),t):"Map"===s(t)?new Map(t):"Set"===s(t)?new Set(t):t&&"object"==typeof t?u(Object.create(Object.getPrototypeOf(t)),t):t}var f=function(){function t(){this.commands=u({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var n=this,o="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(o)||r(!Array.isArray(o),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof o&&null!==o,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var a=t;return c(o).forEach(function(e){if(i.call(n.commands,e)){var r=t===a;a=n.commands[e](o[e],a,o,t),r&&n.isEquals(a,t)&&(a=t)}else{var u="Map"===s(t)?n.update(t.get(e),o[e]):n.update(t[e],o[e]),c="Map"===s(a)?a.get(e):a[e];n.isEquals(u,c)&&(void 0!==u||i.call(t,e))||(a===t&&(a=l(t)),"Map"===s(a)?a.set(e,u):a[e]=u)}}),a},t}();e.Context=f;var p={$push:function(t,e,n){return d(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return d(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,i){return function(t,e){r(Array.isArray(t),"Expected $splice target to be an array; got %s",t),y(e.$splice)}(e,n),t.forEach(function(t){y(t),e===i&&t.length&&(e=l(i)),o.apply(e,t)}),e},$set:function(t,e,n){return function(t){r(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}(n),t},$toggle:function(t,e){_(t,"$toggle");var n=t.length?l(e):e;return t.forEach(function(t){n[t]=!e[t]}),n},$unset:function(t,e,n,r){return _(t,"$unset"),t.forEach(function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=l(r)),delete e[t])}),e},$add:function(t,e,n,r){return v(e,"$add"),_(t,"$add"),"Map"===s(e)?t.forEach(function(t){var n=t[0],i=t[1];e===r&&e.get(n)!==i&&(e=l(r)),e.set(n,i)}):t.forEach(function(t){e!==r||e.has(t)||(e=l(r)),e.add(t)}),e},$remove:function(t,e,n,r){return v(e,"$remove"),_(t,"$remove"),t.forEach(function(t){e===r&&e.has(t)&&(e=l(r)),e.delete(t)}),e},$merge:function(t,e,n,i){var o,a;return o=e,r((a=t)&&"object"==typeof a,"update(): $merge expects a spec of type 'object'; got %s",a),r(o&&"object"==typeof o,"update(): $merge expects a target of type 'object'; got %s",o),c(t).forEach(function(n){t[n]!==e[n]&&(e===i&&(e=l(i)),e[n]=t[n])}),e},$apply:function(t,e){var n;return r("function"==typeof(n=t),"update(): expected spec of $apply to be a function; got %s.",n),t(e)}},h=new f;function d(t,e,n){r(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t),_(e[n],n)}function _(t,e){r(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function y(t){r(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function v(t,e){var n=s(t);r("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",e,n)}e.isEquals=h.update.isEquals,e.extend=h.extend,e.default=h.update,e.default.default=t.exports=u(e.default,e)},EMG7:function(t,e,n){"use strict";var r=n("BDEe");t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},EbDI:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},Ec93:function(t,e,n){"use strict";var r=n("8/eb");t.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},EiP0:function(t,e,n){"use strict";function r(t){this._headers={},this._init(t)}r.prototype._init=function(t){if(t)for(var e=t.split("\r\n"),n=0;n<e.length;n++){var r=e[n],i=r.indexOf(": ");if(i>0){var o=r.substring(0,i).toLowerCase(),a=r.substring(i+2);this._headers[o]=a}}},r.prototype.get=function(t){return this._headers[t.toLowerCase()]||null},r.prototype.has=function(t){return this._headers.hasOwnProperty(t.toLowerCase())},t.exports=r},ErGS:function(t,e,n){"use strict";var r=n("so/P"),i=n("sOO9"),o=n("w7gO"),a=n("asuC"),s=n("Lc1h"),u=n("vowq"),c=n("1Wwy"),l={POST:!0,PUT:!0,DELETE:!0};function f(t,e){var n=e||{};this._url=t,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||"",this._ignoreResponseBody=n.ignoreResponseBody,this._parseResponseHeaders=n.parseResponseHeaders,this._timing=n.timing?{completed:0}:null,this._requestStartTime=0,this._request=null,this._incomingMessage=null,this._response=null,this._responseBodyBuffer="",this._responsePromise=null,this._onData=this._onData.bind(this),this._onResponse=this._onResponse.bind(this),this._onRequestEnd=this._onRequestEnd.bind(this),this._onRequestError=this._onRequestError.bind(this)}f.request=function(t,e){return new f(t,e).send()},f.prototype.send=function(){return this._requestStartTime=Date.now(),this._responsePromise=a.defer(),this._send(this._url),this._responsePromise.promise},f.prototype._handleRedirect=function(){var t=this._response.headers.get("location");this._send(t)},f.prototype._onData=function(t){this._responseBodyBuffer+=t},f.prototype._onResponse=function(t){var e=t.statusCode;this._response=new s(this._url,e),(this._parseResponseHeaders||e>299)&&(this._response.headers=new u(t.headers)),e>200&&e<400?this._handleRedirect(t):(t.setEncoding("utf8"),t.on("data",this._onData),t.on("end",this._onRequestEnd),this._incomingMessage=t)},f.prototype._onRequestEnd=function(){var t=this._response;this._ignoreResponseBody||this._response.status===c.NO_CONTENT||2!==t.getStatusFamily()||this._parseResponseBody(),this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),t.timing=this._timing,this._removeMessageListeners(),this._removeRequestListeners(),this._responsePromise.resolve(t)},f.prototype._onRequestError=function(){var t=new s(this._url,0);this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),t.timing=this._timing,this._removeMessageListeners(),this._removeRequestListeners(),this._responsePromise.reject(t)},f.prototype._parseResponseBody=function(){var t=this._response;if("json"===this._responseType)try{t.body=JSON.parse(this._responseBodyBuffer)}catch(e){t.body=null}else t.body=this._responseBodyBuffer;this._responseBodyBuffer=""},f.prototype._removeRequestListeners=function(){var t=this._request;t&&(t.removeListener("response",this._onResponse),t.removeListener("error",this._onRequestError))},f.prototype._removeMessageListeners=function(){var t=this._incomingMessage;t&&(t.removeListener("data",this._onData),t.removeListener("end",this._onRequestEnd))},f.prototype._send=function(t){this._url=t;var e,n=this._payload,a=null;this._method in l&&n?a=n:n&&-1===this._url.indexOf("?")&&(this._url+="?"+n);try{e=r.parse(this._url)}catch(t){return this._removeMessageListeners(),this._removeRequestListeners(),void this._responsePromise.reject(t)}var s="https:"===e.protocol?o:i,u={hostname:e.hostname,path:e.path,port:e.port,auth:e.auth,method:this._method,headers:this._headers,agent:s.agent};this._request&&(this._removeRequestListeners(),this._request.abort());var c=s.request(u);c.on("response",this._onResponse),c.on("error",this._onRequestError),a&&c.write(a),c.end(),this._request=c},t.exports=f},EwJK:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},ExtB:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({AUTHENTICATED:"authenticated",AUTHENTICATION_ERROR:"authentication_error",AUTOPLAY_FAILED:"autoplay_failed",BEFORE_DISCONNECT:"before_disconnect",BEFORE_VOLUME_CHANGE:"before_volume_change",BUFFERING_END:"buffering_end",BUFFERING_START:"buffering_start",CLIENT_DESCRIPTOR_CHANGED:"descriptor_changed",CONNECTED:"connected",CONNECTION_ERROR:"connection_error",DEVICES_CHANGED:"devices_changed",DEVICE_DESCRIPTOR_CHANGED:"descriptor_changed",DISCONNECTED:"disconnected",DURATION_CHANGED:"duration_changed",ERROR:"error",LAST_ACTIVE_DEVICE_INFO_CHANGED:"last_active_device_info_changed",LOCAL_CONTEXT_ENDED:"local_context_ended",LOCAL_PLAYER_DISABLED:"local_player_disabled",LOCAL_PLAYER_ENABLED:"local_player_enabled",LOCAL_PLAYER_LOGGED_OUT:"local_player_logged_out",LOGGED_OUT:"logged_out",MAX_LIST_ERRORS_REACHED:"max_list_errors_reached",MAX_SUBSCRIPTIONS_REACHED:"max_subscriptions_reached",PLAYBACK_CAPPED:"playback_capped",PLAYER_INITIALIZATION_DONE:"player_initialization_done",PLAYER_INITIALIZATION_FAILED:"player_initialization_failed",PRODUCT_STATE_CHANGED:"product_state_changed",PROGRESS:"progress",RECONNECTED:"reconnected",RECONNECTING:"reconnecting",REMOTE_OBSERVER_DISABLED:"remote_observer_disabled",REMOTE_OBSERVER_ENABLED:"remote_observer_enabled",SERVICE_REGISTRATION_ERROR:"service_registration_error",STATE_CHANGED:"state_changed",TRACK_ENDED:"track_ended",UNRECOVERABLE_FAILURE:"unrecoverable_failure",VIDEO_ELEMENT_APPENDED:"video_element_appended",VIDEO_ELEMENT_REMOVED:"video_element_removed"})},F0Fi:function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},F9Td:function(t,e,n){"use strict";function r(t,e,n,r){Error.call(this,e),this.code=t,this.message=e,this.status=void 0!==n?n:-1,this.debug=r||{},this.target=null}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="FragmentError",t.exports=r},FIWN:function(t,e,n){"use strict";t.exports=function(){}},FSw7:function(t,e,n){"use strict";t.exports={"com.widevine.alpha":{commonName:"widevine",licenseServer:"https://@webgate/widevine-license",withCertificate:!0,pssh_field:{audio:"pssh_widevine",video:"encryption_data"}},"com.microsoft.playready":{commonName:"playready",licenseServer:"https://@webgate/playready-license",withCertificate:!1,pssh_field:{audio:"pssh_playready",video:"encryption_data"}},"com.microsoft.playready.hardware":{commonName:"playready",licenseServer:"https://@webgate/playready-license",withCertificate:!1,pssh_field:{audio:"pssh_playready",video:"encryption_data"}}}},FWK2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScheduledTask=void 0;var r=function(){},i=function(){function t(t,e,n){void 0===e&&(e=null),void 0===n&&(n=r),this.task=t,this.schedule=e,this.onerror=n,e&&this.reschedule(e)}return t.prototype.reschedule=function(t){var e=this;t.then(function(n){if(e.schedule===t){e.schedule=null;try{e.task.call(null,n)}catch(t){e.onerror.call(null,t)}}},this.onerror),this.schedule=t},t.prototype.cancel=function(){this.schedule=null},t}();e.ScheduledTask=i},FaXh:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,p=n?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*_}},Fcif:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(e),n.d(e,"default",function(){return r})},Fqzz:function(t,e,n){"use strict";var r=n("mONU");t.exports=function(){return{name:"context_sdk",data:{version_name:r.version}}}},FtDD:function(t,e,n){"use strict";function r(t,e){Error.call(this,e),this.code=t,this.canPlayNext=!0,this.message=e||"File Error",this.debug={}}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="FileError",t.exports=r},FvK5:function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:q(t)}function r(t){return s(t)?t:Y(t)}function i(t){return u(t)?t:z(t)}function o(t){return a(t)&&!c(t)?t:X(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[p])}function u(t){return!(!t||!t[h])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",_=5,y=1<<_,v=y-1,m={},g={value:!1},E={value:!1};function b(t){return t.value=!1,t}function T(t){t&&(t.value=!0)}function S(){}function R(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function w(t){return void 0===t.size&&(t.size=t.__iterate(A)),t.size}function O(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?w(t)+e:e}function A(){return!0}function I(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function N(t,e){return P(t,e,0)}function C(t,e){return P(t,e,e)}function P(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var L=0,k=1,D=2,x="function"==typeof Symbol&&Symbol.iterator,M="@@iterator",U=x||M;function F(t){this.next=t}function j(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function B(){return{value:void 0,done:!0}}function V(t){return!!H(t)}function G(t){return t&&"function"==typeof t.next}function W(t){var e=H(t);return e&&e.call(t)}function H(t){var e=t&&(x&&t[x]||t[M]);if("function"==typeof e)return e}function K(t){return t&&"number"==typeof t.length}function q(t){return null==t?ot():a(t)?t.toSeq():function(t){var e=ut(t)||"object"==typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function Y(t){return null==t?ot().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():at(t)}function z(t){return null==t?ot():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():st(t)}function X(t){return(null==t?ot():a(t)?s(t)?t.entrySeq():t:st(t)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=L,F.VALUES=k,F.ENTRIES=D,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[U]=function(){return this},e(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(t,e){return ct(this,t,e,!0)},q.prototype.__iterator=function(t,e){return lt(this,t,e,!0)},e(Y,q),Y.prototype.toKeyedSeq=function(){return this},e(z,q),z.of=function(){return z(arguments)},z.prototype.toIndexedSeq=function(){return this},z.prototype.toString=function(){return this.__toString("Seq [","]")},z.prototype.__iterate=function(t,e){return ct(this,t,e,!1)},z.prototype.__iterator=function(t,e){return lt(this,t,e,!1)},e(X,q),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},q.isSeq=it,q.Keyed=Y,q.Set=X,q.Indexed=z;var Q,J,$,Z="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function rt(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[Z])}function ot(){return Q||(Q=new tt([]))}function at(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():G(t)?new rt(t).fromEntrySeq():V(t)?new nt(t).fromEntrySeq():"object"==typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function st(t){var e=ut(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ut(t){return K(t)?new tt(t):G(t)?new rt(t):V(t)?new nt(t):void 0}function ct(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function lt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new F(function(){var t=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:j(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function ft(t,e){return e?function t(e,n,r,i){return Array.isArray(n)?e.call(i,r,z(n).map(function(r,i){return t(e,r,i,n)})):ht(n)?e.call(i,r,Y(n).map(function(r,i){return t(e,r,i,n)})):n}(e,t,"",{"":t}):pt(t)}function pt(t){return Array.isArray(t)?z(t).map(pt).toList():ht(t)?Y(t).map(pt).toMap():t}function ht(t){return t&&(t.constructor===Object||void 0===t.constructor)}function dt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function _t(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&dt(i[1],t)&&(n||dt(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):i?!dt(e,t.get(r,m)):!dt(t.get(r,m),e))return f=!1,!1});return f&&t.size===p}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(J)return J;J=this}}function vt(t,e){if(!t)throw new Error(e)}function mt(t,e,n){if(!(this instanceof mt))return new mt(t,e,n);if(vt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if($)return $;$=this}}function gt(){throw TypeError("Abstract")}function Et(){}function bt(){}function Tt(){}q.prototype[Z]=!0,e(tt,z),tt.prototype.get=function(t,e){return this.has(t)?this._array[O(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},tt.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new F(function(){return i>r?{value:void 0,done:!0}:j(t,i,n[e?r-i++:i++])})},e(et,Y),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},et.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new F(function(){var a=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:j(t,a,n[a])})},et.prototype[d]=!0,e(nt,z),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=W(this._iterable),r=0;if(G(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=W(this._iterable);if(!G(n))return new F(B);var r=0;return new F(function(){var e=n.next();return e.done?e:j(t,r++,e.value)})},e(rt,z),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new F(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return j(t,i,r[i++])})},e(yt,z),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return dt(this._value,t)},yt.prototype.slice=function(t,e){var n=this.size;return I(t,e,n)?this:new yt(this._value,C(e,n)-N(t,n))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return dt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return dt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},yt.prototype.__iterator=function(t,e){var n=this,r=0;return new F(function(){return r<n.size?j(t,r++,n._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?dt(this._value,t._value):_t(t)},e(mt,z),mt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},mt.prototype.get=function(t,e){return this.has(t)?this._start+O(this,t)*this._step:e},mt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},mt.prototype.slice=function(t,e){return I(t,e,this.size)?this:(t=N(t,this.size),(e=C(e,this.size))<=t?new mt(0,0):new mt(this.get(t,this._end),this.get(e,this._end),this._step))},mt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},mt.prototype.lastIndexOf=function(t){return this.indexOf(t)},mt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},mt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new F(function(){var a=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:j(t,o++,a)})},mt.prototype.equals=function(t){return t instanceof mt?this._start===t._start&&this._end===t._end&&this._step===t._step:_t(this,t)},e(gt,n),e(Et,gt),e(bt,gt),e(Tt,gt),gt.Keyed=Et,gt.Indexed=bt,gt.Set=Tt;var St="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Rt(t){return t>>>1&1073741824|3221225471&t}function wt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Rt(n)}if("string"===e)return t.length>kt?function(t){var e=Mt[t];return void 0===e&&(e=Ot(t),xt===Dt&&(xt=0,Mt={}),xt++,Mt[t]=e),e}(t):Ot(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(Ct&&void 0!==(e=At.get(t)))return e;if(void 0!==(e=t[Lt]))return e;if(!Nt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Lt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Pt,1073741824&Pt&&(Pt=0),Ct)At.set(t,e);else{if(void 0!==It&&!1===It(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Nt)Object.defineProperty(t,Lt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Lt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Lt]=e}}return e}(t);if("function"==typeof t.toString)return Ot(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Ot(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Rt(e)}var At,It=Object.isExtensible,Nt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Ct="function"==typeof WeakMap;Ct&&(At=new WeakMap);var Pt=0,Lt="__immutablehash__";"function"==typeof Symbol&&(Lt=Symbol(Lt));var kt=16,Dt=255,xt=0,Mt={};function Ut(t){vt(t!==1/0,"Cannot perform this action with an infinite size.")}function Ft(t){return null==t?$t():jt(t)&&!l(t)?t:$t().withMutations(function(e){var n=r(t);Ut(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function jt(t){return!(!t||!t[Vt])}e(Ft,Et),Ft.of=function(){var e=t.call(arguments,0);return $t().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},Ft.prototype.toString=function(){return this.__toString("Map {","}")},Ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Ft.prototype.set=function(t,e){return Zt(this,t,e)},Ft.prototype.setIn=function(t,e){return this.updateIn(t,m,function(){return e})},Ft.prototype.remove=function(t){return Zt(this,t,m)},Ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return m})},Ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,i){var o=e===m,a=n.next();if(a.done){var s=o?r:e,u=i(s);return u===s?e:u}vt(o||e&&e.set,"invalid keyPath");var c=a.value,l=o?m:e.get(c,m),f=t(l,n,r,i);return f===l?e:f===m?e.remove(c):(o?$t():e).set(c,f)}(this,rn(t),e,n);return r===m?void 0:r},Ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$t()},Ft.prototype.merge=function(){return re(this,void 0,arguments)},Ft.prototype.mergeWith=function(e){var n=t.call(arguments,1);return re(this,e,n)},Ft.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,$t(),function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]})},Ft.prototype.mergeDeep=function(){return re(this,ie,arguments)},Ft.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return re(this,oe(e),n)},Ft.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,$t(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]})},Ft.prototype.sort=function(t){return Ne(qe(this,t))},Ft.prototype.sortBy=function(t,e){return Ne(qe(this,e,t))},Ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Ft.prototype.asImmutable=function(){return this.__ensureOwner()},Ft.prototype.wasAltered=function(){return this.__altered},Ft.prototype.__iterator=function(t,e){return new zt(this,t,e)},Ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},Ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Jt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ft.isMap=jt;var Bt,Vt="@@__IMMUTABLE_MAP__@@",Gt=Ft.prototype;function Wt(t,e){this.ownerID=t,this.entries=e}function Ht(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Kt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function qt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function zt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Qt(t._root)}function Xt(t,e){return j(t,e[0],e[1])}function Qt(t,e){return{node:t,index:0,__prev:e}}function Jt(t,e,n,r){var i=Object.create(Gt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function $t(){return Bt||(Bt=Jt(0))}function Zt(t,e,n){var r,i;if(t._root){var o=b(g),a=b(E);if(r=te(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===m?-1:1:0)}else{if(n===m)return t;i=1,r=new Wt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Jt(i,r):$t()}function te(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===m?t:(T(s),T(a),new Yt(e,r,[i,o]))}function ee(t){return t.constructor===Yt||t.constructor===qt}function ne(t,e,n,r,i){if(t.keyHash===r)return new qt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v;return new Ht(e,1<<a|1<<s,a===s?[ne(t,e,n+_,r,i)]:(o=new Yt(e,r,i),a<s?[t,o]:[o,t]))}function re(t,e,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map(function(t){return ft(t)})),i.push(u)}return ae(t,e,i)}function ie(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):dt(t,e)?t:e}function oe(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return dt(e,i)?e:i}}function ae(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,m,function(t){return t===m?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function se(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,127&(t+=t>>8)+(t>>16)}function ue(t,e,n,r){var i=r?t:R(t);return i[e]=n,i}Gt[Vt]=!0,Gt.delete=Gt.remove,Gt.removeIn=Gt.deleteIn,Wt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(dt(n,i[o][0]))return i[o][1];return r},Wt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===m,u=this.entries,c=0,l=u.length;c<l&&!dt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(T(a),(s||!f)&&T(o),!s||1!==u.length){if(!f&&!s&&u.length>=ce)return function(t,e,n,r){t||(t=new S);for(var i=new Yt(t,wt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,u,r,i);var p=t&&t===this.ownerID,h=p?u:R(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Wt(t,h)}},Ht.prototype.get=function(t,e,n,r){void 0===e&&(e=wt(n));var i=1<<((0===t?e:e>>>t)&v),o=this.bitmap;return 0==(o&i)?r:this.nodes[se(o&i-1)].get(t+_,e,n,r)},Ht.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=wt(r));var s=(0===e?n:n>>>e)&v,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&i===m)return this;var f=se(c&u-1),p=this.nodes,h=l?p[f]:void 0,d=te(h,t,e+_,n,r,i,o,a);if(d===h)return this;if(!l&&d&&p.length>=le)return function(t,e,n,r,i){for(var o=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new Kt(t,o+1,a)}(t,p,c,s,d);if(l&&!d&&2===p.length&&ee(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&ee(d))return d;var g=t&&t===this.ownerID,E=l?d?c:c^u:c|u,b=l?d?ue(p,f,d,g):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(p,f,g):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}(p,f,d,g);return g?(this.bitmap=E,this.nodes=b,this):new Ht(t,E,b)},Kt.prototype.get=function(t,e,n,r){void 0===e&&(e=wt(n));var i=(0===t?e:e>>>t)&v,o=this.nodes[i];return o?o.get(t+_,e,n,r):r},Kt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=wt(r));var s=(0===e?n:n>>>e)&v,u=i===m,c=this.nodes,l=c[s];if(u&&!l)return this;var f=te(l,t,e+_,n,r,i,o,a);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<fe)return function(t,e,n,r){for(var i=0,o=0,a=new Array(p),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new Ht(t,i,a)}(t,c,0,s)}else p++;var h=t&&t===this.ownerID,d=ue(c,s,f,h);return h?(this.count=p,this.nodes=d,this):new Kt(t,p,d)},qt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(dt(n,i[o][0]))return i[o][1];return r},qt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=wt(r));var s=i===m;if(n!==this.keyHash)return s?this:(T(a),T(o),ne(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!dt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(T(a),(s||!f)&&T(o),s&&2===l)return new Yt(t,this.keyHash,u[1^c]);var p=t&&t===this.ownerID,h=p?u:R(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new qt(t,this.keyHash,h)},Yt.prototype.get=function(t,e,n,r){return dt(n,this.entry[0])?this.entry[1]:r},Yt.prototype.update=function(t,e,n,r,i,o,a){var s=i===m,u=dt(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(T(a),s?void T(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Yt(t,this.keyHash,[r,i]):(T(o),ne(this,t,e,wt(r),[r,i])))},Wt.prototype.iterate=qt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Ht.prototype.iterate=Kt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Yt.prototype.iterate=function(t,e){return t(this.entry)},e(zt,F),zt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return Xt(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return Xt(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Xt(t,o.entry);e=this._stack=Qt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ce=y/4,le=y/2,fe=y/4;function pe(t){var e=Te();if(null==t)return e;if(he(t))return t;var n=i(t),r=n.size;return 0===r?e:(Ut(r),r>0&&r<y?be(0,r,_,null,new ye(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function he(t){return!(!t||!t[de])}e(pe,bt),pe.of=function(){return this(arguments)},pe.prototype.toString=function(){return this.__toString("List [","]")},pe.prototype.get=function(t,e){if((t=O(this,t))>=0&&t<this.size){var n=we(this,t+=this._origin);return n&&n.array[t&v]}return e},pe.prototype.set=function(t,e){return function(t,e,n){if((e=O(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Oe(t,e).set(0,n):Oe(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=b(E);return e>=Ie(t._capacity)?r=Se(r,t.__ownerID,0,e,n,o):i=Se(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):be(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},pe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},pe.prototype.insert=function(t,e){return this.splice(t,0,e)},pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=_,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Te()},pe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Oe(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},pe.prototype.pop=function(){return Oe(this,0,-1)},pe.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Oe(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},pe.prototype.shift=function(){return Oe(this,1)},pe.prototype.merge=function(){return Ae(this,void 0,arguments)},pe.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Ae(this,e,n)},pe.prototype.mergeDeep=function(){return Ae(this,ie,arguments)},pe.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Ae(this,oe(e),n)},pe.prototype.setSize=function(t){return Oe(this,0,t)},pe.prototype.slice=function(t,e){var n=this.size;return I(t,e,n)?this:Oe(this,N(t,n),C(e,n))},pe.prototype.__iterator=function(t,e){var n=0,r=Ee(this,e);return new F(function(){var e=r();return e===ge?{value:void 0,done:!0}:j(t,n++,e)})},pe.prototype.__iterate=function(t,e){for(var n,r=0,i=Ee(this,e);(n=i())!==ge&&!1!==t(n,r++,this););return r},pe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?be(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},pe.isList=he;var de="@@__IMMUTABLE_LIST__@@",_e=pe.prototype;function ye(t,e){this.array=t,this.ownerID=e}_e[de]=!0,_e.delete=_e.remove,_e.setIn=Gt.setIn,_e.deleteIn=_e.removeIn=Gt.removeIn,_e.update=Gt.update,_e.updateIn=Gt.updateIn,_e.mergeIn=Gt.mergeIn,_e.mergeDeepIn=Gt.mergeDeepIn,_e.withMutations=Gt.withMutations,_e.asMutable=Gt.asMutable,_e.asImmutable=Gt.asImmutable,_e.wasAltered=Gt.wasAltered,ye.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&v;if(r>=this.array.length)return new ye([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-_,n))===a&&o)return this}if(o&&!i)return this;var s=Re(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},ye.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&v;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-_,n))===o&&i===this.array.length-1)return this}var a=Re(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var ve,me,ge={};function Ee(t,e){var n=t._origin,r=t._capacity,i=Ie(r),o=t._tail;return function t(a,s,u){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>n?0:n-a,c=r-a;return c>y&&(c=y),function(){if(u===c)return ge;var t=e?--c:u++;return s&&s[t]}}(a,u):function(i,o,a){var s,u=i&&i.array,c=a>n?0:n-a>>o,l=1+(r-a>>o);return l>y&&(l=y),function(){for(;;){if(s){var n=s();if(n!==ge)return n;s=null}if(c===l)return ge;var r=e?--l:c++;s=t(u&&u[r],o-_,a+(r<<o))}}}(a,s,u)}(t._root,t._level,0)}function be(t,e,n,r,i,o,a){var s=Object.create(_e);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Te(){return ve||(ve=be(0,0,_))}function Se(t,e,n,r,i,o){var a,s=r>>>n&v,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[s],l=Se(c,e,n-_,r,i,o);return l===c?t:((a=Re(t,e)).array[s]=l,a)}return u&&t.array[s]===i?t:(T(o),a=Re(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Re(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function we(t,e){if(e>=Ie(t._capacity))return t._tail;if(e<1<<t._level+_){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&v],r-=_;return n}}function Oe(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new S,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new ye(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=_);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Ie(o),p=Ie(s);p>=1<<u+_;)c=new ye(c&&c.array.length?[c]:[],r),u+=_;var h=t._tail,d=p<f?we(t,s-1):p>f?new ye([],r):h;if(h&&p>f&&a<o&&h.array.length){for(var y=c=Re(c,r),m=u;m>_;m-=_){var g=f>>>m&v;y=y.array[g]=Re(y.array[g],r)}y.array[f>>>_&v]=h}if(s<o&&(d=d&&d.removeAfter(r,0,s)),a>=p)a-=p,s-=p,u=_,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||p<f){for(l=0;c;){var E=a>>>u&v;if(E!==p>>>u&v)break;E&&(l+=(1<<u)*E),u-=_,c=c.array[E]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&p<f&&(c=c.removeAfter(r,u,p-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):be(a,s,u,c,d)}function Ae(t,e,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map(function(t){return ft(t)})),r.push(c)}return o>t.size&&(t=t.setSize(o)),ae(t,e,r)}function Ie(t){return t<y?0:t-1>>>_<<_}function Ne(t){return null==t?Le():Ce(t)?t:Le().withMutations(function(e){var n=r(t);Ut(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Ce(t){return jt(t)&&l(t)}function Pe(t,e,n,r){var i=Object.create(Ne.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Le(){return me||(me=Pe($t(),Te()))}function ke(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===m){if(!u)return t;a.size>=y&&a.size>=2*o.size?(r=(i=a.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Pe(r,i)}function De(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function xe(t){this._iter=t,this.size=t.size}function Me(t){this._iter=t,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Fe(t){var e=tn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=en,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===D){var r=t.__iterator(e,n);return new F(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===k?L:k,n)},e}function je(t,e,n){var r=tn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,m);return o===m?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(D,i);return new F(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return j(r,s,e.call(n,a[1],s,t),i)})},r}function Be(t,e){var n=tn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Fe(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=en,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function Ve(t,e,n,r){var i=tn(t);return r&&(i.has=function(r){var i=t.get(r,m);return i!==m&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,m);return o!==m&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(D,o),s=0;return new F(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return j(i,r?c:s++,l,o)}})},i}function Ge(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),I(e,n,i))return t;var o=N(e,i),a=C(n,i);if(o!=o||a!=a)return Ge(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u==u&&(s=u<0?0:u);var c=tn(t);return c.size=0===s?s:t.size&&s||void 0,!r&&it(t)&&s>=0&&(c.get=function(e,n){return(e=O(this,e))>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new F(function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var t=i.next();return r||e===k?t:j(e,u-1,e===L?void 0:t.value[1],t)})},c}function We(t,e,n,r){var i=tn(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate(function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(D,o),u=!0,c=0;return new F(function(){var t,o,l;do{if((t=s.next()).done)return r||i===k?t:j(i,c++,i===L?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return i===D?t:j(i,o,l,t)})},i}function He(t,e){var n=s(t),i=[t].concat(e).map(function(t){return a(t)?n&&(t=r(t)):t=n?at(t):st(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&s(o)||u(t)&&u(o))return o}var c=new tt(i);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function Ke(t,e,n){var r=tn(t);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function t(u,c){var l=this;u.__iterate(function(i,u){return(!e||c<e)&&a(i)?t(i,c+1):!1===r(i,n?u:o++,l)&&(s=!0),!s},i)}(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),s=[],u=0;return new F(function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(r===D&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:j(r,u++,c,t);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}})},r}function qe(t,e,n){e||(e=nn);var r=s(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?Y(o):u(t)?z(o):X(o)}function Ye(t,e,n){if(e||(e=nn),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return ze(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return ze(e,t,n)?n:t})}function ze(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function Xe(t,e,r){var i=tn(t);return i.size=new tt(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(k,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=n(t),W(i?t.reverse():t)}),a=0,s=!1;return new F(function(){var n;return s||(n=o.map(function(t){return t.next()}),s=n.some(function(t){return t.done})),s?{value:void 0,done:!0}:j(t,a++,e.apply(null,n.map(function(t){return t.value})))})},i}function Qe(t,e){return it(t)?e:t.constructor(e)}function Je(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function $e(t){return Ut(t.size),w(t)}function Ze(t){return s(t)?r:u(t)?i:o}function tn(t){return Object.create((s(t)?Y:u(t)?z:X).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function nn(t,e){return t>e?1:t<e?-1:0}function rn(t){var e=W(t);if(!e){if(!K(t))throw new TypeError("Expected iterable or array-like: "+t);e=W(n(t))}return e}function on(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){vt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(t){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Ft(o)},i=r.prototype=Object.create(an);return i.constructor=r,r}e(Ne,Ft),Ne.of=function(){return this(arguments)},Ne.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ne.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Ne.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Le()},Ne.prototype.set=function(t,e){return ke(this,t,e)},Ne.prototype.remove=function(t){return ke(this,t,m)},Ne.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ne.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Ne.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Ne.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Pe(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Ne.isOrderedMap=Ce,Ne.prototype[d]=!0,Ne.prototype.delete=Ne.prototype.remove,e(De,Y),De.prototype.get=function(t,e){return this._iter.get(t,e)},De.prototype.has=function(t){return this._iter.has(t)},De.prototype.valueSeq=function(){return this._iter.valueSeq()},De.prototype.reverse=function(){var t=this,e=Be(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},De.prototype.map=function(t,e){var n=this,r=je(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},De.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?$e(this):0,function(i){return t(i,e?--n:n++,r)}),e)},De.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(k,e),r=e?$e(this):0;return new F(function(){var i=n.next();return i.done?i:j(t,e?--r:r++,i.value,i)})},De.prototype[d]=!0,e(xe,z),xe.prototype.includes=function(t){return this._iter.includes(t)},xe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},xe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(k,e),r=0;return new F(function(){var e=n.next();return e.done?e:j(t,r++,e.value,e)})},e(Me,X),Me.prototype.has=function(t){return this._iter.includes(t)},Me.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Me.prototype.__iterator=function(t,e){var n=this._iter.__iterator(k,e);return new F(function(){var e=n.next();return e.done?e:j(t,e.value,e.value,e)})},e(Ue,Y),Ue.prototype.entrySeq=function(){return this._iter.toSeq()},Ue.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Je(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},Ue.prototype.__iterator=function(t,e){var n=this._iter.__iterator(k,e);return new F(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Je(r);var i=a(r);return j(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},xe.prototype.cacheResult=De.prototype.cacheResult=Me.prototype.cacheResult=Ue.prototype.cacheResult=en,e(on,Et),on.prototype.toString=function(){return this.__toString(un(this)+" {","}")},on.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},on.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},on.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=sn(this,$t()))},on.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+un(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:sn(this,n)},on.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:sn(this,e)},on.prototype.wasAltered=function(){return this._map.wasAltered()},on.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},on.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},on.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?sn(this,e,t):(this.__ownerID=t,this._map=e,this)};var an=on.prototype;function sn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function un(t){return t._name||t.constructor.name||"Record"}function cn(t){return null==t?yn():ln(t)&&!l(t)?t:yn().withMutations(function(e){var n=o(t);Ut(n.size),n.forEach(function(t){return e.add(t)})})}function ln(t){return!(!t||!t[pn])}an.delete=an.remove,an.deleteIn=an.removeIn=Gt.removeIn,an.merge=Gt.merge,an.mergeWith=Gt.mergeWith,an.mergeIn=Gt.mergeIn,an.mergeDeep=Gt.mergeDeep,an.mergeDeepWith=Gt.mergeDeepWith,an.mergeDeepIn=Gt.mergeDeepIn,an.setIn=Gt.setIn,an.update=Gt.update,an.updateIn=Gt.updateIn,an.withMutations=Gt.withMutations,an.asMutable=Gt.asMutable,an.asImmutable=Gt.asImmutable,e(cn,Tt),cn.of=function(){return this(arguments)},cn.fromKeys=function(t){return this(r(t).keySeq())},cn.prototype.toString=function(){return this.__toString("Set {","}")},cn.prototype.has=function(t){return this._map.has(t)},cn.prototype.add=function(t){return dn(this,this._map.set(t,!0))},cn.prototype.remove=function(t){return dn(this,this._map.remove(t))},cn.prototype.clear=function(){return dn(this,this._map.clear())},cn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},cn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(t){return t.includes(n)})||t.remove(n)})})},cn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(t){return t.includes(n)})&&t.remove(n)})})},cn.prototype.merge=function(){return this.union.apply(this,arguments)},cn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},cn.prototype.sort=function(t){return vn(qe(this,t))},cn.prototype.sortBy=function(t,e){return vn(qe(this,e,t))},cn.prototype.wasAltered=function(){return this._map.wasAltered()},cn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},cn.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},cn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},cn.isSet=ln;var fn,pn="@@__IMMUTABLE_SET__@@",hn=cn.prototype;function dn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function _n(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function yn(){return fn||(fn=_n($t()))}function vn(t){return null==t?Tn():mn(t)?t:Tn().withMutations(function(e){var n=o(t);Ut(n.size),n.forEach(function(t){return e.add(t)})})}function mn(t){return ln(t)&&l(t)}hn[pn]=!0,hn.delete=hn.remove,hn.mergeDeep=hn.merge,hn.mergeDeepWith=hn.mergeWith,hn.withMutations=Gt.withMutations,hn.asMutable=Gt.asMutable,hn.asImmutable=Gt.asImmutable,hn.__empty=yn,hn.__make=_n,e(vn,cn),vn.of=function(){return this(arguments)},vn.fromKeys=function(t){return this(r(t).keySeq())},vn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vn.isOrderedSet=mn;var gn,En=vn.prototype;function bn(t,e){var n=Object.create(En);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Tn(){return gn||(gn=bn(Le()))}function Sn(t){return null==t?Nn():Rn(t)?t:Nn().unshiftAll(t)}function Rn(t){return!(!t||!t[On])}En[d]=!0,En.__empty=Tn,En.__make=bn,e(Sn,bt),Sn.of=function(){return this(arguments)},Sn.prototype.toString=function(){return this.__toString("Stack [","]")},Sn.prototype.get=function(t,e){var n=this._head;for(t=O(this,t);n&&t--;)n=n.next;return n?n.value:e},Sn.prototype.peek=function(){return this._head&&this._head.value},Sn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):In(t,e)},Sn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Ut(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):In(e,n)},Sn.prototype.pop=function(){return this.slice(1)},Sn.prototype.unshift=function(){return this.push.apply(this,arguments)},Sn.prototype.unshiftAll=function(t){return this.pushAll(t)},Sn.prototype.shift=function(){return this.pop.apply(this,arguments)},Sn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Nn()},Sn.prototype.slice=function(t,e){if(I(t,e,this.size))return this;var n=N(t,this.size);if(C(e,this.size)!==this.size)return bt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):In(r,i)},Sn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?In(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Sn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Sn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new F(function(){if(r){var e=r.value;return r=r.next,j(t,n++,e)}return{value:void 0,done:!0}})},Sn.isStack=Rn;var wn,On="@@__IMMUTABLE_STACK__@@",An=Sn.prototype;function In(t,e,n,r){var i=Object.create(An);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Nn(){return wn||(wn=In(0))}function Cn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}An[On]=!0,An.withMutations=Gt.withMutations,An.asMutable=Gt.asMutable,An.asImmutable=Gt.asImmutable,An.wasAltered=Gt.wasAltered,n.Iterator=F,Cn(n,{toArray:function(){Ut(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new xe(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new De(this,!0)},toMap:function(){return Ft(this.toKeyedSeq())},toObject:function(){Ut(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Ne(this.toKeyedSeq())},toOrderedSet:function(){return vn(s(this)?this.valueSeq():this)},toSet:function(){return cn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Me(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sn(s(this)?this.valueSeq():this)},toList:function(){return pe(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Qe(this,He(this,e))},includes:function(t){return this.some(function(e){return dt(e,t)})},entries:function(){return this.__iterator(D)},every:function(t,e){Ut(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Qe(this,Ve(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Ut(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ut(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""}),e},keys:function(){return this.__iterator(L)},map:function(t,e){return Qe(this,je(this,t,e))},reduce:function(t,e,n){var r,i;return Ut(this.size),arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Qe(this,Be(this,!0))},slice:function(t,e){return Qe(this,Ge(this,t,e,!0))},some:function(t,e){return!this.every(xn(t),e)},sort:function(t){return Qe(this,qe(this,t))},values:function(){return this.__iterator(k)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return w(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return _t(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Dn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(xn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(A)},flatMap:function(t,e){return Qe(this,function(t,e,n){var r=Ze(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Qe(this,Ke(this,t,!0))},fromEntrySeq:function(){return new Ue(this)},get:function(t,e){return this.find(function(e,n){return dt(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=rn(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,m):m)===m)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=s(t),i=(l(t)?Ne():Ft()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return(t=t||[]).push(r?[a,o]:o),t})});var o=Ze(t);return i.map(function(e){return Qe(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return dt(e,t)})},keySeq:function(){return this.toSeq().map(kn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ye(this,t)},maxBy:function(t,e){return Ye(this,e,t)},min:function(t){return Ye(this,t?Mn(t):jn)},minBy:function(t,e){return Ye(this,e?Mn(e):jn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Qe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Qe(this,We(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(xn(t),e)},sortBy:function(t,e){return Qe(this,qe(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Qe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Qe(this,function(t,e,n){var r=tn(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(D,i),s=!0;return new F(function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===D?t:j(r,u,c,t):(s=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(xn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return function(t,e){return e=St(e,3432918353),e=St(e<<15|e>>>-15,461845907),e=St(e<<13|e>>>-13,5),e=St((e=(e+3864292196|0)^t)^e>>>16,2246822507),Rt((e=St(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Bn(wt(t),wt(e))|0}:function(t,e){r=r+Bn(wt(t),wt(e))|0}:e?function(t){r=31*r+wt(t)|0}:function(t){r=r+wt(t)|0}),r)}(this))}});var Pn=n.prototype;Pn[f]=!0,Pn[U]=Pn.values,Pn.__toJS=Pn.toArray,Pn.__toStringMapper=Un,Pn.inspect=Pn.toSource=function(){return this.toString()},Pn.chain=Pn.flatMap,Pn.contains=Pn.includes,Cn(r,{flip:function(){return Qe(this,Fe(this))},mapEntries:function(t,e){var n=this,r=0;return Qe(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Qe(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var Ln=r.prototype;function kn(t,e){return e}function Dn(t,e){return[e,t]}function xn(t){return function(){return!t.apply(this,arguments)}}function Mn(t){return function(){return-t.apply(this,arguments)}}function Un(t){return"string"==typeof t?JSON.stringify(t):String(t)}function Fn(){return R(arguments)}function jn(t,e){return t<e?1:t>e?-1:0}function Bn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Ln[p]=!0,Ln[U]=Pn.entries,Ln.__toJS=Pn.toObject,Ln.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Un(t)},Cn(i,{toKeyedSeq:function(){return new De(this,!1)},filter:function(t,e){return Qe(this,Ve(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Qe(this,Be(this,!1))},slice:function(t,e){return Qe(this,Ge(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=N(t,t<0?this.count():this.size);var r=this.slice(0,t);return Qe(this,1===n?r:r.concat(R(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Qe(this,Ke(this,t,!1))},get:function(t,e){return(t=O(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=O(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Qe(this,function(t,e){var n=tn(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(k,r),a=0;return new F(function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?j(n,a++,e):j(n,a++,i.value,i)})},n}(this,t))},interleave:function(){var t=[this].concat(R(arguments)),e=Xe(this.toSeq(),z.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Qe(this,n)},keySeq:function(){return mt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Qe(this,We(this,t,e,!1))},zip:function(){var t=[this].concat(R(arguments));return Qe(this,Xe(this,Fn,t))},zipWith:function(t){var e=R(arguments);return e[0]=this,Qe(this,Xe(this,t,e))}}),i.prototype[h]=!0,i.prototype[d]=!0,Cn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Pn.includes,o.prototype.contains=o.prototype.includes,Cn(Y,r.prototype),Cn(z,i.prototype),Cn(X,o.prototype),Cn(Et,r.prototype),Cn(bt,i.prototype),Cn(Tt,o.prototype),{Iterable:n,Seq:q,Collection:gt,Map:Ft,OrderedMap:Ne,List:pe,Stack:Sn,Set:cn,OrderedSet:vn,Record:on,Range:mt,Repeat:yt,is:dt,fromJS:ft}}()},G5gT:function(t,e,n){"use strict";e.Event=n("GX8z"),e.Method=n("M3Ve"),e.StatusCode=n("s2Nl"),e.StatusFamily=n("f1wx");var r=n("r3Ta");e.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,e.Endpoints,e.EndpointsProvider,e.TokenProvider,e.SessionProviders,e.SessionConfig,e.HTTPURI,e.HTTPArgs,e.HTTPResponse,e.DealerMessage,e.ClientEventData},GX8z:function(t,e,n){"use strict";var r=n("d8l3");t.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},GeWT:function(t,e,n){"use strict";var r=n("xVO4"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=h(n);i&&i!==d&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(e),_=u(n),y=0;y<a.length;++y){var v=a[y];if(!(o[v]||r&&r[v]||_&&_[v]||s&&s[v])){var m=p(n,v);try{c(e,v,m)}catch(t){}}}return e}return e}},Gm6p:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("P1TA"),a=n("1Wwy"),s=n("6w3l");function u(t){i.call(this),this.request=t.request.bind(t),this.getConnectionId=t.getConnectionId.bind(t),this.getEndpoints=t.getEndpoints.bind(t),this.getInitTime=t.getInitTime.bind(t),this.getLastToken=t.getLastToken.bind(t),this.matchMessages=t.matchMessages.bind(t),this.handlePushRequests=t.handlePushRequests.bind(t),this.proxyEmit(t,o.TRANSPORT_ACCESS_TOKEN,this.EVENT_ACCESS_TOKEN),this.proxyEmit(t,o.TRANSPORT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_OFFLINE),this.proxyEmit(t,o.TRANSPORT_CONNECTION_ONLINE,this.EVENT_CONNECTION_ONLINE),this.proxyEmit(t,o.TRANSPORT_ENDPOINTS_RESOLVED,this.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(this.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,this.on.bind(t))),this.onRemoveListener(this.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,this.removeListener.bind(t)))}r(u,i),u.prototype.EVENT_ACCESS_TOKEN="access_token",u.prototype.EVENT_CONNECTION_ID="connection_id",u.prototype.EVENT_CONNECTION_OFFLINE="connection_offline",u.prototype.EVENT_CONNECTION_ONLINE="connection_online",u.prototype.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved",u.prototype.StatusCode=a,u.prototype.StatusFamily=s,u.prototype._onAddConnectionIdListener=function(t,e){e.preventDefault();var n=this.EVENT_CONNECTION_ID,r=e.listener,a=function(t){r.call(this,i.createEvent(n,t))}.bind(this);r.$proxy_wrapper=a,t(o.TRANSPORT_CONNECTION_ID,a,e.options)},u.prototype._onRemoveConnectionIdListener=function(t,e){e.preventDefault(),e.listener.$proxy_wrapper&&t(o.TRANSPORT_CONNECTION_ID,e.listener.$proxy_wrapper,e.options)},t.exports=u},Grao:function(t,e,n){"use strict";var r=n("/ub/"),i={generate:function(t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(256*Math.random()|0);return e},generateBase64:function(t){return r.encode(i.generate(t))}};t.exports=i},"H+5/":function(t,e,n){"use strict";t.exports=function(t){this.get=t.get.bind(t),this.has=t.has.bind(t)}},H2G3:function(t,e,n){"use strict";var r=n("asuC"),i=n("Lc1h"),o=n("EiP0"),a=n("CTrm"),s=n("1Wwy"),u=n("pPJX"),c=function(){},l={POST:!0,PUT:!0,DELETE:!0},f={json:!0,text:!0,document:!0},p={},h=r.resolve(p);function d(t,e){var n=e||{};this._url=t,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||"",this._canceller=n.canceller||r.defer().promise,this._ignoreResponseBody=n.ignoreResponseBody,this._parseResponseHeaders=n.parseResponseHeaders,this._withCredentials="include"===n.credentials,this._forcePolyfill=n.forcePolyfill,this._timing=n.timing?{completed:0}:null,this._requestStartTime=0,this._xhr=new XMLHttpRequest,this._abort=this._abort.bind(this)}d.request=function(t,e){return new d(t,e).send()},d.prototype._abort=function(){this._xhr&&(this._xhr.abort(),this._xhr.onprogress=c,this._xhr.onerror=c,this._xhr.onreadystatechange=c,this._xhr=null)},d.prototype._handleStateChanged=function(t,e,n){this._xhr&&4===this._xhr.readyState&&(this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),this._xhr.onprogress=null,this._xhr.onerror=null,this._xhr.onreadystatechange=null,r.race([this._canceller,h]).then(function(r){if(r===p&&this._xhr){var a=this._xhr;if(a){var u=a.status,c=new i(a.responseURL||t,u);if(c.body=null,n&&n.isOnline&&(c.offline=!n.isOnline()),(this._parseResponseHeaders||u>299)&&(c.headers=new o(a.getAllResponseHeaders())),!this._ignoreResponseBody&&u!==s.NO_CONTENT&&2===c.getStatusFamily()){var l=this._responseType;if(!this._forcePolyfill&&"response"in a&&l===a.responseType)c.body=a.response;else if("document"===l)c.body=a.responseXML;else if("json"===l)try{c.body=JSON.parse(a.responseText)}catch(t){c.body=null}else"text"!==l&&""!==l||(c.body=a.responseText)}c.timing=this._timing,e.resolve(c),this._xhr=null}}}.bind(this)).catch(function(){}))},d.prototype.send=function(){return r.race([this._canceller,h]).then(function(t){var e=r.defer();if(t!==p)return e.promise;var n=this._url;if(!n)return e.reject(new TypeError("Request URL cannot be blank.")),e.promise;var i=null,o=this._payload,s=this._method;s in l&&o?i=o:o&&(n+="?"+o);var h=this._xhr;if(!h)return e.reject(new Error("Request has been closed.")),e.promise;h.open(s,n,!0),h.onprogress=c,h.onerror=function(){e.reject(new a(u.HTTP_REQUEST_FAILED,"Request cannot be completed.",this.status)),this.onerror=c},h.onreadystatechange=this._handleStateChanged.bind(this,n,e);var d=this._responseType;if(d)if(this._forcePolyfill){if(!(d in f))return e.reject(new TypeError('Cannot polyfill responseType "'+d+'"')),e.promise}else{if(!("responseType"in h||d in f))return e.reject(new TypeError("Cannot set responseType: not supported in browser.")),e.promise;if(h.responseType=d,d!==this._xhr.responseType&&!(d in f))return e.reject(new TypeError('Unknown responseType "'+d+'".')),e.promise}var _=this._headers;if(_)for(var y in _)if(_.hasOwnProperty(y))try{h.setRequestHeader(y,_[y])}catch(t){return e.reject(t),e.promise}try{this._requestStartTime=Date.now(),h.send(i)}catch(t){e.reject(t)}return this._canceller.then(this._abort,this._abort),e.promise}.bind(this))},t.exports=d},H7on:function(t,e,n){"use strict";var r=n("asuC"),i=n("jGCg"),o=n("qt0y"),a=n("uDox").forTag("playback.storage_resolve");function s(t){this._transport=t}s.prototype._parseResponse=function(t,e){var n;if(200!==e.status)return(n=new i(o.STORAGE_FAILED_WITH_STATUS,"Storage Resolve responded with "+e.status)).status=e.status,n.fileId=t,r.reject(n);var a=e.body;return a&&a.cdnurl&&a.cdnurl.length?{uri:a.cdnurl[0],uris:a.cdnurl,protection:"cenc"}:((n=new i(o.STORAGE_RETURNED_NO_TRACKS,"Storage Resolve returned no tracks for fileId "+t)).fileId=t,r.reject(n))},s.prototype.getCDNURL=function(t,e){a.info("Requesting CDN URL for ",e);var n=["http://@webgate/storage-resolve/files/audio/interactive/",e,"?version=10000000&product=9&platform=39&alt=json"].join("");return this._transport.request(n,{responseType:"json",retry:{condition:function(t,e){return t.getStatusFamily()!==e.SUCCESS}}}).then(this._parseResponse.bind(this,e))},s.prototype.getManifest=function(t){var e="https://seektables.scdn.co/seektable/"+t+".json";return a.info("Requesting JSON manifest for ",t),this._transport.request(e,{responseType:"json",retry:{condition:function(t,e){return t.getStatusFamily()!==e.SUCCESS}}}).then(function(e){var n;return 200!==e.status?((n=new i(o.STORAGE_TRACK_MANIFEST_FAILED,"Track manifest request failed with status code "+e.status)).debug.file_id=t,n.status=e.status,r.reject(n)):e.body?e.body:((n=new i(o.STORAGE_TRACK_MANIFEST_EMPTY,"Received empty manifest.")).debug.file_id=t,n.status=e.status,r.reject(n))})},t.exports=s},HhP1:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("3ZRO"),i=Object(r.f)(),o="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)(function(){i.console.log(o+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)(function(){i.console.warn(o+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)(function(){i.console.error(o+"[Error]: "+t.join(" "))})},t}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},HrKg:function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},Hsbu:function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},target_uri:{type:"string",nullable:!0},item_id:{type:"string",nullable:!0},action_type:{type:"string",nullable:!0},action_intent:{type:"string",nullable:!0}})),{name:"KmInteractionNonAuth",data:e}}},I0CK:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("MFfK"),o=r(n("DqZ+")),a=function(){function t(t){this.logger=t}return t.prototype.createEventObserver=function(){var t=this;return new o.default(function(e){var n=(0,i.generatePlaybackSessionMessage)(e);t.logger.log(n)})},t}();e.default=a},I1bA:function(t,e,n){"use strict";t.exports=n("F0Fi")()?Object.assign:n("QJbc")},"IBm/":function(t,e,n){"use strict";var r=n("8ZXl");t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},IL7q:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},IPtZ:function(t,e,n){"use strict";var r=n("pRMk").Buffer,i=n(2);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i=r.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=i,n=a,o.data.copy(e,n),a+=o.data.length,o=o.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},IQWk:function(t,e,n){"use strict";t.exports=function(t){this.get=t.get.bind(t),this.has=t.has.bind(t)}},Ijbi:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},"J+ux":function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("8Pwi"),s=n("uDox").forTag("playback.acme_buffer");function u(){}function c(t,e,n){i.call(this);var r=n||{};this._mediaSource=null,this._sourceBuffers={},this._appendingFragments=[],this._updateQueue=[],this._codecs=e||[],this._playId=0,this._lastBufferClearTime=Date.now(),this._tracker=t,this._disableBufferAbort=r.disableBufferAbort,this._onSourceOpen=this._onSourceOpen.bind(this),this._onSourceClose=this._onSourceClose.bind(this),this.dequeueUpdates=this.dequeueUpdates.bind(this),this._init()}r(c,i),c.create=function(t,e,n){return new c(t,e,n)},c.prototype._init=function(){var t=new MediaSource;t.addEventListener(a.MEDIA_SOURCE_OPEN,this._onSourceOpen),t.addEventListener(a.MEDIA_SOURCE_CLOSE,this._onSourceClose),this._mediaSource=t,this._sourceBuffers={}},c.prototype._onSourceOpen=function(){s.info("MediaSource opened.");var t=this._mediaSource;if(0===t.sourceBuffers.length&&"open"===t.readyState){s.info("Creating source buffers for codecs",this._codecs);for(var e=0,n=this._codecs.length;e<n;e++)this._addSourceBuffer(this._codecs[e])}this.dequeueUpdates(),this.emit(a.BUFFER_SOURCE_OPEN)},c.prototype._onSourceClose=function(){s.info("MediaSource closed."),this._destroySourceBuffers(),this.emit(a.BUFFER_SOURCE_CLOSE)},c.prototype._removeAppendingFragment=function(t){if(t){var e=this._appendingFragments,n=e.indexOf(t);-1!==n&&e.splice(n,1)}},c.prototype.dequeueUpdates=function(){this._updateQueue.length&&this.tryUpdate(this._updateQueue.shift())},c.prototype._addSourceBuffer=function(t){var e=this._mediaSource.addSourceBuffer(t);e.addEventListener(a.SOURCE_BUFFER_UPDATE_END,this.dequeueUpdates),this._sourceBuffers[t]=e},c.prototype._trackBufferingProgress=function(t){this._tracker.trackBytesDownloaded(t.audio.buffer.byteLength),t.video&&this._tracker.trackBytesDownloaded(t.video.buffer.byteLength)},c.prototype.appendFragment=function(t,e,n){if(-1!==this._appendingFragments.indexOf(e))return o.resolve([!1]);this._appendingFragments.push(e),this.emit(a.BUFFERING_START);var r=Date.now(),i=this._playId,u=t.toLogJSON();return t.getBufferForFragment(e).then(function(t){return this._trackBufferingProgress(t),i!==this._playId?(s.info("Append fragment dropped: playId has changed."),[!1]):(n||this._checkStalling(Date.now()-r,e,!1),this._appendBufferData(t,e,i,r))}.bind(this)).catch(function(t){return this._removeAppendingFragment(e),n||this._checkStalling(Date.now()-r,e,!0),this.emit(a.BUFFER_APPEND_ERROR,{error:t,canPlayNext:!0,track:u}),o.reject(t)}.bind(this))},c.prototype._checkStalling=function(t,e,n){var r;t>9e3&&this.emit(a.BUFFER_STALLED,{byteStart:e.byteStart,timeStart:(r=e.timeStart,Math.ceil(1e3*r)),stallAmount:t-9e3,didTimeout:n})},c.prototype._appendBufferData=function(t,e,n,r){this.emit(a.BUFFERING_END);var i=r||Date.now(),s=[],u=o.defer();if(this.tryUpdate({playId:n,timestamp:i,type:"append",buffer:t.audio.buffer,fragment:e,codec:t.audio.codec,init:e.init,resolve:u.resolve}),s.push(u),null!==t.audio.bandwidth&&this._tracker.trackBufferURL(t.audio.bufferURL,{bandwidth:t.audio.bandwidth}),t.video){var c=o.defer();this.tryUpdate({playId:n,timestamp:i,type:"append",buffer:t.video.buffer,fragment:e,codec:t.video.codec,init:e.init,resolve:c.resolve}),s.push(c),null!==t.video.bandwidth&&this._tracker.trackBufferURL(t.video.bufferURL,{bandwidth:t.video.bandwidth})}return o.all(s)},c.prototype._appendUpdate=function(t){var e=this._sourceBuffers[t.codec];if(!e||e.updating)this._updateQueue.push(t);else{this._removeAppendingFragment(t.fragment);try{e.appendBuffer(t.buffer)}catch(e){if("QuotaExceededError"===e.name&&this.emitSync(a.BUFFER_QUOTA_EXCEEDED),s.warn("Failed to append buffer",e),o.resolve().then(this.dequeueUpdates).then(function(){t.init&&this._updateQueue.push(t)}.bind(this)),t.init)return}t.resolve&&t.resolve(!0)}},c.prototype.abort=function(t){if(this._disableBufferAbort)s.info("Buffer abort skipped; action disabled.");else{if(this._lastBufferClearTime=Date.now(),this._mediaSource)for(var e=this._mediaSource.sourceBuffers,n=0,r=e.length;n<r;n++)if("open"===this._mediaSource.readyState){var i=e[n];try{i.abort();var o=i.buffered;if(t&&o.length){var a=o.start(0),u=o.end(o.length-1);i.remove(a,u),s.info("Cleared buffer range",a,u)}}catch(t){s.warn("ACMEBuffer.clear failed.",t)}}this._appendingFragments=[]}},c.prototype._getBufferedFor=function(t){var e=this._mediaSource.sourceBuffers&&this._mediaSource.sourceBuffers.length>0&&this._mediaSource.sourceBuffers[0].buffered;if(e)for(var n,r,i=0;i<e.length;i++)if(n=e.start(i),r=e.end(i),n<=t&&t<=r)return{start:n,end:r};return null},c.prototype.getMediaSource=function(){return this._mediaSource},c.prototype.tryUpdate=function(t){if(t){if(t.playId!==this._playId)return s.info("Try update dropped: playId has changed"),void this._abortUpdate(t);if(t.timestamp<this._lastBufferClearTime)return s.info("Try update dropped: update is older than the last clear"),void this._abortUpdate(t);var e=this._mediaSource;"open"!==e.readyState&&"ended"!==e.readyState?this._updateQueue.push(t):this._processUpdate(t)}},c.prototype._abortUpdate=function(t){t.fragment&&this._removeAppendingFragment(t.fragment),t.resolve&&t.resolve(!1),o.resolve().then(this.dequeueUpdates)},c.prototype._processUpdate=function(t){"end"===t.type?this._endUpdate(t):"duration"===t.type?this._durationUpdate(t):"append"===t.type&&this._appendUpdate(t)},c.prototype._isUpdating=function(){for(var t=this._mediaSource.sourceBuffers,e=0,n=t.length;e<n;e++){var r=t[e];if(r&&r.updating)return!0}return!1},c.prototype._endUpdate=function(t){this._isUpdating()?this._updateQueue.push(t):"open"===this._mediaSource.readyState&&(this._mediaSource.endOfStream(),t.resolve&&t.resolve(!0))},c.prototype._durationUpdate=function(t){this._isUpdating()?this._updateQueue.push(t):(this._mediaSource.duration=t.duration,t.resolve&&t.resolve(!0))},c.prototype._destroySourceBuffers=function(){var t=this._mediaSource;if(t){var e=t.sourceBuffers;if(e.length)for(var n=0,r=e.length;n<r;n++){var i=e[n];i.removeEventListener("updateend",this.dequeueUpdates);try{t.removeSourceBuffer(i),s.info("Removed source buffer")}catch(t){s.warn("Failed to remove sourcebuffer",t)}}this._sourceBuffers={}}},c.prototype.destroy=function(){var t=this._mediaSource;t&&(s.info("Source destroyed"),t.removeEventListener("sourceopen",this._onSourceOpen),t.removeEventListener("sourceclose",this._onSourceClose),this._destroySourceBuffers(),this._mediaSource=null)},c.prototype._endOfStream=function(){"ended"!==this._mediaSource.readyState&&this.tryUpdate({playId:this._playId,timestamp:Date.now(),type:"end"})},c.prototype.progress=function(t,e,n){var r=this._mediaSource;if(r&&t&&("open"===r.readyState||"ended"===r.readyState)){var i,o,a="video"===t.getMediaType(),s=this._getBufferedFor(n);if(s){if(n+10>r.duration)return void("open"===r.readyState&&this._endOfStream());var c=t.getFragmentLength();Math.ceil(n/c)>Math.floor(s.end/c)&&(i=t.getFragmentForTime(n))&&this.appendFragment(t,i,e).catch(u);var l=Math.floor(s.end-n);if(l>10)return;var f=Math.min(t.getFragmentLength(),10-l);if(f<1)return;o=Math.floor(s.end+f),(i=t.getFragmentForTime(o))?this.appendFragment(t,i,e).catch(u):this._endOfStream()}else if(i=t.getFragmentForTime(n)){if(this.appendFragment(t,i,e).catch(u),i.timeEnd<n+5){o=a?Math.floor(n):n;var p=t.getFragmentAfterTime(o);p?this.appendFragment(t,p,e).catch(u):this._endOfStream()}}else this._endOfStream()}},c.prototype.recreate=function(t){this.abort(),this.destroy(),this._codecs=t,this._init()},c.prototype.setDuration=function(t){this.tryUpdate({playId:this._playId,timestamp:Date.now(),type:"duration",duration:t})},c.prototype.setPlayId=function(t){this._playId=t},t.exports=c},J4Is:function(t,e,n){"use strict";t.exports=function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})}},J4zp:function(t,e,n){var r=n("wTVA"),i=n("m0LI"),o=n("wkBT");t.exports=function(t,e){return r(t)||i(t,e)||o()}},J9Vn:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.memoizeAsync=function(t,e,n){var r=(0,i.default)("memoizeAsync["+e+"]"),s=n.value;function u(t){var e=t[r];return e||(e=t[r]=Object.create(null)),e}n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=u(this),r=(0,o.hashJsonValue)(t);if("string"!=typeof r)return Promise.reject(new Error("could not hash arguments"));var i=n[r];if(!i){try{if("function"!=typeof s)throw new Error("decorated property must be a function");i=s.apply(this,t)}catch(t){i=Promise.reject(t)}i=a(i,function(){delete n[r]}),n[r]=i}return i}};var i=r(n("30TS")),o=n("tE6N");function a(t,e){return t.then(function(t){return e(),t},function(t){throw e(),t})}},JHUG:function(t,e,n){"use strict";var r=n("rrCd"),i=n("asuC"),o=n("oErA").forTag("Logh.Uploader");function a(t){var e=t||{};this._transport=e.transport,this._enableDebugInfo=e.enableDebugInfo||!1,this._suppressPersist=e.suppressPersist||!1,this._backoff=!1}a.create=function(t){return new a(t)},a.prototype.upload=function(t,e){var n=e||[];if(!t.length)return i.resolve({nack:n,backoff:this._backoff});var r=t.slice(0);return this._uploadBatch(r.splice(0,20)).then(function(t){if(n=n.concat(t),this._backoff)n=n.concat(r);else if(r.length)return this.upload(r,n);return{nack:n,backoff:this._backoff}}.bind(this))},a.prototype.lastUpload=function(t){return t.length?this._uploadBatch(t.splice(0,100)).then(function(){return!0}):i.resolve(!0)},a.prototype._uploadBatch=function(t){var e=this._transport.isAuthenticated(),n=e?"@webgate/gabo-receiver-service/v3/events":"@webgate/gabo-receiver-service/public/v3/events";return this._transport.request(n,{method:r.POST,payload:JSON.stringify({suppress_persist:this._suppressPersist,events:t}),headers:{"content-type":"application/json"},responseType:"json",authorize:e,withResponseHeaders:!0}).then(function(e){if(200!==e.status)return o.warn("Received error status",e),this._backoff=!0,t;var n=e.body,r=e.headers,i=[];if(n.error&&n.error.length){this._enableDebugInfo&&o.info("response errors",t,n.error);for(var a=0,s=n.error.length;a<s;a++)n.error[a].transient&&i.push(t[n.error[a].index])}return this._backoff=!(!r||"true"!==r.get("backoff")),i}.bind(this))},a.prototype.shouldBackoff=function(){return this._backoff},t.exports=a},JPSn:function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{version:{type:"string",nullable:!0}})),{name:"context_application",data:e}}},"Jaz+":function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"InternalPlaybackObserver",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"TimeObservable",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"PlaybackEventsObserver",{enumerable:!0,get:function(){return a.default}});var i=r(n("4NdA")),o=r(n("RN9m")),a=r(n("KLQT"))},JzJP:function(t,e,n){"use strict";var r=n("M3Ve"),i=n("asuC"),o=n("kK6u").forTag("Logh.Uploader");function a(t){var e=t||{};this._transport=e.transport,this._enableDebugInfo=e.enableDebugInfo||!1,this._suppressPersist=e.suppressPersist||!1,this._backoff=!1}a.create=function(t){return new a(t)},a.prototype.upload=function(t,e){var n=e||[];if(!t.length)return i.resolve({nack:n,backoff:this._backoff});var r=t.slice(0);return this._uploadBatch(r.splice(0,20)).then(function(t){if(n=n.concat(t),this._backoff)n=n.concat(r);else if(r.length)return this.upload(r,n);return{nack:n,backoff:this._backoff}}.bind(this))},a.prototype.lastUpload=function(t){return t.length?this._uploadBatch(t.splice(0,100)).then(function(){return!0}):i.resolve(!0)},a.prototype._uploadBatch=function(t){var e=this._transport.isAuthenticated(),n=e?"@webgate/gabo-receiver-service/v3/events":"@webgate/gabo-receiver-service/public/v3/events";return this._transport.request(n,{method:r.POST,payload:JSON.stringify({suppress_persist:this._suppressPersist,events:t}),headers:{"content-type":"application/json"},responseType:"json",authorize:e,withResponseHeaders:!0}).then(function(e){if(200!==e.status)return o.warn("Received error status",e),this._backoff=!0,t;var n=e.body,r=e.headers,i=[];if(n.error&&n.error.length){this._enableDebugInfo&&o.info("response errors",t,n.error);for(var a=0,s=n.error.length;a<s;a++)n.error[a].transient&&i.push(t[n.error[a].index])}return this._backoff=!(!r||"true"!==r.get("backoff")),i}.bind(this))},a.prototype.shouldBackoff=function(){return this._backoff},t.exports=a},"K/xo":function(t,e,n){var r;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},K4DB:function(t,e,n){var r=n("e+GP"),i=n("T1e2");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},KAAb:function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},KAKM:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("OlH2"));function o(){this.curId_=0,this.config_=null,this.data=null,this.MIN_BUFFER_TIME=4,this.UNSUPPORTED_MIME_TYPES=["video/mp2t"],this.PROFILE_ID_PLACEHOLDER="{{profile_id}}",this.FILE_TYPE_PLACEHOLDER="{{file_type}}",this.SEGMENT_TIMESTAMP_PLACEHOLDER="{{segment_timestamp}}",this.LANGUAGE_CODE_PLACEHOLDER="{{language_code}}",this.SPRITEMAP_ID_PLACEHOLDER="{{spritemap_id}}"}o.prototype.configure=function(t){this.config_=t},o.prototype.start=function(t,e){var n=this;this.config_;var r=i.default.net.NetworkingEngine.RequestType.MANIFEST,o={uris:[t],method:"GET",retryParameters:this.config_.retryParameters,allowCrossSiteCredentials:!1,body:null};return e.networkingEngine.request(r,o).promise.then(function(e){return n.loadManifest_(e.data,t)})},o.prototype.stop=function(){return Promise.resolve()},o.prototype.update=function(){},o.prototype.onExpirationUpdated=function(){},o.prototype.loadManifest_=function(t,e){var n=this;this.data=this.loadData_(t);var r=new i.default.media.PresentationTimeline(null,0);r.setDuration(this.data.end_time_millis/1e3);var o=this.data.contents.map(function(t){return n.loadPeriod_(t,e)});return{presentationTimeline:r,minBufferTime:this.MIN_BUFFER_TIME,offlineSessionIds:[],periods:o}},o.prototype.loadData_=function(t){var e=null;if(t instanceof ArrayBuffer){var n=i.default.util.StringUtils.fromUTF8(t);try{e=JSON.parse(n)}catch(t){throw new i.default.util.Error(i.default.util.Error.Severity.CRITICAL,i.default.util.Error.Category.MANIFEST,i.default.util.Error.Code.SPOTIFY_INVALID_MANIFEST,"Exception parsing the Json manifest: "+t.message)}}else e=t;if(!e)throw new i.default.util.Error(i.default.util.Error.Severity.CRITICAL,i.default.util.Error.Category.MANIFEST,i.default.util.Error.Code.SPOTIFY_INVALID_MANIFEST,"Invalid JSON");return e},o.prototype.loadPeriod_=function(t,e){var n=this,r=this.filterProfiles_(t.profiles),i=this.groupProfiles_(r);return{startTime:t.start_time_millis/1e3,variants:i.map(function(e){return n.loadVariant_(t,e)}),textStreams:this.loadTextStreams_(t,e)}},o.prototype.filterProfiles_=function(t){var e=this;return t.filter(function(t){return!e.UNSUPPORTED_MIME_TYPES.includes(t.mime_type)})},o.prototype.groupProfiles_=function(t){var e=[],n=[];if(t.forEach(function(t){switch(t.mime_type.split("/")[0]){case"video":e.push(t);break;case"audio":n.push(t)}}),!e.length&&!n.length)return[];if(e.length&&!n.length)return e.map(function(t){return{video:t,audio:null}});if(!e.length&&n.length)return n.map(function(t){return{video:null,audio:t}});var r=[];return e.forEach(function(t){n.forEach(function(e){r.push({video:t,audio:e})})}),r},o.prototype.loadVariant_=function(t,e){var n=t.encryption_infos&&t.encryption_infos.length>0,r=(e.video?e.video.video_bitrate:0)+(e.audio?e.audio.audio_bitrate:0);return{id:this.curId_++,language:"und",primary:!1,audio:e.audio?this.loadStream_(t,e.audio,"audio",n):null,video:e.video?this.loadStream_(t,e.video,"video",n):null,bandwidth:r,drmInfos:n?[{keySystem:"com.widevine.alpha"}]:[],allowedByApplication:!0,allowedByKeySystem:!0,roles:[]}},o.prototype.loadTextStreams_=function(t){var e=this,n=[];return this.data.subtitle_language_codes&&this.data.subtitle_language_codes.length&&(n=this.data.subtitle_language_codes.map(function(t){return{id:e.curId_++,mime_type:"text/vtt",language:t}})),n.map(function(n){return e.loadStream_(t,n,"text",!1)})},o.prototype.loadStream_=function(t,e,n,r){var i=this.getSegmentIndex_(t,e,n),o="";return"video"===n&&(o=e.video_codec),"audio"===n&&(o=e.audio_codec),{id:this.curId_++,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:"text"===n?null:this.getInitSegmentReference_(e),presentationTimeOffset:0,mimeType:e.mime_type,codecs:o,bandwidth:e.max_bitrate,width:"video"===n?e.video_width:void 0,height:"video"===n?e.video_height:void 0,kind:"text"===n?"subtitles":void 0,encrypted:r,keyId:null,language:"text"===n?e.language:"und",type:n,primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,allowedByApplication:!0,allowedByKeySystem:!0,roles:[]}},o.prototype.getInitSegmentReference_=function(t){var e=this;return new i.default.media.InitSegmentReference(function(){return e.data.base_urls.map(function(n){return(n+e.data.initialization_template).replace(e.PROFILE_ID_PLACEHOLDER,t.id).replace(e.FILE_TYPE_PLACEHOLDER,t.file_type)})},0,null)},o.prototype.getSegmentIndex_=function(t,e,n){var r=this,o=[],a=t.start_time_millis/1e3,s=t.end_time_millis/1e3;if("text"===n)o=[new i.default.media.SegmentReference(0,a,s,function(){var t=null;return r.data.subtitle_base_urls?t=r.data.subtitle_base_urls.map(function(t){return(t+r.data.subtitle_template).replace(r.LANGUAGE_CODE_PLACEHOLDER,e.language)}):i.default.log.warning("subtitle codes provided but no subtitle_base_urls\n          found in manifest. Are you using v6 (or later) manifests?"),t},0,null)];else for(var u=t.segment_length,c=0,l=a;l<s;){var f=this.loadReference_(e,c,l,l+u);o.push(f),l+=u,c++}return new i.default.media.SegmentIndex(o)},o.prototype.loadReference_=function(t,e,n,r){var o=this;return new i.default.media.SegmentReference(e,n,r,function(){return o.data.base_urls.map(function(e){return(e+o.data.segment_template).replace(o.PROFILE_ID_PLACEHOLDER,t.id).replace(o.FILE_TYPE_PLACEHOLDER,t.file_type).replace(o.SEGMENT_TIMESTAMP_PLACEHOLDER,n)})},0,null)};var a=o;e.default=a},KF7U:function(t,e,n){"use strict";var r=n("RB/r");t.exports=function(){return{name:"context_sdk",data:{version_name:r.version}}}},KLQT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("jT1e"),i=function(){function t(t,e){this.eventEmitter=t,this.internalObservers=e}return t.prototype.initiateObservers=function(t,e,n){this.internalObservers.initiateObservers(t,e,n)},t.prototype.onTimeUpdate=function(t){this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.POSITION_UPDATE,{position:t})},t.prototype.onProgressChanged=function(t){this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.PROGRESS,t)},t.prototype.onPlaybackCreated=function(t,e,n){this.internalObservers.onPlaybackCreated(t,e,n),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.CREATED,{identity:t})},t.prototype.onEndingPlayback=function(t){this.internalObservers.onEndingPlayback(t)},t.prototype.onPlaybackEnded=function(t,e,n){this.internalObservers.onPlaybackEnded(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.ENDED,{position:t,reason:e,n_dropped_frames:n})},t.prototype.onVolumeChanged=function(t,e,n){this.internalObservers.onVolumeChanged(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.VOLUME_CHANGED,{position:t,volume:e,muted:n})},t.prototype.onStarted=function(t){this.internalObservers.onResumed(t),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.STARTED,{position:t})},t.prototype.onResumed=function(t){this.internalObservers.onResumed(t),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.RESUMED,{position:t})},t.prototype.onSeeking=function(t,e){this.internalObservers.onSeeking(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.SEEKING,{fromPosition:t,toPosition:e})},t.prototype.onPaused=function(t){this.internalObservers.onPaused(t),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.PAUSED,{position:t})},t.prototype.onReady=function(t,e,n){this.internalObservers.onReady(t,n),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.READY,{position:t,duration:e,playWhenReady:n})},t.prototype.onManifestLoaded=function(){this.internalObservers.onManifestLoaded(),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.MANIFEST_LOADED)},t.prototype.onManifestLoading=function(){this.internalObservers.onManifestLoading(),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.MANIFEST_LOADING)},t.prototype.onRecoverableError=function(t,e){this.internalObservers.onRecoverableError(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.RECOVERABLE_ERROR,{error:t,position:e})},t.prototype.onFatalError=function(t,e){this.internalObservers.onFatalError(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.FATAL_ERROR,{error:t,position:e})},t.prototype.onAudioFormatChanged=function(t,e){this.internalObservers.onAudioFormatChanged(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.AUDIO_FORMAT_CHANGED,{bandwidth:t.bandwidth})},t.prototype.onVideoFormatChanged=function(t,e){this.internalObservers.onVideoFormatChanged(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.VIDEO_FORMAT_CHANGED,{width:t.width,height:t.height,bandwidth:t.bandwidth})},t.prototype.onBuffering=function(t,e,n){this.internalObservers.onBuffering(t,e,n),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.BUFFERING,{position:t,type:n})},t.prototype.onDroppedVideoFrames=function(t){this.internalObservers.onDroppedVideoFrames(t),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.DROPPED_FRAMES,{droppedFrames:t})},t.prototype.onEncryptionKeyLoaded=function(t){this.internalObservers.onEncryptionKeyLoaded(t),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.ENCRYPTION_KEY_LOADED,{encryptionType:t})},t.prototype.onEncryptionKeyLoading=function(){this.internalObservers.onEncryptionKeyLoading(),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.ENCRYPTION_KEY_LOADING)},t.prototype.onBytesTransferred=function(t,e){this.internalObservers.onBytesTransferred(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.BYTES_TRANSFERRED,{bytes:t,time:e})},t.prototype.onDurationChanged=function(t){this.internalObservers.onDurationChanged(t),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.DURATION_CHANGED,{duration:t})},t.prototype.onSubtitleChanged=function(t,e){this.internalObservers.onSubtitleChanged(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.SUBTITLE_CHANGED,{position:t,languageTag:e.languageTag})},t.prototype.onFullscreenChanged=function(t,e){this.internalObservers.onFullscreenChanged(t,e),this.emitSessionPlaybackEvent(r.VideoPlaybackEvents.FULLSCREEN_CHANGED,{fullscreen:e,position:t})},t.prototype.emitSessionPlaybackEvent=function(t,e){this.eventEmitter.emit(t,e),this.eventEmitter.emit("any",t,e)},t}();e.default=i},KPDA:function(t,e,n){"use strict";var r=n("ZjB5");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},KUYf:function(t,e,n){"use strict";var r=n("asuC"),i=n("M3UQ"),o=n("pPJX"),a=n("H2G3"),s="dealer",u="spclient";t.exports=function(t){var e=t||{},n={dealer:s,webgate:u};e.dealer&&(n.dealer=e.dealer),e.webgate&&(n.webgate=e.webgate);var c=["?","type=",n.dealer,"&","type=",n.webgate].join("");return function(t){return(t||a).request("https://apresolve.spotify.com/"+c,{forcePolyfill:!0,responseType:"json",retry:{maxRetries:5,condition:function(t,e){return t.getStatusFamily()!==e.SUCCESS}}}).then(function(t){if(200!==t.status)return r.reject(new i(o.XRESOLVE_REQUEST_FAILED_WITH_STATUS,"XResolve responded with status "+t.status,t.status));var e=t.body;if(!e)return r.reject(new i(o.XRESOLVE_INVALID_RESPONSE,"XResolve responded with an empty or invalid body.",t.status));var a={dealer:e[n.dealer]&&e[n.dealer][0],webgate:e[n.webgate]&&e[n.webgate][0],webapi:"https://api.spotify.com/"};return a.dealer&&a.webgate?a:r.reject(new i(o.XRESOLVE_INCOMPLETE_RESPONSE,"Xresolve responded with incomplete results.",t.status))}).then(function(t){return t.dealer="wss://"+t.dealer.replace(/:443$/,""),t.webgate="https://"+t.webgate.replace(/:443$/,""),t})}}},Kcgw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("XR8V"),i=n("Jaz+"),o=n("jT1e"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(){function t(t){this.playerConfigurationDependencies=t}return t.prototype.createPlaybackSession=function(t,e){var n,s=this.playerConfigurationDependencies.factories||[];if(this.playerConfigurationDependencies.session&&(s=s.concat([new o.VideoPlaybackSessionLogger(this.playerConfigurationDependencies.session.logger)])),t&&this.playerConfigurationDependencies.endVideo){var u=this.playerConfigurationDependencies.endVideo,c=u.live,l=u.clientModel,f=u.endVideo,p=u.logError,h=u.streamingRulesProvider;e.newEventApi?s=s.concat([new o.EndVideoLoggerFactory(c,l,f,p,h)]):n=new o.EndVideoTracker(c,l,f,p,h)}var d=new i.InternalPlaybackObserver(s);return new r.PlaybackSession(e,a({},this.playerConfigurationDependencies,{endVideoTracker:n,initiatePlaybackEventsObserver:function(t){return new i.PlaybackEventsObserver(t,d)}}))},t}();e.default=s},KlUR:function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],a=n[1],s=new o(3*(r+a)/4-a),u=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=i[t.charCodeAt(f)]<<18|i[t.charCodeAt(f+1)]<<12|i[t.charCodeAt(f+2)]<<6|i[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(f)]<<2|i[t.charCodeAt(f+1)]>>4,s[u++]=255&e),1===a&&(e=i[t.charCodeAt(f)]<<10|i[t.charCodeAt(f+1)]<<4|i[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},L6We:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("jXlj")),r(n("jIGx")),r(n("uIAw"));var i=n("qg8E");e.default=i.default},LObV:function(t,e,n){"use strict";function r(){this._id={},this.length=0,this.first=null,this.last=null}r.prototype.append=function(t){if(!t)throw new Error("Node is null!");if(t.listID)throw new Error("Node already exists in another list!");return t.listID=this._id,this.first?(t.prev=this.last,t.next=null,this.last.next=t,this.last=t):(this.first=t,this.last=t),++this.length},r.prototype.insertAfter=function(t,e){if(!t||!e)throw new Error("Node is null!");if(e.listID)throw new Error("Node already exists in another list!");e.listID=this._id,e.prev=t,e.next=t.next,t.next.prev=e,t.next=e,e.prev===this.last&&(this.last=e),this.length++},r.prototype.remove=function(t){if(!t)throw new Error("Node is null!");return!(!this.length||t.listID!==this._id||(this.length>1?(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this.first?this.first=t.next:t===this.last&&(this.last=t.prev)):(this.first=null,this.last=null),t.listID=null,t.prev=null,t.next=null,this.length--,0))},r.Node=function(t){this.listID=null,this.key=null,this.prev=null,this.next=null,this.value=t||null},t.exports=r},LWjj:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("Kcgw")),o=n("XR8V"),a=function(){function t(t){this.playerConfigurationDependencies=t}return t.prototype.createBetamaxPlayer=function(t){var e=new i.default(this.playerConfigurationDependencies);return new o.BetamaxPlayer(t,e)},t}();e.default=a},Lc1h:function(t,e,n){"use strict";function r(t,e){this.url=t||"",this.status=e||0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.ok=this.status>=200&&this.status<=299,this.metadata=null}r.prototype.getStatusFamily=function(){return 0|this.status/100},t.exports=r},LmGa:function(t,e,n){"use strict";var r=n("24bo"),i=n("asuC"),o=n("T3pf").forTag("Logh.Uploader");function a(t){var e=t||{};this._transport=e.transport,this._enableDebugInfo=e.enableDebugInfo||!1,this._suppressPersist=e.suppressPersist||!1,this._backoff=!1}a.create=function(t){return new a(t)},a.prototype.upload=function(t,e){var n=e||[];if(!t.length)return i.resolve({nack:n,backoff:this._backoff});var r=t.slice(0);return this._uploadBatch(r.splice(0,20)).then(function(t){if(n=n.concat(t),this._backoff)n=n.concat(r);else if(r.length)return this.upload(r,n);return{nack:n,backoff:this._backoff}}.bind(this))},a.prototype.lastUpload=function(t){return t.length?this._uploadBatch(t.splice(0,100)).then(function(){return!0}):i.resolve(!0)},a.prototype._uploadBatch=function(t){return this._transport.request("@webgate/gabo-receiver-service/v2/events",{method:r.POST,payload:JSON.stringify({enable_debug_info:this._enableDebugInfo,suppress_persist:this._suppressPersist,events:t}),headers:{"content-type":"application/json"},responseType:"json",authorize:!0,withResponseHeaders:!0}).then(function(e){if(200!==e.status)return o.warn("Received error status",e),this._backoff=!0,t;var n=e.body,r=e.headers;n.debug_info&&n.debug_info.length&&o.info("response debug_info",t,n.debug_info);var i=[];if(n.nack&&n.nack.length)for(var a=0,s=n.nack.length;a<s;a++)i.push(t[n.nack[a]]);return r&&"true"===r.get("backoff")?this._backoff=!0:this._backoff=!1,i}.bind(this))},a.prototype.shouldBackoff=function(){return this._backoff},t.exports=a},LxXC:function(t,e,n){"use strict";var r=n("PQZM"),i=n("asuC"),o=n("qG8n"),a=n("3or+"),s=n("y7hz"),u=n("uDox"),c=n("p1y8"),l=n("g3mZ"),f=n("Q0s3"),p=n("mmnt"),h=n("P1TA"),d=n("mgOk"),_=n("msiY"),y=n("c+YL"),v=n("UKBR"),m=n("J4Is"),g=n("4zCw"),E=n("l8e1"),b=n("nAMc"),T=n("Xcej"),S=u.forTag("harmonyclient");function R(t){if(!t.transport)throw new TypeError("Invalid transport instance.");this._deviceDescriptor=i.resolve(),this._transport=t.transport,this._ownerRef=t.ownerRef,this._allowLifecycleManagement=t.allowLifecycleManagement,this._abbaClient=null,this._systemInfo=i.defer(),this._clientVersion=i.defer(),this._sdkVersion=T,this._logger=null,this.emitEvent=this.emitEvent.bind(this),this._init(t)}r(R,o),R.create=function(t){return new R(t)},R.of=function(t){return t._client},R.prototype._parseDeviceInfo=function(t,e){var n=e.capabilities||{},r={change_volume:!("change_volume"in n)||n.change_volume,audio_podcasts:!("audio_podcasts"in n)||n.audio_podcasts,endsong_snooping:n.endsong_snooping,enable_play_token:!0,play_token_lost_behavior:t.playTokenLostBehavior||"pause",disable_connect:!!t.hidden,video_playback:n.video_playback,manifest_formats:[b.FILE_URLS_MP3]};e.nameTemplate&&(e.name=v(e.nameTemplate));var i=l.create({id:y.get(e.id,e.randomizeId),model:e.model||v("harmony-{{name}}.{{version}}-{{platform}}").toLowerCase(),name:e.name||m(v("Spotify ({{name}}/{{platform}})")),type:e.type||c.COMPUTER,brand:e.brand||"SpotifyHarmonyGeneric",platform_identifier:e.platform_identifier,platform_version:e.platform_version,metadata:e.metadata||{},capabilities:r});return this._systemInfo.resolve(i.getPlatformIdentifier()),this._clientVersion.resolve(i.getPlatformVersion()),i},R.prototype._init=function(t){this._initDeviceDescriptor(t),this._initTransport(),this._initLogger()},R.prototype._initLogger=function(){this._logger=new _({transport:this._transport,sdkId:this.getSDKId(),platform:this._systemInfo.promise,clientVersion:this._clientVersion.promise})},R.prototype._initDeviceDescriptor=function(t){this._deviceDescriptor=i.resolve(t.descriptor||{}).then(this._parseDeviceInfo.bind(this,t)).then(function(t){return this.proxyEmit(t,f.DEVICE_DESCRIPTOR_CHANGED,f.CLIENT_DEVICE_DESCRIPTOR_CHANGED),t}.bind(this)).catch(function(t){this._onError(p.HARMONY,{error:t})}.bind(this))},R.prototype._initTransport=function(){var t=this._transport;t.on(h.TRANSPORT_CONNECTED,this._onConnected.bind(this)),t.on(h.TRANSPORT_CONNECTION_FAILED,this._onConnectionError.bind(this)),t.on(h.TRANSPORT_AUTHENTICATION_FAILED,this._onAuthenticationError.bind(this)),this.proxyEmit(t,h.TRANSPORT_AUTHENTICATED,f.CLIENT_AUTHENTICATED),this.proxyEmit(t,h.TRANSPORT_RECONNECTING,f.CLIENT_RECONNECTING),this.proxyEmit(t,h.TRANSPORT_RECONNECTED,f.CLIENT_RECONNECTED),this.proxyEmit(t,h.TRANSPORT_LOGGED_OUT,f.CLIENT_LOGGED_OUT),this.proxyEmitSync(t,h.TRANSPORT_BEFORE_OFFLINE_DISCONNECT,f.CLIENT_BEFORE_OFFLINE_DISCONNECT),this.proxyEmitSync(t,h.TRANSPORT_BEFORE_ONLINE_DISCONNECT,f.CLIENT_BEFORE_DISCONNECT),t.on(h.TRANSPORT_SHORT_SESSION_DISCONNECTED,this._onShortSessionDisconnect.bind(this)),this._transport=t,this._abbaClient=a.forSession(t);var e=s.create({transport:t});e.on(f.PRODUCT_STATE_OBSERVER_PRODUCT_STATE_CHANGED,this.emitEvent),this.on(f.CLIENT_BEFORE_DISCONNECT,function(t){if(t){var n=e.deregister().catch(function(){});t.awaitPromise(n)}}),this._productStateObserver=e},R.prototype._onError=function(t,e){this.emit(f.CLIENT_ERROR,{source:t,name:e.name,error:e.error}),e.error&&e.error.unrecoverable&&this.emit(f.CLIENT_UNRECOVERABLE_FAILURE,{source:t,name:e.name,error:e.error})},R.prototype._onConnected=function(){this.emit(f.CLIENT_CONNECTED),(this._transport.hasOwnerRef(this._ownerRef)||this._allowLifecycleManagement)&&this._transport.authenticate().catch(function(){})},R.prototype._onConnectionError=function(t){var e=t&&t.error?t.error:t;this._onError(p.TRANSPORT,{error:e}),this.emit(f.CLIENT_CONNECTION_ERROR,t)},R.prototype._onAuthenticationError=function(t){var e=t&&t.error?t.error:t;this._onError(p.TRANSPORT,{error:e}),this.emit(f.CLIENT_AUTHENTICATION_ERROR,e)},R.prototype._onShortSessionDisconnect=function(t){this._logger.logClientEvent({source:"transport",source_version:T.tagged,source_vendor:"spotify",event:t.type,event_version:"1.0.0",json_data:{disconnectCount:t.disconnectCount,sessionLength:t.sessionLength}}).catch(function(e){S.warn(t.type+" Logging Error",e)})},R.prototype.getVersionDescriptor=function(){return this._sdkVersion},R.prototype.getSDKId=function(){return"harmony:"+this._sdkVersion.tagged},R.prototype.getUntaggedSDKId=function(){return"harmony:"+this._sdkVersion.version},R.prototype.getLogger=function(){return this._logger},R.prototype.logAppMetrics=function(t,e){return this._logger.logMetrics(t,e)},R.prototype.request=function(t,e){return this._transport.request(t,e)},R.prototype.getPublicTransport=function(){return this._transport.toPublic()},R.prototype.getABBAClient=function(){return this._abbaClient},R.prototype.getClientDescriptor=function(){return this._deviceDescriptor.then(function(t){return t.toJSON()})},R.prototype.getDeviceDescriptor=function(){return this._deviceDescriptor},R.prototype.getUserInfo=function(){return this._transport.request("https://@webapi/v1/me",{responseType:"json"}).then(function(t){var e=t.body;if(200!==t.status){var n=new E(g.USER_INFO_REQUEST_FAILED_WITH_STATUS,"User info request failed with status "+t.status);return n.status=t.status,i.reject(n)}return e?{display_name:e.display_name,followers:e.followers,id:e.id,images:e.images,uri:e.uri}:i.reject(new E(g.USER_INFO_REQUEST_EMPTY_RESPONSE,"Unexpected empty response."))})},R.prototype.getProductState=function(){return this._productStateObserver.getCurrentState()},R.prototype.connect=function(){return this._allowLifecycleManagement?this._transport.connect():d.connectIfOwned(this._transport,this._ownerRef)},R.prototype.disconnect=function(){return this._allowLifecycleManagement?this._transport.disconnect():d.disconnectIfOwned(this._transport,this._ownerRef)},R.prototype.forceDisconnect=function(){return this._allowLifecycleManagement?this._transport.forceDisconnect():d.forceDisconnectIfOwned(this._transport,this._ownerRef)},R.prototype.setName=function(t){return this._deviceDescriptor.then(function(e){return e.setName(t)})},R.prototype.setNameTemplate=function(t){return this.setName(v(t))},R.prototype.setCapability=function(t,e){return this._deviceDescriptor.then(function(n){return n.setCapability(t,e)})},R.prototype.notifyError=function(t,e,n){this._onError(t,{name:e,error:n})},t.exports=R},M3UQ:function(t,e,n){"use strict";function r(t,e,n){Error.call(this,t),this.code=t,this.message=e,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="XResolveError",t.exports=r},M3Ve:function(t,e,n){"use strict";var r=n("d8l3");t.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},MFfK:function(t,e,n){"use strict";var r=n("vdEC");Object.defineProperty(e,"__esModule",{value:!0}),e.processIdentityFields=y,e.processMsStartPosition=v,e.processMsDuration=m,e.processStartTime=g,e.processDroppedFrames=E,e.processEndFields=b,e.processVideoFormatChangedFields=T,e.processMsEncryptionLoadTime=S,e.processEncryptionType=R,e.processLasUsedSubtitle=w,e.processManifestLoadTime=O,e.processSeekFields=A,e.processBandwidthFields=I,e.processBufferingFields=N,e.processMsPlayed=C,e.processMsSubtitlesPlayed=P,e.processMsFullscreenPlayed=L,e.generatePlaybackSessionMessage=function(t){return u({},y(t),v(t),m(t),g(t),b(t),T(t),S(t),R(t),w(t),O(t),A(t),I(t),N(t),C(t),P(t),L(t),E(t))};var i=n("bfQY"),o=r(n("WshP")),a=n("yWAF"),s=n("gMC6"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function c(t){var e=t.data,n=t.type;if(e){if(Number.isFinite(e.position))return e.position;if(n===o.default.SEEKING&&Number.isFinite(e.fromPosition))return e.fromPosition}return 1/0}function l(t,e,n){var r=Math.round(n.timestamp-t.bufferingStart),a=u({},e);if(Number.isFinite(r)&&r>0)switch(t.bufferingType){case o.BufferType.SEEK:a[i.PlaybackSessionKeys.MS_BUFFERING_SEEK]+=r,r>a[i.PlaybackSessionKeys.MS_BUFFERING_SEEK_LONGEST]&&(a[i.PlaybackSessionKeys.MS_BUFFERING_SEEK_LONGEST]=r);break;case o.BufferType.STALL:a[i.PlaybackSessionKeys.MS_BUFFERING_STALL]+=r,r>a[i.PlaybackSessionKeys.MS_BUFFERING_STALL_LONGEST]&&(a[i.PlaybackSessionKeys.MS_BUFFERING_STALL_LONGEST]=r);break;case o.BufferType.INITIAL:a[i.PlaybackSessionKeys.MS_INITIAL_BUFFERING]+=r}return a}var f=function(t,e){var n=(0,s.computeRange)(e.playingPosition,c(t));return u({},e,{msPlayed:n+e.msPlayed,playing:!1,playingPosition:0})},p=function(t,e){var n=t.data;return u({},e,{subtitlesEnabled:!(!n||!n.subtitle.languageTag)})},h=function(t,e){var n=t.data;return u({},e,{fullscreen:n.fullscreen})},d=function(t,e){var n=u({},e),r=n.playing&&n.subtitlesEnabled;return r&&!n.playingWithSubtitlesPosition&&(n.playingWithSubtitlesPosition=t.data.position),!r&&n.playingWithSubtitlesPosition&&(n.msPlayedSubtitles+=(0,s.computeRange)(n.playingWithSubtitlesPosition,c(t)),n.playingWithSubtitlesPosition=0),n},_=function(t,e){var n=u({},e),r=n.playing&&n.fullscreen;return r&&!n.playingWhileFullscreenPosition&&(n.playingWhileFullscreenPosition=t.data.position),!r&&n.playingWhileFullscreenPosition&&(n.msPlayedFullscreen+=(0,s.computeRange)(n.playingWhileFullscreenPosition,c(t)),n.playingWhileFullscreenPosition=0),n};function y(t){var e;return t.filter(s.created).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.SESSION_ID]=r.playbackIdentity.sessionId,n[i.PlaybackSessionKeys.MEDIA_URL]=r.playbackIdentity.mediaUrl,n[i.PlaybackSessionKeys.FEATURE_IDENTIFIER]="",n},((e={})[i.PlaybackSessionKeys.SESSION_ID]="",e[i.PlaybackSessionKeys.MEDIA_URL]="",e[i.PlaybackSessionKeys.FEATURE_IDENTIFIER]="",e))}function v(t){var e;return t.filter(s.ready).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.MS_START_POSITION]=Math.round(1e3*r.position),n},((e={})[i.PlaybackSessionKeys.MS_START_POSITION]=s.DEFAULT_INVALID_TIME,e))}function m(t){var e;return t.filter(s.duration).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.MS_DURATION]=Math.round(1e3*r.duration),n},((e={})[i.PlaybackSessionKeys.MS_DURATION]=s.DEFAULT_INVALID_TIME,e))}function g(t){var e,n=(0,s.getLastTimestamp)(t,o.default.CREATED);return t.filter(s.ready).reduce(function(t,e){var r;return n!==s.DEFAULT_INVALID_TIME?((r={})[i.PlaybackSessionKeys.MS_START_TIME]=Math.round(e.timestamp-n),r):t},((e={})[i.PlaybackSessionKeys.MS_START_TIME]=s.DEFAULT_INVALID_TIME,e))}function E(t){var e;return t.filter(s.droppedFrames).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.N_DROPPED_FRAMES]=r.droppedFrames,n},((e={})[i.PlaybackSessionKeys.N_DROPPED_FRAMES]=0,e))}function b(t){var e;return t.filter(s.ended).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.EXIT_REASON]=r.reason,n},((e={})[i.PlaybackSessionKeys.EXIT_REASON]="",e))}function T(t){var e;return t.filter(s.videoFormat).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.ASPECT_RATIO]=r.format.width&&r.format.height?r.format.width/r.format.height:t[i.PlaybackSessionKeys.ASPECT_RATIO],n[i.PlaybackSessionKeys.START_BITRATE]=r.format.bandwidth&&!t[i.PlaybackSessionKeys.START_BITRATE]?r.format.bandwidth:t[i.PlaybackSessionKeys.START_BITRATE],n},((e={})[i.PlaybackSessionKeys.ASPECT_RATIO]=0,e[i.PlaybackSessionKeys.START_BITRATE]=0,e))}function S(t){var e,n=(0,s.getLastTimestamp)(t,o.default.ENCRYPTION_KEY_LOADING);return t.filter(s.encryptionKeyLoaded).reduce(function(t,e){var r;return n!==s.DEFAULT_INVALID_TIME?((r={})[i.PlaybackSessionKeys.MS_ENCRYPTION_LOAD_TIME]=Math.round(e.timestamp-n),r):t},((e={})[i.PlaybackSessionKeys.MS_ENCRYPTION_LOAD_TIME]=s.DEFAULT_INVALID_TIME,e))}function R(t){var e;return t.filter(s.encryptionKeyLoaded).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.ENCRYPTION_TYPE]=r.encryptionType,n},((e={})[i.PlaybackSessionKeys.ENCRYPTION_TYPE]="",e))}function w(t){var e;return t.filter(s.subtitles).reduce(function(t,e){var n,r=e.data;return(n={})[i.PlaybackSessionKeys.LAST_USED_SUBTITLE]=r.subtitle.languageTag||t[i.PlaybackSessionKeys.LAST_USED_SUBTITLE],n},((e={})[i.PlaybackSessionKeys.LAST_USED_SUBTITLE]="",e))}function O(t){var e,n=(0,s.getLastTimestamp)(t,o.default.MANIFEST_LOADING);return t.filter(s.manifestLoaded).reduce(function(t,e){var r;return n!==s.DEFAULT_INVALID_TIME?((r={})[i.PlaybackSessionKeys.MS_MANIFEST_LOAD_TIME]=Math.round(e.timestamp-n),r):t},((e={})[i.PlaybackSessionKeys.MS_MANIFEST_LOAD_TIME]=s.DEFAULT_INVALID_TIME,e))}function A(t){var e;return t.filter(s.seeking).reduce(function(t,e){var n,r,o=e.data;return o.fromPosition>o.toPosition?u({},t,((n={})[i.PlaybackSessionKeys.N_SEEKBACK]=t[i.PlaybackSessionKeys.N_SEEKBACK]+1,n[i.EndVideoKeys.MS_SEEKBACK]=Math.round(t[i.EndVideoKeys.MS_SEEKBACK]+1e3*(o.fromPosition-o.toPosition)),n)):o.fromPosition<=o.toPosition?u({},t,((r={})[i.PlaybackSessionKeys.N_SEEKFORWARD]=t[i.PlaybackSessionKeys.N_SEEKFORWARD]+1,r[i.EndVideoKeys.MS_SEEKFWD]=Math.round(t[i.EndVideoKeys.MS_SEEKFWD]+1e3*(o.toPosition-o.fromPosition)),r)):t},((e={})[i.PlaybackSessionKeys.N_SEEKBACK]=0,e[i.EndVideoKeys.MS_SEEKBACK]=0,e[i.PlaybackSessionKeys.N_SEEKFORWARD]=0,e[i.EndVideoKeys.MS_SEEKFWD]=0,e))}function I(t){var e,n={totalBytes:0,totalTransferTimeSeconds:0};return t.filter(s.bytesTransferred).reduce(function(t,e){var r,o=e.data;return n.totalBytes+=o.bytes,n.totalTransferTimeSeconds+=o.timeMs/1e3,(r={})[i.PlaybackSessionKeys.KBPS_AVERAGE_BANDWIDTH]=Math.round(n.totalBytes/n.totalTransferTimeSeconds*.008),r[i.PlaybackSessionKeys.KBYTES_DOWNLOADED]=Math.round(n.totalBytes/1e3),r},((e={})[i.PlaybackSessionKeys.KBYTES_DOWNLOADED]=0,e[i.PlaybackSessionKeys.KBPS_AVERAGE_BANDWIDTH]=0,e))}function N(t){for(var e,n={buffering:!1,bufferingType:"",bufferingStart:0},r=((e={})[i.PlaybackSessionKeys.N_STALLS]=0,e[i.PlaybackSessionKeys.MS_BUFFERING_SEEK]=0,e[i.PlaybackSessionKeys.MS_BUFFERING_SEEK_LONGEST]=0,e[i.PlaybackSessionKeys.MS_BUFFERING_STALL]=0,e[i.PlaybackSessionKeys.MS_INITIAL_BUFFERING]=0,e[i.PlaybackSessionKeys.MS_BUFFERING_STALL_LONGEST]=0,e),a=0,s=t;a<s.length;a++){var u=s[a];u.type===o.default.BUFFERING&&u.data.type===o.BufferType.STALL&&r[i.PlaybackSessionKeys.N_STALLS]++,u.type===o.default.BUFFERING&&(n.buffering&&(r=l(n,r,u)),n.buffering=!0,n.bufferingType=u.data.type,n.bufferingStart=u.timestamp),u.type!==o.default.READY&&u.type!==o.default.ENDED||n.buffering&&(r=l(n,r,u),n.buffering=!1,n.bufferingType="",n.bufferingStart=0)}return r}function C(t){var e,n=t.reduce(function(t,e){return(0,a.cond)([[(0,s.startedPlaying)(t.playing),s.handlePlayingPosition],[(0,s.interruptedWhilePlaying)(t.playing),f],[a.T,function(t,e){return e}]])(e,t)},{playing:!1,playingPosition:0,msPlayed:0});return(e={})[i.PlaybackSessionKeys.MS_PLAYED]=n.msPlayed,e}function P(t){var e,n=t.reduce(function(t,e){var n=(0,a.cond)([[(0,s.startedPlaying)(t.playing),s.handlePlayingPosition],[(0,s.interruptedWhilePlaying)(t.playing),f],[s.subtitles,p],[a.T,function(t,e){return e}]])(e,t);return d(e,n)},{playing:!1,subtitlesEnabled:!1,playingWithSubtitlesPosition:0,msPlayedSubtitles:0});return(e={})[i.PlaybackSessionKeys.MS_PLAYED_SUBTITLES]=n.msPlayedSubtitles,e}function L(t){var e,n=t.reduce(function(t,e){var n=(0,a.cond)([[(0,s.startedPlaying)(t.playing),s.handlePlayingPosition],[(0,s.interruptedWhilePlaying)(t.playing),f],[s.fullscreen,h],[a.T,function(t,e){return e}]])(e,t);return _(e,n)},{playing:!1,fullscreen:!1,playingWhileFullscreenPosition:0,msPlayedFullscreen:0});return(e={})[i.PlaybackSessionKeys.MS_PLAYED_FULLSCREEN]=n.msPlayedFullscreen,e}},MN4F:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.getCookie=function(t){try{var e=" "+document.cookie+";",n=e.indexOf(" "+t+"=");if(n>=0){n+=t.length+2;var r=e.indexOf(";",n);return e.slice(n,r)}if(e.indexOf(" "+t+";")>=0)return""}catch(t){}},e.getLocalStorage=function(){try{if(localStorage.setItem(o,o),localStorage.getItem(o)!==o)return;return localStorage.removeItem(o),localStorage}catch(t){}},e.resolveTimeout=function(t,e){return void 0===e&&(e=!0),new Promise(function(n){var r=setTimeout(n,t);if(e&&"object"===(0,i.default)(r)&&"function"==typeof r.unref)try{r.unref()}catch(t){}})},e.resolveOnLoad=function(){return new Promise(function(t){try{"complete"===document.readyState?t():window.addEventListener("load",function(){t()})}catch(e){t()}})};var i=r(n("e+GP")),o="random-key-8bd1050edb44"},MNOf:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,h,d,_=t[l].replace(s,"%20"),y=_.indexOf(n);y>=0?(f=_.substr(0,y),p=_.substr(y+1)):(f=_,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),r(a,h)?i(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},Md2V:function(t,e,n){"use strict";var r=n("nAES");function i(t,e,n){Error.call(this,t);var i=n||{};this.code=t||r.DEALER_ERROR,this.raw=i,this.wsReason=i.reason||null,this.wsCode=i.code||null}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="DealerError",t.exports=i},"Mj+E":function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},MtVP:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("Q0s3"),s=n("ExtB"),u=n("4zCw"),c=n("mmnt"),l=n("l8e1"),f=n("kCN1").delegateAll,p=n("CweX").areDeviceListsEqual;function h(t){i.call(this),this._client=t.client,this._streamer=t.streamer,this._controller=t.controller,this._hidden=!!t.hidden,this._onlyLocalState=t.onlyLocalState,this._preferController=!this._onlyLocalState&&t.preferControllerState,this._claimInactivePlayerStates=t.claimInactivePlayerStates,this._disconnectBeforeUnload=t.disconnectBeforeUnload,this._enableControllerWithoutStreamer=t.enableControllerWithoutStreamer,this._hasFakeState=!1,this._localPlayerEnabled=!1,this._localPlayback=!1,this._deferredStreamer=null,this._lastDeviceList=[],this._init()}r(h,i),h.create=function(t){return new h(t)},f(h.prototype,{connect:"_client",disconnect:"_client",getABBAClient:"_client",getClientDescriptor:"_client",getProductState:"_client",getPublicTransport:"_client",getUserInfo:"_client",getVersionDescriptor:"_client",logAppMetrics:"_client",request:"_client",setName:"_client",setNameTemplate:"_client",getContextPlayerState:"_controller",updateCurrentContext:"_controller"}),h.prototype._init=function(){this._createStreamerDeferred();var t=this._client;t.on(a.CLIENT_ERROR,this._onError.bind(this)),this.proxyEmit(t,a.CLIENT_AUTHENTICATED,s.AUTHENTICATED),this.proxyEmit(t,a.CLIENT_AUTHENTICATION_ERROR,s.AUTHENTICATION_ERROR),this.proxyEmit(t,a.CLIENT_BEFORE_DISCONNECT,s.BEFORE_DISCONNECT),this.proxyEmit(t,a.CLIENT_CONNECTED,s.CONNECTED),this.proxyEmit(t,a.CLIENT_CONNECTION_ERROR,s.CONNECTION_ERROR),this.proxyEmit(t,a.CLIENT_DEVICE_DESCRIPTOR_CHANGED,s.DEVICE_DESCRIPTOR_CHANGED),this.proxyEmit(t,a.CLIENT_PRODUCT_STATE_CHANGED,s.PRODUCT_STATE_CHANGED),this.proxyEmit(t,a.CLIENT_RECONNECTED,s.RECONNECTED),this.proxyEmit(t,a.CLIENT_RECONNECTING,s.RECONNECTING),this.proxyEmit(t,a.CLIENT_UNRECOVERABLE_FAILURE,s.UNRECOVERABLE_FAILURE),this.proxyEmit(t,a.CLIENT_LOGGED_OUT,s.LOGGED_OUT);var n=this._controller;n.on(a.CONTROLLER_DEVICE_INFO_CHANGED,this._onDeviceStateChanged.bind(this)),n.on(a.CONTROLLER_DEVICES_CHANGED,this._onDevicesChanged.bind(this)),n.on(a.CONTROLLER_STATE_CHANGED,this._onPlayerStateChanged.bind(this)),n.on(a.CONTROLLER_PROGRESS,this._onControllerProgress.bind(this)),this.proxyEmit(n,a.CONTROLLER_MAX_SUBSCRIPTIONS_REACHED,s.MAX_SUBSCRIPTIONS_REACHED),this._proxyEmitNoProps(n,a.CONTROLLER_REGISTERED,s.REMOTE_OBSERVER_ENABLED),this._proxyEmitNoProps(n,a.CONTROLLER_DEREGISTERED,s.REMOTE_OBSERVER_DISABLED);var r=this._streamer;r?(r.on(a.STREAMER_BEFORE_VOLUME_CHANGE,this._onStreamerBeforeVolumeChange.bind(this)),r.on(a.STREAMER_DEREGISTERED,this._onStreamerDeregistered.bind(this)),r.on(a.STREAMER_REGISTERED,this._onStreamerRegistered.bind(this)),r.on(a.STREAMER_REGISTRATION_ABORTED,this._onStreamerRegistrationAborted.bind(this)),r.on(a.STREAMER_STATE_CHANGED,this._onStreamerStateChanged.bind(this)),this.proxyEmit(r,a.STREAMER_AUTOPLAY_FAILED,s.AUTOPLAY_FAILED),this.proxyEmit(r,a.STREAMER_BUFFERING_END,s.BUFFERING_END),this.proxyEmit(r,a.STREAMER_BUFFERING_START,s.BUFFERING_START),this.proxyEmit(r,a.STREAMER_DURATION_CHANGED,s.DURATION_CHANGED),this.proxyEmit(r,a.STREAMER_MAX_LIST_ERRORS_REACHED,s.MAX_LIST_ERRORS_REACHED),this.proxyEmit(r,a.STREAMER_MAX_SUBSCRIPTIONS_REACHED,s.MAX_SUBSCRIPTIONS_REACHED),this.proxyEmit(r,a.STREAMER_PLAYBACK_CAPPED,s.PLAYBACK_CAPPED),this.proxyEmit(r,a.STREAMER_PLAYER_INITIALIZATION_DONE,s.PLAYER_INITIALIZATION_DONE),this.proxyEmit(r,a.STREAMER_PLAYER_INITIALIZATION_FAILED,s.PLAYER_INITIALIZATION_FAILED),this.proxyEmit(r,a.STREAMER_PROGRESS,s.PROGRESS),this.proxyEmit(r,a.STREAMER_REGISTRATION_ERROR,s.SERVICE_REGISTRATION_ERROR),this.proxyEmit(r,a.STREAMER_TRACK_ENDED,s.TRACK_ENDED),this.proxyEmit(r,a.STREAMER_VIDEO_ELEMENT_APPENDED,s.VIDEO_ELEMENT_APPENDED),this.proxyEmit(r,a.STREAMER_VIDEO_ELEMENT_REMOVED,s.VIDEO_ELEMENT_REMOVED),this._proxyEmitNoProps(r,a.STREAMER_CONTEXT_ENDED,s.LOCAL_CONTEXT_ENDED),this._proxyEmitNoProps(r,a.STREAMER_LOGGED_OUT,s.LOCAL_PLAYER_LOGGED_OUT)):(this._disableLocalTarget(),this.on(s.AUTHENTICATED,function(){this.emit(s.LOCAL_PLAYER_DISABLED)}.bind(this))),this._disconnectBeforeUnload&&e.addEventListener&&e.addEventListener(a.WINDOW_BEFORE_UNLOAD,function(){this.disconnect()}.bind(this))},h.prototype._createStreamerDeferred=function(){this._deferredStreamer=o.defer(),this._deferredStreamer.promise.catch(function(){})},h.prototype._isTargetIdLocal=function(t){return t?"@local"===t?o.resolve(!0):this._client.getDeviceDescriptor().then(function(e){return t===e.getId()}):o.resolve(!!this._localPlayback)},h.prototype._proxyEmitNoProps=function(t,e,n){t.on(e,this.emit.bind(this,n,null))},h.prototype._onStreamerBeforeVolumeChange=function(t){this.emitSync(s.BEFORE_VOLUME_CHANGE,{volume:t.volume}).defaultPrevented&&t.preventDefault()},h.prototype._onStreamerRegistered=function(t){this._deferredStreamer.resolve(t),this._createStreamerDeferred(),this._deferredStreamer.resolve(t),this._localPlayerEnabled=!0,this._controller.register(),this.emit(s.LOCAL_PLAYER_ENABLED)},h.prototype._onStreamerDeregistered=function(){this._disableLocalTarget(),this.emit(s.LOCAL_PLAYER_DISABLED)},h.prototype._onStreamerRegistrationAborted=function(){this._disableLocalTarget(),this._enableControllerWithoutStreamer&&this._controller.register(),this.emit(s.LOCAL_PLAYER_DISABLED)},h.prototype._disableLocalTarget=function(){this._localPlayerEnabled=!1;var t=new l(u.HARMONY_LOCAL_PLAYER_DISABLED,"Cannot perform command; local player is disabled.");this._deferredStreamer.reject(t),this._createStreamerDeferred(),this._deferredStreamer.reject(t)},h.prototype._onStreamerConnect=function(){return this._deferredStreamer.promise},h.prototype._onDeviceStateChanged=function(t){var e=!!this._localPlayback,n=function(t){this._generateLocalDeviceInfo(t).then(function(t){this.emit(s.LAST_ACTIVE_DEVICE_INFO_CHANGED,{deviceInfo:t})}.bind(this))}.bind(this);if(this._localPlayerEnabled&&t.hasOrphanedState&&this._claimInactivePlayerStates)return this._hasFakeState=!0,void n(!0);this._hasFakeState=!1,this._localPlayback=t.deviceInfo&&t.deviceInfo.local,this._localPlayback?this._streamer.getVolume().then(function(e){t.deviceInfo.volume=e,this.emit(s.LAST_ACTIVE_DEVICE_INFO_CHANGED,t)}.bind(this)).catch(function(){}):this._onlyLocalState?(this._localPlayback||e)&&n():this.emit(s.LAST_ACTIVE_DEVICE_INFO_CHANGED,t)},h.prototype._onDevicesChanged=function(t){var e=this._lastDeviceList;this._parseDeviceList(t).then(function(t){this._listenerMap&&this._listenerMap[s.DEVICES_CHANGED]&&this._listenerMap[s.DEVICES_CHANGED].length&&!p(e,t)&&this.emit(s.DEVICES_CHANGED,{devices:t})}.bind(this))},h.prototype._onError=function(t){var e=t.error;t.source===c.PLAYBACK&&e&&e.unrecoverable&&(this._disableLocalTarget(),this._streamer.deregister()),this.emit(s.ERROR,t)},h.prototype._onPlayerStateChanged=function(t){var e;this._onlyLocalState||!this._preferController&&this._localPlayback||(e=this._localPlayerEnabled&&this._claimInactivePlayerStates?t.state:t.orphaned?null:t.state,this.emit(s.STATE_CHANGED,{state:e}))},h.prototype._onControllerProgress=function(t){this._onlyLocalState||this._localPlayback||this.emit(s.PROGRESS,t)},h.prototype._onStreamerStateChanged=function(t){this._preferController||(this._onlyLocalState?this._triggerLocalStateChanges(t):this._hidden?this._handleHidden(t):this._localPlayback&&this.emit(s.STATE_CHANGED,t))},h.prototype._handleHidden=function(t){t.state?(this._controller.suppressEvents(),this._triggerLocalStateChanges(t)):this._controller.unsuppressEvents()},h.prototype._parseDeviceList=function(t){var e=t.devices.slice(0);return e.length&&t.localDevice?this._hasFakeState&&t.localDevice&&(t.localDevice.is_active=!0):e.push(this._generateLocalDeviceInfo(this._hasFakeState)),o.all(e).then(function(t){return this._lastDeviceList=t,t}.bind(this))},h.prototype._triggerLocalStateChanges=function(t){this._generateLocalDeviceInfo().then(function(t){this._onDeviceStateChanged({deviceInfo:t})}.bind(this)),this.emit(s.STATE_CHANGED,t)},h.prototype.forceDisconnect=function(){return this._client.forceDisconnect(),this._streamer&&this._streamer.pause().catch(function(){}),!0},h.prototype.getLastActiveDevice=function(){return this._onlyLocalState||this._hasFakeState?this._generateLocalDeviceInfo(this._hasFakeState):this._controller.getActiveDevice().then(function(t){return t&&t.local&&this._streamer?(t.hidden=this._hidden,this._streamer.getVolume().then(function(e){return t.volume=e,t})):t}.bind(this))},h.prototype.getCurrentState=function(){if(!this._onlyLocalState&&(this._preferController||!this._localPlayback)){var t=!this._localPlayerEnabled||!this._claimInactivePlayerStates;return this._controller.getCurrentState(t).then(function(t){return!this._preferController&&this._localPlayback?this.getCurrentState():t}.bind(this))}return this._onStreamerConnect().then(this._streamer.getCurrentState.bind(this._streamer))},h.prototype.togglePlay=function(t){return this._runOnDevice(t,function(){return this._streamer.togglePlay()}.bind(this),this._controller.togglePlay.bind(this._controller,t))},h.prototype.pause=function(t){return this._runOnDevice(t,function(){return this._streamer.pause()}.bind(this),this._controller.pause.bind(this._controller,t))},h.prototype.resume=function(t){return this._runOnDevice(t,function(){return this._streamer.resume()}.bind(this),this._controller.resume.bind(this._controller,t))},h.prototype.playURI=function(t,e,n){return this._canStartNewContext(e).then(function(){return this._controller.playURI(t,e,n)}.bind(this))},h.prototype.playTracks=function(t,e,n){return this._canStartNewContext(e).then(function(){return this._controller.playTracks(t,e,n)}.bind(this))},h.prototype._canStartNewContext=function(t){return this._runOnDevice(t,function(){return this._streamer.getCurrentState().then(function(t){return!(t&&t.restrictions&&t.restrictions.disallow_skipping_next_reasons)||-1===t.restrictions.disallow_skipping_next_reasons.indexOf("ad_disallow")})}.bind(this),function(){return!0},!0).then(function(t){return!!t||o.reject(new l(u.HARMONY_OPERATION_FORBIDDEN,"Cannot switch to a new context."))})},h.prototype.nextTrack=function(t){return this._runOnDevice(t,function(){return this._streamer.nextTrack("fwdbtn")}.bind(this),this._controller.nextTrack.bind(this._controller,t))},h.prototype.smartPreviousTrack=function(t){return this.getCurrentState().then(function(e){return e?(e.disallows||{}).seeking||e.position<3e3&&e.track_window&&e.track_window.previous_tracks&&e.track_window.previous_tracks.length>0?this.previousTrack(t):this.seek(0,t):o.reject(new l(u.HARMONY_NO_TRACKS_LOADED,"No current state."))}.bind(this))},h.prototype.previousTrack=function(t){return this._runOnDevice(t,function(){return this._streamer.previousTrack("backbtn")}.bind(this),this._controller.previousTrack.bind(this._controller,t))},h.prototype.seek=function(t,e){return this._runOnDevice(e,function(){return this._streamer.seek(t)}.bind(this),this._controller.seek.bind(this._controller,t,e))},h.prototype._movePosition=function(t,e){return this.getCurrentState().then(function(n){if(!n||isNaN(n.position))return o.reject(new l(u.HARMONY_OPERATION_FORBIDDEN,"Seeking not allowed with invalid track."));var r=t,i=Math.min(n.duration,Math.max(0,n.position+r));return this.seek(i,e)}.bind(this))},h.prototype.seekForward=function(t,e){return this._movePosition(t||15e3,e)},h.prototype.seekBackward=function(t,e){return this._movePosition(-1*(t||15e3),e)},h.prototype.getVolume=function(){return this._streamer?this._streamer.getVolume():-1},h.prototype.getVideoProfiles=function(){return this._streamer.getVideoProfiles()},h.prototype.setPreferredBitrate=function(t){return this._streamer.setPreferredBitrate(t)},h.prototype.setVolume=function(t,e){return this._runOnDevice(e,function(){return this._streamer.setVolume(t)}.bind(this),this._controller.setVolume.bind(this._controller,t))},h.prototype._runOnDevice=function(t,e,n,r){return this._hasFakeState&&!r?this._claimStateAndRun(n):this._isTargetIdLocal(t).then(function(t){return t?this._onStreamerConnect().then(e):n()}.bind(this))},h.prototype._claimStateAndRun=function(t){return this._onStreamerConnect().then(function(){return this._hasFakeState=!1,o.all([this._controller.transfer("@local",{paused:!0}),new o(function(t){this._streamer.once(a.STREAMER_TRACK_LOADED,t)}.bind(this))])}.bind(this)).then(function(){return t()})},h.prototype._generateLocalDeviceInfo=function(t){var e=this._client,n=this._streamer,r=null,i=-1;return this._localPlayerEnabled&&(r=!!t||n.getCurrentState(),i=n.getVolume()),o.all([e.getClientDescriptor(),e.getSDKId(),r,i,this._hidden]).spread(function(t,e,n,r,i){return{hidden:i,id:t.id,is_active:!!n,is_controllable:this._localPlayerEnabled,is_observable:!!this._localPlayerEnabled&&!i,local:!0,metadata:t.metadata||{},name:t.name,type:t.type,version:e,volume:r}}.bind(this))},h.prototype.getDevices=function(){return this._controller.getDevices().then(this._parseDeviceList.bind(this))},h.prototype.setQueue=function(t,e,n){var r=this._controller.setQueue.bind(this._controller,t,e,n);return this._runOnDevice(n,r,r)},h.prototype.addToQueue=function(t,e){var n=this._controller.addToQueue.bind(this._controller,t,e);return this._runOnDevice(e,n,n)},h.prototype.setShuffle=function(t,e){var n=this._controller.setShuffle.bind(this._controller,t,e);return this._runOnDevice(e,n,n)},h.prototype.toggleShuffle=function(t){var e=this._controller.toggleShuffle.bind(this._controller,t);return this._runOnDevice(t,e,e)},h.prototype.setRepeatMode=function(t,e){var n=this._controller.setRepeatMode.bind(this._controller,t,e);return this._runOnDevice(e,n,n)},h.prototype.cycleRepeatMode=function(t){var e=this._controller.cycleRepeatMode.bind(this._controller,t);return this._runOnDevice(t,e,e)},h.prototype.transfer=function(t,e){var n=t||"@local",r=this._controller.transfer.bind(this._controller,n,e);return this._runOnDevice(n,r,r)},t.exports=h}).call(this,n("pCvA"))},NGR8:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,c="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},NQha:function(t,e,n){"use strict";t.exports=n("UBA0")()?Object.keys:n("jwNz")},NS33:function(t,e,n){"use strict";var r=n("E02R");function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},NToG:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},NWgQ:function(t,e,n){"use strict";var r=n("X7EK"),i=n("IL7q");function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(i),o,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r},e.stringify=function(t,e){var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[o(e,t),"[",r,"]"].join(""):[o(e,t),"[",o(r,t),"]=",o(n,t)].join("")};case"bracket":return function(e,n){return null===n?o(e,t):[o(e,t),"[]=",o(n,t)].join("")};default:return function(e,n){return null===n?o(e,t):[o(e,t),"=",o(n,t)].join("")}}}(e=i({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map(function(r){var i=t[r];if(void 0===i)return"";if(null===i)return o(r,e);if(Array.isArray(i)){var a=[];return i.slice().forEach(function(t){void 0!==t&&a.push(n(r,t,a.length))}),a.join("&")}return o(r,e)+"="+o(i,e)}).filter(function(t){return t.length>0}).join("&"):""}},"NY/1":function(t,e,n){var r=n("qykS").Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},NthX:function(t,e,n){t.exports=n("wcNg")},O0QU:function(t,e,n){var r=n("aoi3");t.exports=function t(e,n,i){return r(n)||(i=n||i,n=[]),i=i||{},e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(e,n):r(e)?function(e,n,r){for(var i=[],o=0;o<e.length;o++)i.push(t(e[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",f(r)),n)}(e,n,i):function(t,e,n){return p(o(t,n),e,n)}(e,n,i)},t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var f=n[0],p=n[1],h=n.index;if(s+=t.slice(a,h),a=h+f.length,p)s+=p[1];else{var d=t[a],_=n[2],y=n[3],v=n[4],m=n[5],g=n[6],E=n[7];s&&(r.push(s),s="");var b=null!=_&&null!=d&&d!==_,T="+"===g||"*"===g,S="?"===g||"*"===g,R=n[2]||l,w=v||m;r.push({name:y||o++,prefix:_||"",delimiter:R,optional:S,repeat:T,partial:b,asterisk:!!E,pattern:w?c(w):E?".*":"[^"+u(R)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var f,p=s[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(f=u(p[h]),!e[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(p).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(p),!e[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function p(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"==typeof c)a+=u(c);else{var p=u(c.prefix),h="(?:"+c.pattern+")";e.push(c),c.repeat&&(h+="(?:"+p+h+")*"),a+=h=c.optional?c.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var d=u(n.delimiter||"/"),_=a.slice(-d.length)===d;return i||(a=(_?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&_?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),e)}},O9Uh:function(t,e,n){"use strict";var r={NULL_VALUE:new function(){},LIST_START:new function(){},LIST_END:new function(){},FORBIDDEN:new function(){}};t.exports=r},OHXD:function(t,e,n){"use strict";var r=n("tImM");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},OLMR:function(t,e,n){"use strict";t.exports=o;var r=n("+t3Y"),i=n("nrnY");function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n("wfEq"),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},Od41:function(t,e,n){"use strict";var r=n("LObV");function i(){this._version="1.0.0",this._list=null,this._map=null,this.clear()}i.prototype.clear=function(){this._list=new r,this._map={}},i.prototype.track=function(t,e){var n=this._map[t];n||(n=new r.Node({url:t,segments:0,bandwidths:[]}),this._list.append(n),this._map[t]=n);var i=n.value;i.segments+=1,i.bandwidths.push(e.bandwidth)},i.prototype.toJSON=function(){for(var t=[],e=this._list.first;e;){for(var n=e.value,r=n.bandwidths,i=0,o=r.length;o--;)i+=r[o];t.push({url:n.url,segments:n.segments,avg_bw:parseFloat((i/r.length).toFixed(7))}),e=e.next}return{version:this._version,urls:t}},t.exports=i},OfE8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("3ZRO"),i=/^[ \t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \t]*$/,o=function(){function t(t,e,n,i){void 0===t&&(t=Object(r.k)()),void 0===e&&(e=Object(r.k)().substring(16)),this._traceId=t,this._spanId=e,this._sampled=n,this._parent=i}return t.prototype.setParent=function(t){return this._parent=t,this},t.prototype.setSampled=function(t){return this._sampled=t,this},t.fromTraceparent=function(e){var n=e.match(i);if(n){var r=void 0;"1"===n[3]?r=!0:"0"===n[3]&&(r=!1);var o=new t(n[1],n[2],r);return new t(n[1],void 0,r,o)}},t.prototype.toTraceparent=function(){var t="";return!0===this._sampled?t="-1":!1===this._sampled&&(t="-0"),this._traceId+"-"+this._spanId+t},t.prototype.toJSON=function(){return{parent:this._parent&&this._parent.toJSON()||void 0,sampled:this._sampled,span_id:this._spanId,trace_id:this._traceId}},t}()},OiND:function(t,e,n){"use strict";(function(e){var r=n("uDox").forTag("transport.intervaltimer"),i=void 0!==e.performance&&"function"==typeof e.performance.now,o=function(){return i?performance.now():Date.now()};function a(t,e,n){this._name=t,this._id=e,this._logger=n,this._intervals={}}a.prototype.start=function(t){t in this._intervals&&r.warn("Overriding already started interval"),this._intervals[t]={start:o(),end:null}},a.prototype.end=function(t){t in this._intervals&&!this._intervals[t].end?this._intervals[t].end=o():r.warn("Tried to end an invalid interval")},a.prototype.getIntervals=function(){return this._intervals},a.prototype.sendLog=function(){var t={name:this._name,id:this._id,intervals:this._intervals},e=this.clear.bind(this);return this._logger.logJSSDKIntervalTimer(t).then(e,e)},a.prototype.clear=function(){return this._intervals={},this},a.create=function(t,e,n){return new a(t,e,n)},t.exports=a}).call(this,n("pCvA"))},OlH2:function(t,e,n){"use strict";var r=n("vdEC");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("nLrc"));window&&window.shaka&&window.shaka.Player&&(i=window.shaka);var o=i;e.default=o},OmE2:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},Ono3:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},Oo57:function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=E;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",_={},y={};y[a]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==r&&i.call(m,a)&&(y=m);var g=R.prototype=T.prototype=Object.create(y);S.prototype=g.constructor=R,R.constructor=S,R[u]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,R):(t.__proto__=R,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(g),t},l.awrap=function(t){return{__await:t}},w(O.prototype),O.prototype[s]=function(){return this},l.AsyncIterator=O,l.async=function(t,e,n,r){var i=new O(E(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},w(g),g[u]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),_}}}function E(t,e,n,r){var i=e&&e.prototype instanceof T?e:T,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=b(t,e,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function T(){}function S(){}function R(){}function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var s=b(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,_;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,_):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},OvAC:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},OwjE:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.createTransport=m,e.default=e.FetchType=e.RefreshFlag=void 0;var i,o,a=r(n("4z+8")),s=n("cifS"),u=n("1tZG"),c=n("sJ0o"),l=r(n("CqI6")),f=n("n3pV"),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},d=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},y="https://spclient.wg.spotify.com",v={"App-Platform":"browser","Spotify-App-Version":"1.0.0"};function m(t){var e=(0,a.default)({providers:{token:u.TokenProvider.toPromiseProvider(t),endpoints:function(){return Promise.resolve({webgate:y})}}});return e.once(c.Event.TRANSPORT_CONNECTED,function(){e.authenticate()}),e.connect(),e}e.RefreshFlag=i,function(t){t[t.NONE=0]="NONE",t[t.TRANSPORT=1]="TRANSPORT",t[t.EVENT_SENDER=2]="EVENT_SENDER"}(i||(e.RefreshFlag=i={})),e.FetchType=o,function(t){t.BACKGROUND_SYNC="background_sync",t.BLOCKING="blocking",t.DELAYED="delayed"}(o||(e.FetchType=o={}));var g=function(){function t(t){var e=t.getToken,n=t.transport,r=t.eventSender,o=_(t,["getToken","transport","eventSender"]);if(this.refreshFlag=i.NONE,!n){if(!e)throw new Error("Either transport or getToken must be provided");n=m(e),this.refreshFlag|=i.TRANSPORT}r||(r=l.default.create({transport:n}),this.refreshFlag|=i.EVENT_SENDER),this.transport=n,this.eventSender=r,this.clientConfig=o}return t.prototype.resolveConfig=function(t){var e=t.timeout,n=void 0!==e&&e,r=t.propertySetKey,i=t.fetchType,o=this.clientConfig,a="/v2/configs/platforms/web/clients/"+o.clientId+"/property-sets/"+r+"?installation-id="+o.installationId;return i&&(a+="&fetch-type="+i),this.request(a,{method:"GET",timeout:n}).then(function(t){var e=t.properties,n=void 0===e?[]:e,r=t.rcsFetchTime,i=void 0===r?"":r;return{configurationAssignmentId:t.configurationAssignmentId,properties:(0,s.propertyMapFromResolved)(n),rcsFetchTime:i,clientFetchTime:Date.now()}})},t.prototype.configApplied=function(t,e,n,r){return h(this,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:return[4,Promise.all([this.pingbackConfigApplied(t,e,n,r),this.instrumentConfigApplied(e,n.map(Number),r)])];case 1:return i.sent(),[2]}})})},t.prototype.pingbackConfigApplied=function(t,e,n,r){var i=this.clientConfig,o="/v1/config-applied/platforms/web/clients/"+i.clientId+"/property-sets/"+t+"?installation-id="+i.installationId;return this.request(o,{method:"POST",payload:{lastRcsFetchTime:r,policyGroupIds:n,configurationAssignmentId:e}})},t.prototype.instrumentConfigApplied=function(t,e,n){return h(this,void 0,void 0,function(){var r,i,o;return d(this,function(a){switch(a.label){case 0:return r=this.clientConfig,i=r.clientId,o=r.installationId,this.eventSender.log((0,f.createConfigurationAppliedEvent)({rc_client_id:i,installation_id:o,configuration_assignment_id:t,policy_group_ids:e,last_rcs_fetch_time:n,platform:"WEB"}),!1),[4,this.eventSender.flush()];case 1:return a.sent(),[2]}})})},t.prototype.defaultConfigApplied=function(t,e){return h(this,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return[4,Promise.all([this.pingbackDefaultConfigApplied(t,e),this.instrumentDefaultConfigApplied(e)])];case 1:return n.sent(),[2]}})})},t.prototype.pingbackDefaultConfigApplied=function(t,e){return h(this,void 0,void 0,function(){var n,r,i,o;return d(this,function(a){switch(a.label){case 0:return n=this.clientConfig,r=n.clientId,i=n.installationId,o="/v1/default-config-applied/platforms/web/clients/"+r+"/property-sets/"+t+"?installation-id="+i,[4,this.request(o,{method:"POST",payload:{configurationAssignmentId:e}})];case 1:return a.sent(),[2]}})})},t.prototype.instrumentDefaultConfigApplied=function(t){return h(this,void 0,void 0,function(){var e,n,r;return d(this,function(i){switch(i.label){case 0:return e=this.clientConfig,n=e.clientId,r=e.installationId,this.eventSender.log((0,f.createDefaultConfigurationAppliedEvent)({rc_client_id:n,installation_id:r,configuration_assignment_id:t}),!1),[4,this.eventSender.flush()];case 1:return i.sent(),[2]}})})},t.prototype.refresh=function(){return h(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:if(t=i.NONE,!(this.refreshFlag&i.EVENT_SENDER))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.eventSender.flush()];case 2:return e.sent(),t|=i.EVENT_SENDER,[3,4];case 3:return e.sent(),[3,4];case 4:if(!(this.refreshFlag&i.TRANSPORT))return[3,8];e.label=5;case 5:return e.trys.push([5,7,,8]),[4,this.transport.forceTokenRefresh()];case 6:return e.sent(),t|=i.TRANSPORT,[3,8];case 7:return e.sent(),[3,8];case 8:return[2,t]}})})},t.prototype.request=function(t,e){var n=e.method,r=e.payload,i=e.timeout,o=void 0!==i&&i,a=e.retries,s=void 0===a?5:a,u={method:n,headers:p({},v),responseType:"json",rejectNotOk:!0,retry:{maxRetries:s}};return r&&(u.payload=JSON.stringify(r),u.headers["Content-Type"]="application/json"),function(t,e,n){return void 0===n&&(n=new Error("Timeout")),!1===e||e<0?t:Promise.race([t,new Promise(function(t,r){setTimeout(function(){r(n)},e)})])}(this.transport.request("@webgate/remote-config-resolver"+t,u).then(function(t){return t.body}),o,new Error("RcsClient request timeout"))},t}();e.default=g},P1TA:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},"PBt+":function(t,e,n){"use strict";var r=n("ZQMo").supportsDescriptors,i=n("hP7U"),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=u(c),n=o(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},PCPI:function(t,e,n){"use strict";var r=n("/ub/"),i={generate:function(t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(256*Math.random()|0);return e},generateBase64:function(t){return r.encode(i.generate(t))}};t.exports=i},PCVr:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("GX8z"),a=n("s2Nl"),s=n("f1wx");function u(t){i.call(this),this.request=t.request.bind(t),this.getConnectionId=t.getConnectionId.bind(t),this.getEndpoints=t.getEndpoints.bind(t),this.getInitTime=t.getInitTime.bind(t),this.getLastToken=t.getLastToken.bind(t),this.matchMessages=t.matchMessages.bind(t),this.handlePushRequests=t.handlePushRequests.bind(t),this.proxyEmit(t,o.TRANSPORT_ACCESS_TOKEN,this.EVENT_ACCESS_TOKEN),this.proxyEmit(t,o.TRANSPORT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_OFFLINE),this.proxyEmit(t,o.TRANSPORT_CONNECTION_ONLINE,this.EVENT_CONNECTION_ONLINE),this.proxyEmit(t,o.TRANSPORT_ENDPOINTS_RESOLVED,this.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(this.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,this.on.bind(t))),this.onRemoveListener(this.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,this.removeListener.bind(t)))}r(u,i),u.prototype.EVENT_ACCESS_TOKEN="access_token",u.prototype.EVENT_CONNECTION_ID="connection_id",u.prototype.EVENT_CONNECTION_OFFLINE="connection_offline",u.prototype.EVENT_CONNECTION_ONLINE="connection_online",u.prototype.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved",u.prototype.StatusCode=a,u.prototype.StatusFamily=s,u.prototype._onAddConnectionIdListener=function(t,e){e.preventDefault();var n=this.EVENT_CONNECTION_ID,r=e.listener,a=function(t){r.call(this,i.createEvent(n,t))}.bind(this);r.$proxy_wrapper=a,t(o.TRANSPORT_CONNECTION_ID,a,e.options)},u.prototype._onRemoveConnectionIdListener=function(t,e){e.preventDefault(),e.listener.$proxy_wrapper&&t(o.TRANSPORT_CONNECTION_ID,e.listener.$proxy_wrapper,e.options)},t.exports=u},PE9J:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},PQZM:function(t,e,n){"use strict";t.exports=function(t,e){var n=e.prototype;function r(){}r.prototype=t._super=n,t.prototype=new r,t.prototype.constructor=t}},"Pe5/":function(t,e,n){"use strict";var r=n("vdEC");Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RCResolverProperty=e.RCPublishIntSpec=e.RCPublishBoolSpec=e.RCPublishEnumSpec=e.RCPublishProperty=e.RCProperties=void 0;var i=r(n("ZCJg")),o=i.iface([],{version:"string",properties:i.array("RCPublishProperty")});e.RCProperties=o;var a=i.iface([],{name:"string",description:"string",componentId:i.opt("string"),enumSpec:i.opt("RCPublishEnumSpec"),boolSpec:i.opt("RCPublishBoolSpec"),intSpec:i.opt("RCPublishIntSpec")});e.RCPublishProperty=a;var s=i.iface([],{default:"string",values:i.array("string")});e.RCPublishEnumSpec=s;var u=i.iface([],{default:"boolean"});e.RCPublishBoolSpec=u;var c=i.iface([],{default:"number",lower:"number",upper:"number"});e.RCPublishIntSpec=c;var l=i.iface([],{name:"string",groupId:i.opt("string"),clientId:i.opt("string"),boolValue:i.opt(i.iface([],{value:"boolean"})),intValue:i.opt(i.iface([],{value:"number"})),enumValue:i.opt(i.iface([],{value:"string"}))});e.RCResolverProperty=l;var f={RCProperties:o,RCPublishProperty:a,RCPublishEnumSpec:s,RCPublishBoolSpec:u,RCPublishIntSpec:c,RCResolverProperty:l};e.default=f},"PoH+":function(t,e,n){(function(t,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},o=i._,a=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,l=a.slice,f=s.toString,p=s.hasOwnProperty,h=Array.isArray,d=Object.keys,_=Object.create,y=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};e.nodeType?i._=v:(!n.nodeType&&n.exports&&(e=n.exports=v),e._=v),v.VERSION="1.9.1";var m,g=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return v.iteratee!==m?v.iteratee(t,e):null==t?v.identity:v.isFunction(t)?g(t,e,n):v.isObject(t)&&!v.isArray(t)?v.matcher(t):v.property(t)};v.iteratee=m=function(t,e){return E(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},T=function(t){if(!v.isObject(t))return{};if(_)return _(t);y.prototype=t;var e=new y;return y.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},R=function(t,e){return null!=t&&p.call(t,e)},w=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},O=Math.pow(2,53)-1,A=S("length"),I=function(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=O};v.each=v.forEach=function(t,e,n){var r,i;if(e=g(e,n),I(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=v.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},v.map=v.collect=function(t,e,n){e=E(e,n);for(var r=!I(t)&&v.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var N=function(t){var e=function(e,n,r,i){var o=!I(e)&&v.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,g(n,i,4),r,o)}};v.reduce=v.foldl=v.inject=N(1),v.reduceRight=v.foldr=N(-1),v.find=v.detect=function(t,e,n){var r=(I(t)?v.findIndex:v.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},v.filter=v.select=function(t,e,n){var r=[];return e=E(e,n),v.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},v.reject=function(t,e,n){return v.filter(t,v.negate(E(e)),n)},v.every=v.all=function(t,e,n){e=E(e,n);for(var r=!I(t)&&v.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},v.some=v.any=function(t,e,n){e=E(e,n);for(var r=!I(t)&&v.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,r){return I(t)||(t=v.values(t)),("number"!=typeof n||r)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=b(function(t,e,n){var r,i;return v.isFunction(e)?i=e:v.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),v.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=w(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=I(t)?t:v.values(t)).length;s<u;s++)null!=(r=t[s])&&r>o&&(o=r);else e=E(e,n),v.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},v.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=I(t)?t:v.values(t)).length;s<u;s++)null!=(r=t[s])&&r<o&&(o=r);else e=E(e,n),v.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},v.shuffle=function(t){return v.sample(t,1/0)},v.sample=function(t,e,n){if(null==e||n)return I(t)||(t=v.values(t)),t[v.random(t.length-1)];var r=I(t)?v.clone(t):v.values(t),i=A(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=v.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)},v.sortBy=function(t,e,n){var r=0;return e=E(e,n),v.pluck(v.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var C=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=E(r,i),v.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};v.groupBy=C(function(t,e,n){R(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=C(function(t,e,n){t[n]=e}),v.countBy=C(function(t,e,n){R(t,n)?t[n]++:t[n]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(t){return t?v.isArray(t)?l.call(t):v.isString(t)?t.match(P):I(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:I(t)?t.length:v.keys(t).length},v.partition=C(function(t,e,n){t[n?0:1].push(e)},!0),v.first=v.head=v.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,Boolean)};var L=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,a=A(t);o<a;o++){var s=t[o];if(I(s)&&(v.isArray(s)||v.isArguments(s)))if(e)for(var u=0,c=s.length;u<c;)r[i++]=s[u++];else L(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};v.flatten=function(t,e){return L(t,e,!1)},v.without=b(function(t,e){return v.difference(t,e)}),v.uniq=v.unique=function(t,e,n,r){v.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],a=0,s=A(t);a<s;a++){var u=t[a],c=n?n(u,a,t):u;e&&!n?(a&&o===c||i.push(u),o=c):n?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=b(function(t){return v.uniq(L(t,!0,!0))}),v.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=A(t);r<i;r++){var o=t[r];if(!v.contains(e,o)){var a;for(a=1;a<n&&v.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},v.difference=b(function(t,e){return e=L(e,!0,!0),v.filter(t,function(t){return!v.contains(e,t)})}),v.unzip=function(t){for(var e=t&&v.max(t,A).length||0,n=Array(e),r=0;r<e;r++)n[r]=v.pluck(t,r);return n},v.zip=b(v.unzip),v.object=function(t,e){for(var n={},r=0,i=A(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var k=function(t){return function(e,n,r){n=E(n,r);for(var i=A(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};v.findIndex=k(1),v.findLastIndex=k(-1),v.sortedIndex=function(t,e,n,r){for(var i=(n=E(n,r,1))(e),o=0,a=A(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var D=function(t,e,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(l.call(r,a,s),v.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};v.indexOf=D(1,v.findIndex,v.sortedIndex),v.lastIndexOf=D(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},v.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(l.call(t,r,r+=e));return n};var x=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=T(t.prototype),a=t.apply(o,i);return v.isObject(a)?a:o};v.bind=b(function(t,e,n){if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=b(function(i){return x(t,r,e,this,n.concat(i))});return r}),v.partial=b(function(t,e){var n=v.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return x(t,r,this,this,a)};return r}),v.partial.placeholder=v,v.bindAll=b(function(t,e){var n=(e=L(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=v.bind(t[r],t)}}),v.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return R(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},v.delay=b(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:v.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=v.now();s||!1!==n.leading||(s=c);var l=e-(c-s);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},v.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=b(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=v.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2),v.restArguments=b;var M=!{toString:null}.propertyIsEnumerable("toString"),U=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(t,e){var n=U.length,r=t.constructor,i=v.isFunction(r)&&r.prototype||s,o="constructor";for(R(t,o)&&!v.contains(e,o)&&e.push(o);n--;)(o=U[n])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)};v.keys=function(t){if(!v.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)R(t,n)&&e.push(n);return M&&F(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&F(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},v.mapObject=function(t,e,n){e=E(e,n);for(var r=v.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},v.pairs=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},v.invert=function(t){for(var e={},n=v.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()};var j=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var c=a[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}};v.extend=j(v.allKeys),v.extendOwn=v.assign=j(v.keys),v.findKey=function(t,e,n){e=E(e,n);for(var r,i=v.keys(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r};var B,V,G=function(t,e,n){return e in n};v.pick=b(function(t,e){var n={},r=e[0];if(null==t)return n;v.isFunction(r)?(e.length>1&&(r=g(r,e[1])),e=v.allKeys(t)):(r=G,e=L(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),v.omit=b(function(t,e){var n,r=e[0];return v.isFunction(r)?(r=v.negate(r),e.length>1&&(n=e[1])):(e=v.map(L(e,!1,!1),String),r=function(t,n){return!v.contains(e,n)}),v.pick(t,r,n)}),v.defaults=j(v.allKeys,!0),v.create=function(t,e){var n=T(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0},B=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&V(t,e,n,r)},V=function(t,e,n,r){t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return u.valueOf.call(t)===u.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!B(t[c],e[c],n,r))return!1}else{var l,p=v.keys(t);if(c=p.length,v.keys(e).length!==c)return!1;for(;c--;)if(l=p[c],!R(e,l)||!B(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(t,e){return B(t,e)},v.isEmpty=function(t){return null==t||(I(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return R(t,"callee")});var W=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof W&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return!v.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&isNaN(t)},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){if(!v.isArray(e))return R(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!p.call(t,i))return!1;t=t[i]}return!!n},v.noConflict=function(){return i._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return v.isArray(t)?function(e){return w(e,t)}:S(t)},v.propertyOf=function(t){return null==t?function(){}:function(e){return v.isArray(e)?w(t,e):t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var r=Array(Math.max(0,t));e=g(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=v.invert(H),q=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};v.escape=q(H),v.unescape=q(K),v.result=function(t,e,n){v.isArray(e)||(e=[e]);var r=e.length;if(!r)return v.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=v.isFunction(o)?o.call(t):o}return t};var Y=0;v.uniqueId=function(t){var e=++Y+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+X[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var r,i=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(Q,J),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return r.call(this,t,v)},u=e.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},v.chain=function(t){var e=v(t);return e._chain=!0,e};var $=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){return v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),$(this,n.apply(v,t))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],$(this,n)}}),v.each(["concat","join","slice"],function(t){var e=a[t];v.prototype[t]=function(){return $(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return v}.apply(e,[]))||(n.exports=r)}()}).call(this,n("pCvA"),n("RoC8")(t))},Pt2R:function(t,e,n){"use strict";var r=n("I1bA"),i=n("kSI5"),o=n("si8C"),a=n("7jSL");(t.exports=function(t,e){var n,o,s,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=s=!0,o=!1):(n=a.call(t,"c"),o=a.call(t,"e"),s=a.call(t,"w")),c={value:e,configurable:n,enumerable:o,writable:s},u?r(i(u),c):c}).gs=function(t,e,n){var s,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(s=!0,u=!1):(s=a.call(t,"c"),u=a.call(t,"e")),l={get:e,set:n,configurable:s,enumerable:u},c?r(i(c),l):l}},PyhZ:function(t,e,n){"use strict";var r=n("/ub/");t.exports=function(t){if(!t||t.length%2!=0)throw new TypeError("Invalid clientId value.");var e=t.match(/[0-9a-f]{2}?/g);if(!e||!e.length)throw new TypeError("Invalid clientId value.");var n=String.fromCharCode.apply(null,e.map(function(t){return parseInt(t,16)})),i=r.encode(n);return function(){return{name:"context_client_id",data:{value:i}}}}},Q0s3:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({WINDOW_BEFORE_UNLOAD:"beforeunload",CLIENT_AUTHENTICATED:"authenticated",CLIENT_AUTHENTICATION_ERROR:"authentication_error",CLIENT_BEFORE_DISCONNECT:"before_disconnect",CLIENT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",CLIENT_CONNECTED:"connected",CLIENT_CONNECTION_ERROR:"connection_error",CLIENT_DEVICE_DESCRIPTOR_CHANGED:"descriptor_changed",CLIENT_ERROR:"error",CLIENT_LOGGED_OUT:"logged_out",CLIENT_PRODUCT_STATE_CHANGED:"product_state_changed",CLIENT_RECONNECTED:"reconnected",CLIENT_RECONNECTING:"reconnecting",CLIENT_UNRECOVERABLE_FAILURE:"unrecoverable_failure",CONNECT_API_DEREGISTERED:"deregistered",CONNECT_API_DEVICE_STATE_CHANGED:"device_state_changed",CONNECT_API_DEVICES_CHANGED:"devices_changed",CONNECT_API_MAX_SUBSCRIPTIONS_REACHED:"max_subscriptions_reached",CONNECT_API_PLAYER_STATE_CHANGED:"player_state_changed",CONNECT_API_REGISTERED:"registered",CONTROLLER_DEREGISTERED:"deregistered",CONTROLLER_DEVICES_CHANGED:"devices_changed",CONTROLLER_DEVICE_INFO_CHANGED:"device_info_changed",CONTROLLER_MAX_SUBSCRIPTIONS_REACHED:"max_subscriptions_reached",CONTROLLER_PROGRESS:"progress",CONTROLLER_REGISTERED:"registered",CONTROLLER_STATE_CHANGED:"state_changed",DEVICE_DESCRIPTOR_CHANGED:"descriptor_changed",STREAMER_AUTOPLAY_FAILED:"autoplay_failed",STREAMER_BEFORE_VOLUME_CHANGE:"before_volume_change",STREAMER_BUFFERING_END:"buffering_end",STREAMER_BUFFERING_START:"buffering_start",STREAMER_CONTEXT_ENDED:"context_ended",STREAMER_DEREGISTERED:"deregistered",STREAMER_DEVICE_INFO_CHANGED:"device_info_changed",STREAMER_DURATION_CHANGED:"duration_changed",STREAMER_ERROR:"error",STREAMER_LOAD_VIDEO:"load_video",STREAMER_LOGGED_OUT:"logged_out",STREAMER_MAX_LIST_ERRORS_REACHED:"max_list_errors_reached",STREAMER_MAX_SUBSCRIPTIONS_REACHED:"max_subscriptions_reached",STREAMER_PLAYBACK_CAPPED:"playback_capped",STREAMER_PLAYER_INITIALIZATION_DONE:"player_initialization_done",STREAMER_PLAYER_INITIALIZATION_FAILED:"player_initialization_failed",STREAMER_POSITION_CHANGED:"position_changed",STREAMER_PROGRESS:"progress",STREAMER_REGISTERED:"registered",STREAMER_REGISTRATION_ABORTED:"registration_aborted",STREAMER_REGISTRATION_ERROR:"registration_error",STREAMER_REGISTRATION_UPDATED:"registration_updated",STREAMER_STATE_CHANGED:"state_changed",STREAMER_STOPPED_VIDEO:"stopped_video",STREAMER_TRACK_LOADED:"track_loaded",STREAMER_TRACK_ENDED:"track_ended",STREAMER_VIDEO_ELEMENT_APPENDED:"video_element_appended",STREAMER_VIDEO_ELEMENT_REMOVED:"video_element_removed",PLAYBACK_STATE_OBSERVER_STATE_CHANGED:"state_changed",PRODUCT_STATE_OBSERVER_PRODUCT_STATE_CHANGED:"product_state_changed",TP_API_DEVICE_UPDATED:"device_updated",TP_API_DEREGISTERED:"deregistered",TP_API_ERROR:"error",TP_API_LOGOUT:"logout",TP_API_MAX_SUBSCRIPTIONS_REACHED:"max_subscriptions_reached",TP_API_READY:"ready",TP_API_REGISTERED:"registered",TP_API_REGISTRATION_ABORTED:"registration_aborted",TP_API_REGISTRATION_UPDATED:"registration_updated",TP_API_STATE_CHANGED:"state_changed",TP_API_STATE_CLEARED:"state_cleared"})},QILm:function(t,e,n){var r=n("8OQS");t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},QJbc:function(t,e,n){"use strict";var r=n("NQha"),i=n("IBm/"),o=Math.max;t.exports=function(t,e){var n,a,s,u=o(arguments.length,2);for(t=Object(i(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<u;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}},QO3r:function(t,e,n){"use strict";t.exports=n("ikOk")},QORg:function(t,e,n){"use strict";var r,i,o,a,s=n("Pt2R"),u=n("EMG7"),c=Object.create,l=Object.defineProperties,f=Object.defineProperty,p=Object.prototype,h=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(t){}}var d,_=(d=c(null),function(t){for(var e,n,r=0;d[t+(r||"")];)++r;return d[t+=r||""]=!0,f(p,e="@@"+t,s.gs(null,function(t){n||(n=!0,f(this,e,s(t)),n=!1)})),e});o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(t)},t.exports=i=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?r(e):(n=c(o.prototype),e=void 0===e?"":String(e),l(n,{__description__:s("",e),__name__:s("",_(e))}))},l(i,{for:s(function(t){return h[t]?h[t]:h[t]=i(String(t))}),keyFor:s(function(t){var e;for(e in u(t),h)if(h[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),l(o.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),l(i.prototype,{toString:s(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:s(function(){return u(this)})}),f(i.prototype,i.toPrimitive,s("",function(){var t=u(this);return"symbol"==typeof t?t:t.toString()})),f(i.prototype,i.toStringTag,s("c","Symbol")),f(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},Qatm:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},QjER:function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}n.r(e),e.default=function(t,e){void 0===e&&(e="");var n,o=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&r(t),u=e&&r(e),c=s||u;if(t&&r(t)?a=o:o.length&&(a.pop(),a=a.concat(o)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,p=a.length;p>=0;p--){var h=a[p];"."===h?i(a,p):".."===h?(i(a,p),f++):f&&(i(a,p),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d}},Qmxl:function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},R2L1:function(t,e,n){"use strict";var r=e.glueAquamarine="#9bf0e1",i=e.glueAubergine="#503750",o=e.glueAzure="#509bf5",a=e.glueBole="#c87d55",s=e.glueBrightRed="#e61e32",u=e.glueChocolate="#7d4b32",c=e.glueCitric="#cdf564",l=e.glueElectricSeafoam="#19e68c",f=e.glueFactoryYellow="#fae62d",p=e.glueForest="#006450",h=e.glueFuchsia="#dc148c",d=e.glueGold="#f59b23",_=e.glueKleinBlue="#4100f5",y=e.glueLavender="#b49bc8",v=e.glueMaroon="#8c1932",m=e.glueMidnight="#1e3264",g=e.glueNeonGreen="#5ff550",E=e.glueOrange="#ff6437",b=e.gluePink="#ffcdd2",T=e.gluePowderGreen="#c3f0c8",S=e.glueRoyalBlue="#2d46b9",R=e.glueSalmon="#f573a0",w=e.glueSpearmint="#27856a",O=e.glueStorm="#a0c3d2",A=e.glueSunflower="#ffc864",I=e.glueTan="#c39687",N=e.glueTangerine="#e3230e",C=e.glueViolet="#af2896",P=e.glueSuccess="#1db954",L=e.glueAnnouncement="#2e77d0",k=e.glueInfo="#eeeeee",D=e.glueWarning="#ff5722",x=e.glueFailure="#e22134",M=e.glueGray7="#121212",U=e.glueGray10="#181818",F=e.glueGray15="#282828",j=e.glueGray20="#333333",B=e.glueGray30="#535353",V=e.glueGray50="#7f7f7f",G=e.glueGray70="#b3b3b3",W=e.glueGray80="#cccccc",H=e.glueGray85="#d9d9d9",K=e.glueGray90="#eeeeee",q=e.glueGray95="#f8f8f8",Y=e.glueGray25="#404040",z=e.glueBlack0="rgba(0, 0, 0, 0)",X=e.glueBlack10="rgba(0, 0, 0, 0.1)",Q=e.glueBlack30="rgba(0, 0, 0, 0.3)",J=e.glueBlack50="rgba(0, 0, 0, 0.5)",$=e.glueBlack70="rgba(0, 0, 0, 0.7)",Z=e.glueBlack90="rgba(0, 0, 0, 0.9)",tt=e.glueWhite0="rgba(255, 255, 255, 0)",et=e.glueWhite10="rgba(255, 255, 255, 0.1)",nt=e.glueWhite30="rgba(255, 255, 255, 0.3)",rt=e.glueWhite50="rgba(255, 255, 255, 0.5)",it=e.glueWhite70="rgba(255, 255, 255, 0.7)",ot=e.glueWhite90="rgba(255, 255, 255, 0.9)",at=e.glueBlack20="rgba(0, 0, 0, 0.2)",st=e.glueBlack40="rgba(0, 0, 0, 0.4)",ut=e.glueWhite5="rgba(255, 255, 255, 0.05)",ct=e.glueWhite20="rgba(255, 255, 255, 0.2)",lt=e.glueWhite40="rgba(255, 255, 255, 0.4)",ft=e.glueGreen="#1db954",pt=e.glueGreenLight="#1ed760",ht=e.glueGreenFocus="#1da64d",dt=e.glueGreenDark="#14833b",_t=e.glueBlack="#000000",yt=e.glueWhite="#ffffff",vt=e.glueRed="#cd1a2b",mt=e.glueRedLight="#e22134",gt=e.glueRedDark="#941320",Et=e.glueBlue="#2e77d0",bt=e.glueBlueLight="#4687d6",Tt=e.glueBlueFacebook="#3a5897",St=e.glueBlueDark="#1d4c85",Rt=e.glueOrangeLight="#ff5722",wt=e.glueOpacity0="0",Ot=e.glueOpacity10="0.1",At=e.glueOpacity30="0.3",It=e.glueOpacity50="0.5",Nt=e.glueOpacity70="0.7",Ct=e.glueOpacity90="0.9",Pt=e.glueSpacer4="4px",Lt=e.glueSpacer8="8px",kt=e.glueSpacer12="12px",Dt=e.glueSpacer16="16px",xt=e.glueSpacer20="20px",Mt=e.glueSpacer24="24px",Ut=e.glueSpacer32="32px",Ft=e.glueSpacer40="40px",jt=e.glueSpacer48="48px",Bt=e.glueSpacer56="56px",Vt=e.glueSpacer64="64px",Gt=e.glueSpacer72="72px",Wt=e.glueSpacer80="80px",Ht=e.glueBalladFontSize="14px",Kt=e.glueBalladLineHeight="20px",qt=e.glueBalladTracking="-0.02em",Yt=e.glueBalladWeight="200",zt=e.glueBalladFont="Circular",Xt=e.glueBassFontSize="48px",Qt=e.glueBassFontSizeMedium="72px",Jt=e.glueBassFontSizeLarge="96px",$t=e.glueBassLineHeight="56px",Zt=e.glueBassLineHeightMedium="82px",te=e.glueBassLineHeightLarge="96px",ee=e.glueBassTracking="-0.04em",ne=e.glueBassWeight="600",re=e.glueBassFont="Circular",ie=e.glueForteFontSize="36px",oe=e.glueForteLineHeight="44px",ae=e.glueForteTracking="-0.04em",se=e.glueForteWeight="600",ue=e.glueForteFont="Circular",ce=e.glueBrioFontSize="28px",le=e.glueBrioLineHeight="36px",fe=e.glueBrioTracking="-0.04em",pe=e.glueBrioWeight="600",he=e.glueBrioFont="Circular",de=e.glueMinuetFontSize="11px",_e=e.glueMinuetLineHeight="16px",ye=e.glueMinuetTracking="0.17em",ve=e.glueMinuetWeight="200",me=e.glueMinuetFont="Circular",ge=e.glueMinuetBoldFontSize="11px",Ee=e.glueMinuetBoldLineHeight="16px",be=e.glueMinuetBoldTracking="0.17em",Te=e.glueMinuetBoldWeight="400",Se=e.glueMinuetBoldFont="Circular",Re=e.glueAltoFontSize="18px",we=e.glueAltoLineHeight="24px",Oe=e.glueAltoTracking="-0.04em",Ae=e.glueAltoWeight="600",Ie=e.glueAltoFont="Circular",Ne=e.glueCanonFontSize="16px",Ce=e.glueCanonLineHeight="22px",Pe=e.glueCanonTracking="-0.02em",Le=e.glueCanonWeight="600",ke=e.glueCanonFont="Circular",De=e.glueCelloFontSize="14px",xe=e.glueCelloLineHeight="20px",Me=e.glueCelloTracking="-0.02em",Ue=e.glueCelloWeight="400",Fe=e.glueCelloFont="Circular";e.color={glueAquamarine:r,glueAubergine:i,glueAzure:o,glueBole:a,glueBrightRed:s,glueChocolate:u,glueCitric:c,glueElectricSeafoam:l,glueFactoryYellow:f,glueForest:p,glueFuchsia:h,glueGold:d,glueKleinBlue:_,glueLavender:y,glueMaroon:v,glueMidnight:m,glueNeonGreen:g,glueOrange:E,gluePink:b,gluePowderGreen:T,glueRoyalBlue:S,glueSalmon:R,glueSpearmint:w,glueStorm:O,glueSunflower:A,glueTan:I,glueTangerine:N,glueViolet:C,glueSuccess:P,glueAnnouncement:L,glueInfo:k,glueWarning:D,glueFailure:x,glueGray7:M,glueGray10:U,glueGray15:F,glueGray20:j,glueGray30:B,glueGray50:V,glueGray70:G,glueGray80:W,glueGray85:H,glueGray90:K,glueGray95:q,glueGray25:Y,glueBlack0:z,glueBlack10:X,glueBlack30:Q,glueBlack50:J,glueBlack70:$,glueBlack90:Z,glueWhite0:tt,glueWhite10:et,glueWhite30:nt,glueWhite50:rt,glueWhite70:it,glueWhite90:ot,glueBlack20:at,glueBlack40:st,glueWhite5:ut,glueWhite20:ct,glueWhite40:lt,glueGreen:ft,glueGreenLight:pt,glueGreenFocus:ht,glueGreenDark:dt,glueBlack:_t,glueWhite:yt,glueRed:vt,glueRedLight:mt,glueRedDark:gt,glueBlue:Et,glueBlueLight:bt,glueBlueFacebook:Tt,glueBlueDark:St,glueOrangeLight:Rt},e.opacity={glueOpacity0:wt,glueOpacity10:Ot,glueOpacity30:At,glueOpacity50:It,glueOpacity70:Nt,glueOpacity90:Ct},e.spacer={glueSpacer4:Pt,glueSpacer8:Lt,glueSpacer12:kt,glueSpacer16:Dt,glueSpacer20:xt,glueSpacer24:Mt,glueSpacer32:Ut,glueSpacer40:Ft,glueSpacer48:jt,glueSpacer56:Bt,glueSpacer64:Vt,glueSpacer72:Gt,glueSpacer80:Wt},e.type={glueBalladFontSize:Ht,glueBalladLineHeight:Kt,glueBalladTracking:qt,glueBalladWeight:Yt,glueBalladFont:zt,glueBassFontSize:Xt,glueBassFontSizeMedium:Qt,glueBassFontSizeLarge:Jt,glueBassLineHeight:$t,glueBassLineHeightMedium:Zt,glueBassLineHeightLarge:te,glueBassTracking:ee,glueBassWeight:ne,glueBassFont:re,glueForteFontSize:ie,glueForteLineHeight:oe,glueForteTracking:ae,glueForteWeight:se,glueForteFont:ue,glueBrioFontSize:ce,glueBrioLineHeight:le,glueBrioTracking:fe,glueBrioWeight:pe,glueBrioFont:he,glueMinuetFontSize:de,glueMinuetLineHeight:_e,glueMinuetTracking:ye,glueMinuetWeight:ve,glueMinuetFont:me,glueMinuetBoldFontSize:ge,glueMinuetBoldLineHeight:Ee,glueMinuetBoldTracking:be,glueMinuetBoldWeight:Te,glueMinuetBoldFont:Se,glueAltoFontSize:Re,glueAltoLineHeight:we,glueAltoTracking:Oe,glueAltoWeight:Ae,glueAltoFont:Ie,glueCanonFontSize:Ne,glueCanonLineHeight:Ce,glueCanonTracking:Pe,glueCanonWeight:Le,glueCanonFont:ke,glueCelloFontSize:De,glueCelloLineHeight:xe,glueCelloTracking:Me,glueCelloWeight:Ue,glueCelloFont:Fe}},R3KX:function(t,e,n){"use strict";(function(t){var r=n("63Ad"),i=r(n("SDJZ")),o=r(n("NToG")),a=r(n("nxTg"));Object.defineProperty(e,"__esModule",{value:!0}),e.supportsHighResolutionTime=function(){return t&&"function"==typeof t.hrtime},e.getTime=function(){return e.supportsHighResolutionTime()?t.hrtime():Date.now()},e.getHighResolutionTime=function(e){var n=t.hrtime(e),r=(0,a.default)(n,2),i=1e9*r[0]+r[1];return{nanoseconds:i,milliseconds:i/1e6,seconds:i/1e9}};var s=function(){function t(e){(0,i.default)(this,t),this.startTime=e}return(0,o.default)(t,[{key:"end",value:function(){return e.supportsHighResolutionTime()?e.getHighResolutionTime(this.startTime):e.getTime()-this.startTime}}],[{key:"start",value:function(){return new t(e.getTime())}}]),t}();e.Timer=s}).call(this,n("5IsQ"))},"RB/r":function(t){t.exports=JSON.parse('{"tagged":"1.6.0-pre1-c8acf0c","version":"1.6.0-pre1","revision":"c8acf0c"}')},RBTS:function(t,e,n){"use strict";var r=16,i=Array.prototype.slice;function o(t,e,n){this.tag=t,this.description=e,this._predicate=n,this._tagParts=t.split("."),this._tagText="["+t+"]","true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?this._enabled=!0:this._enabled=!1,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}o.prototype.matchesTag=function(t){var e=Array.isArray(t)?t:t.split("."),n=this._tagParts;if(e.length>n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(("*"!==e[r]||!n[r])&&e[r]!==n[r])return!1;return!0},o.prototype.setLevel=function(t){var e=0;switch(t){case"error":e=r;break;case"warn":e=24;break;case"info":e=28;break;case"debug":e=30;break;case"log":default:e=31}this._level=e},o.prototype.enable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!0)},o.prototype.disable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!1)},o.prototype.log=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||1&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"log",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.debug=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||2&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"debug",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.info=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||4&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"info",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.warn=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||8&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"warn",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.error=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||this._level&r))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"error",tag:this.tag,args:t});if(this._predicate(e))return}},t.exports=o},REJ4:function(t,e,n){"use strict";t.exports={createHash:function(){throw new Error("fingerprinting not supported in the browser")}}},RIcX:function(t,e,n){"use strict";function r(t){var e=typeof t;return"object"===e?t?Object.prototype.toString.call(t).slice(8,-1):null:e}function i(t,e){for(var n=0,i=t.length;n<i;n++)if(r(t[n])!==e)throw new ReferenceError("Wrong subtype in data array.")}t.exports=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))throw new ReferenceError("Bad key, mismatching schema in logging data.");if(!e[n].nullable||t[n]){if(!t[n])throw new ReferenceError("Missing non-nullable value.");var o=r(t[n]),a=e[n].type;if("Array"===o)i(t[n],e[n].inner_type);else if(o!==a)throw new ReferenceError("Type mismatch in logging data.")}}return t}},RIqP:function(t,e,n){var r=n("Ijbi"),i=n("EbDI"),o=n("Bnag");t.exports=function(t){return r(t)||i(t)||o()}},RN9m:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){var t=this;this.handleTimeUpdate=function(e){t.observersForMediaPositions.forEach(function(t){t(e)}),t.observersForPeriodicEvents.forEach(function(t){t(e)})},this.observersForMediaPositions=[],this.observersForPeriodicEvents=[]}return t.prototype.addObserverForMediaPositions=function(t,e){var n=t.slice();this.observersForMediaPositions.push(function(t){var r=t.target.currentTime,i=t.target.duration,o=Math.min(Math.max(r/i,0),1);n=n.filter(function(t){return!(o>=t&&(e(t),1))})})},t.prototype.addObserverForPeriodicEvents=function(t,e){var n=0;this.observersForPeriodicEvents.push(function(r){var i=r.target.currentTime;Math.abs(n-i)>=t&&(e(i),n=Math.floor(i))})},t}();e.default=r},Rblx:function(t,e,n){"use strict";(function(t,r){var i,o=n("XNbM");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n("pCvA"),n("Ono3")(t))},ReJW:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("f/Q/"),s=n("uDox").forTag("playback.acme_player"),u=n("zCec"),c=n("jGCg"),l=n("nfhW"),f=n("gD/h"),p=n("BU6D"),h=n("8Pwi"),d=n("gY3k"),_=n("J+ux"),y=n("qt0y"),v=n("icRp");function m(t){return document.createElement(t)}function g(t){return Math.ceil(1e3*t)}function E(t){return t/1e3}var b=2,T=/^blob:/,S="hidden";function R(t){i.call(this),this.id=t.id,this._createPlayer=t.createPlayer||m,this._videoPlayerContainer=t.videoPlayerContainer||null,this._subtitlesVisible=!1,this._cubicVolume=t.cubicVolume,this._subtitleLanguage="",this._audioResolver=t.audioResolver,this._videoResolver=t.videoResolver,this._licenseURLResolver=t.licenseURLResolver,this._player=null,this._emeManager=t.disallowProtectedTracks?null:t.emeManager,this._tracker=t.tracker,this._activeCodecs="",this._cache=new a(t.trackCacheSize||b),s.info("Setting ACMEPlayer track cache to:",t.trackCacheSize||b),this._synthesizeEnded=t.synthesizeEnded,this._newElementPerTrack=t.newElementPerTrack,this._newBufferPerTrack=t.newBufferPerTrack,this._newMediaKeysPerTrack=t.newMediaKeysPerTrack,this._clearBufferOnSeek=t.clearBufferOnSeek,this._rebufferOnQuotaExceeded=t.rebufferOnQuotaExceeded,this._disableCache=t.disableCache,this._disableBufferAbort=t.disableBufferAbort,this._acmeTrack=null,this._upcomingACMETrack=null,this._lastLoadedTS=0,this._preloadingTracks={},this._playId=0,this._loaded=!1,this._pauseToken=null,this._syntheticEndedToken=null,this._transport=t.transport,this._canPreloadEmitted=!1,this._playerVolume=1,this._fatalOnNextError=!1,this._lastTimeUpdatePostion=0,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onPause=this._onPause.bind(this),this._onSeeking=this._onSeeking.bind(this),this._onEncrypted=this._onEncrypted.bind(this),this._onEnded=this._onEnded.bind(this),this._onError=this._onError.bind(this),this._onRequiresDuration=this._onRequiresDuration.bind(this),this._onQuotaExceeded=this._onQuotaExceeded.bind(this),this._onLoadedMetadata=this._onLoadedMetadata.bind(this),this._onWaiting=this._onWaiting.bind(this),this.proxyEmitSync(this._tracker,h.TRACKER_TRACKING_DATA_CREATED,h.PLAYER_TRACKING_DATA_CREATED),this.proxyEmitSync(this._tracker,h.TRACKER_TRACKING_DATA_FINALIZED,h.PLAYER_TRACKING_DATA_FINALIZED),this.proxyEmitSync(this._tracker,h.TRACKER_PLAYBACK_START,h.PLAYER_PLAYBACK_START),this._tracker.on(h.TRACKER_PLAYED_THRESHOLD_REACHED,this._onPlayedThresholdReached.bind(this)),this._emeManager&&(this._emeManager.on(h.EME_LICENSE_REQUEST_CAPPED,this._onLicenseRequestCapped.bind(this)),this._emeManager.on(h.EME_LICENSE_REQUEST_ERROR,this._onLicenseRequestError.bind(this))),this._init()}r(R,i),R.prototype._onLicenseRequestError=function(t){if(t.playId===this._playId){var e=this._acmeTrack;if(e){var n=t.error;n.shouldRefreshEndpoint&&this._licenseURLResolver.remove(e.getKeySystem(),e.getMediaType()),this._emitError(n,!n.unrecoverable,e.toLogJSON())}}},R.prototype._onLicenseRequestCapped=function(t){t.playId===this._playId&&this._acmeTrack&&(this.pause(),this.emit(h.PLAYER_CAPPED))},R.create=function(t){return t.disableProtection?R.createWithOptions(t):d.create({transport:t.transport,disallowRobustnessValues:t.disallowRobustnessValues,noServerCertificate:t.noServerCertificate,preferredKeySystems:t.preferredKeySystems}).then(function(e){return t.emeManager=e,new R(t)})},R.createWithOptions=function(t){return new o(function(e){e(new R(t))})},R.prototype._init=function(){this._disableCache&&s.info("Cache disabled."),this._transport.on(this._transport.EVENT_CONNECTION_OFFLINE,this._onNavigatorOffline.bind(this)),this._abrManager=new l,this._buffer=_.create(this._tracker,null,{disableBufferAbort:this._disableBufferAbort}),this._buffer.on(h.BUFFER_APPEND_ERROR,this._onBufferError.bind(this)),this._buffer.on(h.BUFFER_QUOTA_EXCEEDED,this._onQuotaExceeded),this.proxyEmit(this._buffer,h.BUFFER_STALLED,h.PLAYER_BUFFER_STALLED),this.proxyEmit(this._buffer,h.BUFFERING_START,h.PLAYER_BUFFERING_START),this.proxyEmit(this._buffer,h.BUFFERING_END,h.PLAYER_BUFFERING_END)},R.prototype._onNavigatorOffline=function(){this._tracker.trackNavigatorOffline()},R.prototype._onBufferError=function(t){this._emitError(t.error,t.canPlayNext,t.track)},R.prototype._addPlayerEvents=function(t){t.addEventListener(h.MEDIA_TIMEUPDATE,this._onTimeUpdate),t.addEventListener(h.MEDIA_PLAYING,this._onPlaying),t.addEventListener(h.MEDIA_PAUSE,this._onPause),t.addEventListener(h.MEDIA_SEEKING,this._onSeeking),t.addEventListener(h.MEDIA_ENCRYPTED,this._onEncrypted),t.addEventListener(h.MEDIA_ENDED,this._onEnded),t.addEventListener(h.MEDIA_ERROR,this._onError),t.addEventListener(h.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),t.addEventListener(h.MEDIA_DURATIONCHANGE,this._onDurationChange),t.addEventListener(h.MEDIA_WAITING,this._onWaiting),t.addEventListener(h.MEDIA_CANPLAY,this._onCanPlay),t.addEventListener(h.MEDIA_CANPLAYTHROUGH,this._onCanPlayThrough),t.addEventListener(h.INTERNAL_MEDIA_REQUIRES_DURATION,this._onRequiresDuration)},R.prototype._removePlayerEvents=function(t){t.removeEventListener(h.MEDIA_TIMEUPDATE,this._onTimeUpdate),t.removeEventListener(h.MEDIA_PLAYING,this._onPlaying),t.removeEventListener(h.MEDIA_PAUSE,this._onPause),t.removeEventListener(h.MEDIA_SEEKING,this._onSeeking),t.removeEventListener(h.MEDIA_ENCRYPTED,this._onEncrypted),t.removeEventListener(h.MEDIA_ENDED,this._onEnded),t.removeEventListener(h.MEDIA_ERROR,this._onError),t.removeEventListener(h.MEDIA_WAITING,this._onWaiting),t.removeEventListener(h.MEDIA_CANPLAY,this._onCanPlay),t.removeEventListener(h.MEDIA_CANPLAYTHROUGH,this._onCanPlayThrough),t.removeEventListener(h.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),t.removeEventListener(h.MEDIA_DURATIONCHANGE,this._onDurationChange),t.removeEventListener(h.INTERNAL_MEDIA_REQUIRES_DURATION,this._onRequiresDuration)},R.prototype._recreateMediaElement=function(t,e,n,r){if(n!==this._playId)return s.info("Recreate player dropped: playId has changed."),o.resolve(!1);var i=this._activeCodecs===e.join(""),a=this._player;if(a){if(!this._newElementPerTrack){for(var u=!0,c=0,l=e.length;c<l;c++)if("probably"!==a.canPlayType(e[c])){u=!1;break}if(i&&u&&a.withProtection)return s.info("Reusing old audio player with default protection."),this._newBufferPerTrack&&(s.info("Recreating buffer."),this._buffer.recreate(e)),o.resolve(!0);if(i&&a.withProtection===t)return s.info("Reusing old audio player with variable protection."),this._newBufferPerTrack&&(s.info("Recreating buffer."),this._buffer.recreate(e)),o.resolve(!0)}this._removePlayerEvents(a),a.pause(),this._emeManager&&this._emeManager.removeMediaKeys(a).catch(function(t){s.warn("Failed to remove media keys.",t)}),this._player=null}s.info("Creating new media element.");var f=this._createPlayer(r),p=this._playerVolume;return f.autoplay=!1,f.loop=!1,f.volume=this._cubicVolume?p*p*p:p,f.withProtection=t,this._player=f,this._addPlayerEvents(f),this._buffer.recreate(e),this._activeCodecs=e.join(""),o.resolve(!0)},R.prototype._getVideoContainer=function(){return"string"==typeof this._videoPlayerContainer?document.querySelector(this._videoPlayerContainer):this._videoPlayerContainer||null},R.prototype.getVideoProfiles=function(){if(!this._acmeTrack||"video"!==this._acmeTrack.getMediaType())return[];for(var t=[],e=this._acmeTrack.getVideoProfiles(),n=0,r=e.length;n<r;n++){var i=e[n];t.push({width:i.video_width,height:i.video_height,bitrate:i.video_bitrate})}return t},R.prototype.setPreferredBitrate=function(t){return"number"!=typeof t?o.resolve(u.INVALID):(this._acmeTrack&&"video"===this._acmeTrack.getMediaType()&&t>0&&this._buffer.abort(!0),this._abrManager.overrideBitrate(t),o.resolve(u.SUCCESS))},R.prototype._createAudioTrack=function(t,e){var n={manifestLatency:0,resolveLatency:0};return(this._emeManager?this._emeManager.getKeySystemInfo():o.resolve({keySystem:"com.spotify.invalid"})).then(function(r){return f.create({abrManager:this._abrManager,keySystem:r.keySystem,licenseEndpoint:e.licenseEndpoint,transport:this._transport,resolver:this._audioResolver,uri:t,fileId:e.fileId,format:e.format,isAd:e.isAd,resolvedURL:e.resolvedURL,noManifest:e.noManifest,preloadedManifest:e.preloadedManifest,logData:e.logData,disableCache:this._disableCache,emitWarning:this._emitWarning.bind(this)}).load(n)}.bind(this)).then(function(t){var r=this._tracker;return r.setResolveLatency(n.resolveLatency),r.setManifestLatency(n.manifestLatency),t.isProtected()&&e.fileId&&!this._disableCache&&this._cache.set(e.fileId,t),t}.bind(this))},R.prototype._createVideoTrack=function(t){var e={manifestLatency:0,resolveLatency:0},n=t.fileId;return this._emeManager.getKeySystemInfo().then(function(r){var i=r.audioFormats[0],o=r.videoFormats[0];return p.create({abrManager:this._abrManager,resolver:this._videoResolver,keySystem:r.keySystem,licenseEndpoint:t.licenseEndpoint,fileId:n,isAd:t.isAd,transport:this._transport,videoCodec:o.codec,videoMimeType:o.mimeType,audioCodec:i.codec,audioMimeType:i.mimeType,disableCache:this._disableCache}).load(e)}.bind(this)).then(function(t){var r=this._tracker;return r.setResolveLatency(e.resolveLatency),r.setManifestLatency(e.manifestLatency),t.isProtected()&&n&&!this._disableCache&&this._cache.set(n,t),t}.bind(this))},R.prototype._onDurationChange=function(){var t=this._playId,e=function(){if(t===this._playId){var e=g(this._player.duration);this._tracker.setActualDuration(e),this.emit(h.PLAYER_DURATION_CHANGED,{timestamp:Date.now(),position:g(this._player.currentTime),duration:e})}else s.info("Duration changed drop: playId has changed.")}.bind(this);this._loaded?e():this.once(h.PLAYER_LOAD,e)},R.prototype._onPlaying=function(){var t=this._acmeTrack,e=g(this._player.currentTime);this._tracker.trackPlaying(e),this.emit(h.PLAYER_PLAYING,{timestamp:Date.now(),position:e,logData:t?t.getLogData():null})},R.prototype._onPause=function(){var t=g(this._player.currentTime);this._tracker.trackPaused(t);var e=this._acmeTrack?this._acmeTrack.getLogData():null;this._pauseToken=setTimeout(function(){clearTimeout(this._syntheticEndedToken),this.emit(h.PLAYER_PAUSED,{position:t,logData:e})}.bind(this),10)},R.prototype._onSeeking=function(){this._buffer.abort(this._clearBufferOnSeek),this._onTimeUpdate()},R.prototype._onRequiresDuration=function(){this._acmeTrack&&this._acmeTrack.isProtected()&&(this._player.duration=this._acmeTrack.getCalculatedDuration())},R.prototype._onQuotaExceeded=function(){if(this._rebufferOnQuotaExceeded)s.info("Exceeded quota: rebuffering current track."),this._buffer.abort(!0),this._player.currentTime=this._player.currentTime,this._onTimeUpdate();else{s.info("Exceeded quota: moving to next track."),this._player.pause(),this._buffer.abort();var t=new v(y.PLAYER_BUFFER_QUOTA_EXCEEDED,"Buffer quota exceeded.");this._emitError(t,!0,this._acmeTrack?this._acmeTrack.toLogJSON():{})}},R.prototype._onEncrypted=function(){s.info("Got Encrypted event")},R.prototype._onEnded=function(){this._synthesizeEnded&&this._acmeTrack.isProtected()||(s.info("Native ended emitted."),this._emitEnded())},R.prototype._onSyntheticEnded=function(){this._synthesizeEnded&&this._acmeTrack&&this._acmeTrack.isProtected()&&(s.info("Synthetic ended emitted."),this._emitEnded())},R.prototype._onError=function(){var t,n,r,i=this._player,o=i.error,a={},s=!1,u=this._acmeTrack,c=!1;u&&(s=u.isProtected(),a=u.toLogJSON(),c=u.isAd(),u.clearCachedBuffers());var l=!0,f=!u||c||!this._fatalOnNextError,p=o&&o.msExtendedCode?"0x"+(o.msExtendedCode>>>0).toString(16).toUpperCase():null;if(o instanceof e.MediaError){var h=e.MediaError;switch(o.code){case h.MEDIA_ERR_ABORTED:t=y.MEDIA_ABORTED,n="Media aborted.";break;case h.MEDIA_ERR_NETWORK:t=y.MEDIA_NETWORK_ERROR,n="Network error.";break;case h.MEDIA_ERR_DECODE:t=y.MEDIA_DECODING_ERROR,n="Media decoding error.",l=f;break;case h.MEDIA_ERR_SRC_NOT_SUPPORTED:t=y.MEDIA_NOT_SUPPORTED,n="Media not supported.",l=f;break;default:t=y.PLAYER_MEDIA_ERROR,n="Media error.",r=!0}n+=" ("+(o.message||p||o.toString())+")"}else t=y.PLAYER_PLAYBACK_ERROR,n=o?o.message||o.toString():"Error message undefined",r=!0;this._buffer.abort(!0);var d=new v(t,n);l||d.fatal(),d.listPlayerIgnore=c,d.debug.src_url=i.src,d.debug.protected=s,d.debug.extendedCode=p,d.debug.rawExCode=o&&o.msExtendedCode||null,r&&o&&(d.debug.nativeCode=o.code||null,d.debug.errorData=o),this._emitError(d,l,a)},R.prototype._onLoadedMetadata=function(){this.emitSync(h.INTERNAL_PLAYER_LOADED_METADATA)},R.prototype._onCanPlay=function(){this.emitSync(h.INTERNAL_PLAYER_CANPLAY),this.emit(h.PLAYER_FIRST_BYTES)},R.prototype._onCanPlayThrough=function(){this.emitSync(h.INTERNAL_PLAYER_CANPLAYTHROUGH)},R.prototype._onWaiting=function(){clearTimeout(this._syntheticEndedToken),this._player.seeking||this._getBufferingLatency().then(function(t){this._tracker.trackMsStalled(t)}.bind(this))},R.prototype._onPlayedThresholdReached=function(t){this._acmeTrack&&this.emit(h.PLAYER_PLAYED_THRESHOLD_REACHED,{played:t.played,threshold:t.threshold,position:g(this._player.currentTime)})},R.prototype._emitEnded=function(){"video"===this._acmeTrack.getMediaType()&&this.emit(h.PLAYER_ENDED_VIDEO),clearTimeout(this._pauseToken),this.emit(h.PLAYER_ENDED)},R.prototype._emitError=function(t,e,n){s.error("Player Error",t,n,e),this._tracker.setHadError(!0),!this._disableCache&&n&&n.fileId&&this._cache.remove(n.fileId),this.emit(h.PLAYER_ERROR,{playId:this._playId,error:t,track:n,canPlayNext:e,position:this._player?g(this._player.currentTime):0})},R.prototype._emitWarning=function(t,e){s.error("Player Warning",t,e,!0),this._tracker.trackWarning(),this.emit(h.PLAYER_WARNING,{playId:this._playId,error:t,track:e,canPlayNext:!0,position:g(this._player.currentTime)})},R.prototype._prepareMediaElement=function(t,e){return e===this._playId&&this._upcomingACMETrack?this._recreateMediaElement(this._upcomingACMETrack.isProtected(),this._upcomingACMETrack.getPlayableCodecs(),e,this._upcomingACMETrack.getMediaType()).then(function(t){if(!t||e!==this._playId)return s.info("Load ACMETrack dropped after recreate: playId has changed."),o.resolve(!1);var n=this._player;return n.withProtection&&this._emeManager&&(!n.mediaKeys||n.mediaKeys.shouldRefreshPerTrack||this._newMediaKeysPerTrack)?this._emeManager.createMediaKeys(n).then(function(){return!0}).catch(function(t){return t.fatal?t.fatal():t.unrecoverable=!0,this._emitError(t,!1,this._upcomingACMETrack.toLogJSON()),o.reject(t)}.bind(this)):o.resolve(!0)}.bind(this)):(s.info("Load ACMETrack dropped: playId has changed."),o.resolve(!1))},R.prototype._handleLoadingComplete=function(t){var e=this._acmeTrack.getMediaType(),n=this._getVideoContainer();return"video"===e&&n&&this._player.parentNode!==n&&(n.appendChild(this._player),this.emit(h.PLAYER_VIDEO_ELEMENT_APPENDED)),this._upcomingACMETrack=null,t},R.prototype._handleLoadingError=function(t,e,n,r){if(this._upcomingACMETrack=null,n!==this._playId)return o.resolve(!1);if(this._tracker.trackLoadFailed(),this.emit(h.PLAYER_LOADING_FAILED,{uri:t,logData:e.logData}),r){var i=r.track||{uri:t,fileId:e.fileId,format:e.format,deviceId:e.logData.deviceId};this._emitError(r,!(r instanceof c)||r.canPlayNext,i)}return o.reject(r)},R.prototype._handleLoadedMetadata=function(t,e,n){if(t===this._playId){this._loaded=!0;var r=this._player;this._buffer.dequeueUpdates();var i=n.position||0;if(i>r.duration&&(i=0),this._lastTimeUpdatePostion=0,r.currentTime=i,this._tracker.trackLoadDone(g(r.currentTime)),setTimeout(this._onTimeUpdate.bind(this),10),this.emitSync(h.PLAYER_LOAD,{autoplay:n.autoplay,position:i,logData:e}),n.autoplay&&!r.error){var a=function(){this._playId===t?new o(function(t){t(this._player.play())}.bind(this)).catch(function(t){if(t){if("NotSupportedError"===t.name)return o.reject(t);if("NotAllowedError"===t.name)return this.emit(h.PLAYER_AUTOPLAY_FAILED),o.reject(t)}return this._player.play()}.bind(this)).catch(function(){this._onPause()}.bind(this)):s.info("Play trigger dropped; different playId")}.bind(this);r.readyState>2?(s.info("Ready to play, triggering play."),a()):(s.info("Waiting to be playable."),this.once(h.INTERNAL_PLAYER_CANPLAY,a))}}else s.info("LoadedMetadata operations dropped: playId has changed.")},R.prototype._handleCanPlayThrough=function(t){t===this._playId?this._tracker.trackCanPlayThrough():s.info("CanPlayThrough operations dropped: playId has changed.")},R.prototype._loadACMETrack=function(t,e){if(e!==this._playId||!this._upcomingACMETrack)return s.info("Load ACMETrack dropped: playId has changed."),o.resolve(!1);this._canPreloadEmitted=!1;var n=this._upcomingACMETrack;this._upcomingACMETrack=null,this._acmeTrack=n;var r=t.callback;this.once(h.PLAYER_LOAD,function(){e===this._playId?r():s.info("Load ACMETrack event dropped: playId has changed.")}.bind(this)),this.once(h.INTERNAL_PLAYER_LOADED_METADATA,this._handleLoadedMetadata.bind(this,e,this._acmeTrack.getLogData(),t)),this.once(h.INTERNAL_PLAYER_CANPLAYTHROUGH,this._handleCanPlayThrough.bind(this,e));var i=n.isProtected();return this._tracker.setProtected(i),n instanceof p?this._loadVideoTrack(t,e):i?this._loadProtectedTrack(t,e):this._loadUnprotectedTrack()},R.prototype._getBufferingLatency=function(){return new o(function(t){var e=Date.now();this._player.addEventListener("canplaythrough",function n(){this.removeEventListener("canplaythrough",n),t(Date.now()-e)})}.bind(this))},R.prototype._loadVideoTrack=function(t,n){var r=this._acmeTrack;s.info("_loadVideoTrack"),this._buffer.once(h.BUFFER_SOURCE_OPEN,function(t){this._acmeTrack.isProtected()&&this._requestLicense(t)}.bind(this,n)),this._player.src=e.URL.createObjectURL(this._buffer.getMediaSource());var i=r.getVideoProfile(),a=r.getAudioProfile();this._tracker.trackVideoLoadStart({bitrate:i.video_bitrate,audioProfile:a,videoProfile:i}),this._tracker.trackBufferLoadStart();var u=r.getInitFragment();return this._buffer.appendFragment(r,u).then(this._buffer.setDuration.bind(this._buffer,r.getCalculatedDuration())).then(function(){return this._subtitleLanguage&&this.setSubtitleLanguage(this._subtitleLanguage),o.resolve(!0)}.bind(this)).then(this._onAppendedHeadSegment(n))},R.prototype._loadUnprotectedTrack=function(){s.info("_loadUnprotectedTrack",this._acmeTrack.getURI()),this._tracker.trackBufferLoadStart();var t=this._acmeTrack.getResolvedURL();return this._tracker.trackBufferURL(t,{bandwidth:0}),this._player.src=t,!0},R.prototype._onAppendedHeadSegment=function(t){return function(){return t===this._playId&&(this._player.spload&&this._player.spload(),s.info("Head segment appended."),!0)}.bind(this)},R.prototype._loadProtectedTrack=function(t,n){var r=this._acmeTrack;s.info("_loadProtectedTrack",r.getURI()),this._buffer.once(h.BUFFER_SOURCE_OPEN,this._requestLicense.bind(this,n)),this._player.src=e.URL.createObjectURL(this._buffer.getMediaSource()),this._tracker.trackBufferLoadStart();var i=null,a=r.getFragmentForTime(t.position||0);return a===r.getFirstFragment()?(s.info("Appending combined init and playable fragment."),i=this._buffer.appendFragment(r,r.getHeadFragment())):(s.info("Appending split init and playable fragment."),i=o.all([this._buffer.appendFragment(r,r.getInitFragment()),a?r.getBufferForFragment(a):o.resolve(!1)])),i.then(this._onAppendedHeadSegment(n)).then(function(){return o.resolve(n===this._playId)}.bind(this))},R.prototype._requestLicense=function(t){if(t!==this._playId)return s.info("Request license dropped: playId has changed."),o.resolve(!1);var e=Date.now(),n=this._player.mediaKeys,r=this._acmeTrack,i=r.getFileId(),a=r.getLogData(),u=r.toLogJSON(),c=r.getKeySystem(),l=this._emeManager,f=this._tracker;return f.setKeySystem(c),f.setKeySystemImpl(l.getKeySystemImpl()),o.all([r.getLicenseEndpoint()||this._licenseURLResolver.get(c,r.getMediaType()),r.getInitParams()]).spread(function(r,o){return f.setLicenseSessionLatency(Date.now()-e),o.licenseServer=r.replace(/\{contentId\}/,i),o.playId=t,o.mediaKeys=n,l.createSessionWithParams(o)}).then(function(n){if(t!==this._playId)return s.info("License tracking dropped: playId has changed."),o.resolve(!1);n&&n.elapsed&&(f.setLicenseGenerationLatency(n.elapsed.generate),f.setLicenseRequestLatency(n.elapsed.request),f.setLicenseUpdateLatency(n.elapsed.update));var r=Date.now()-e;return f.setKeyLatency(r),this.emit(h.PLAYER_KEY_RECEIVED,{requestTime:r,logData:a}),s.info("License updated."),o.resolve(!0)}.bind(this)).catch(function(e){if(!e||t!==this._playId)return o.resolve(!1);var n=!(e&&"canPlayNext"in e)||e.canPlayNext;return this._emitError(e,n,u),o.reject(e)}.bind(this))},R.prototype._onTimeUpdate=function(){if(this._loaded){var t=0,e=this._player.seeking,n=this._player.currentTime,r="video"===this._acmeTrack.getMediaType();if(r&&(t=this._acmeTrack.getBitrateForTime(this._player.currentTime)),e||!this._lastTimeUpdatePostion||this._lastTimeUpdatePostion!==n){this._lastTimeUpdatePostion=e?0:n,(r||this._acmeTrack.isProtected())&&this._buffer.progress(this._acmeTrack,e,n,r);var i=g(n),o=this._acmeTrack?this._acmeTrack.getLogData():null;e?(this._tracker.trackPositionChanged(i,this._player.paused),this.emit(h.PLAYER_POSITION_CHANGED,{position:i,logData:o})):(this._tracker.trackProgress(i,t),this.emit(h.PLAYER_PROGRESS,{timestamp:Date.now(),position:i,played:this._tracker.getMSPlayed(),interval:500,logData:o})),!this._canPreloadEmitted&&this._player.duration-n<=10?(this._canPreloadEmitted=!0,this.emit(h.PLAYER_CAN_PRELOAD)):this._canPreloadEmitted=!1,clearTimeout(this._syntheticEndedToken),this._synthesizeEnded&&this._acmeTrack.isProtected()&&this._isPlaying()&&(this._syntheticEndedToken=setTimeout(this._onSyntheticEnded.bind(this),g(this._player.duration-n)))}else s.warn("Dropping duplicate time update.")}},R.prototype._isPlaying=function(){return!!this._player&&!this._player.paused},R.prototype._shouldNextErrorBeFatal=function(){var t=this._acmeTrack;if(!t||t.isAd()||!t.isProtected())return!1;var n=this._player.error,r=e.MediaError;if(!(n&&n instanceof r))return this._fatalOnNextError=!1,!1;switch(n.code){case r.MEDIA_ERR_SRC_NOT_SUPPORTED:case r.MEDIA_ERR_DECODE:return!0;default:return!1}},R.prototype.getId=function(){return this.id},R.prototype.getCodecInfo=function(){return{audiocodec:"mp3",bitrate:160}},R.prototype.getMediaSource=function(){return this._buffer.getMediaSource()},R.prototype.load=function(t,e,n){var r=e||{},i=t[r.uriProperty||"uri"];if(s.info("load",i),!i)return o.reject(new v(y.PLAYER_CANNOT_FIND_PLAYABLE_URI,"Cannot find a playable URI."));if(!t.logData)return o.reject(Error("Invalid track: logging info not specified"));this.stop(t.logData,t.mediaType),this._loaded=!1,this._acmeTrack=null;var a=++this._playId,u=this._tracker;u.trackLoadStart(i,t.fileId,a.toString(),t.logData),this.emit(h.PLAYER_BEFORE_LOAD,{track:t,options:e,logData:t.logData,uri:i,timestamp:Date.now()}),this._buffer.setPlayId(a);var c,l={position:E(r.position||0),autoplay:!("autoplay"in r)||r.autoplay,callback:n||function(){}};u.setPlayIntended(l.autoplay),u.setPlayedThreshold(r.playedThreshold);var f=this._cache;if("video"===t.mediaType&&!this._emeManager)return o.reject(new v(y.DISALLOW_PROTECTED_TRACK_ERROR,"Protected tracks not supported"));var p="video"===t.mediaType?this._createVideoTrack.bind(this,t):this._createAudioTrack.bind(this,i,t,a),d=this._preloadingTracks[t.fileId],_=this._disableCache?null:f.get(t.fileId);return d?(s.info("Waiting for preloading track.",t.fileId),c=d.then(function(e){return s.info("Preloading succeeded.",t.fileId),u.setResolveLatency(e.resolveLatency),u.setManifestLatency(e.manifestLatency),f.get(t.fileId)},function(){return s.info("Preloading failed, creating new track",t.fileId),p()})):_?(s.info("Using cached track.",t.fileId,_),u.setMemoryCached(!0),c=o.resolve(_)):(s.info("Creating new track",t.fileId),c=p()),c.then(function(e){return e.isProtected()&&!this._emeManager?o.reject(new v(y.DISALLOW_PROTECTED_TRACK_ERROR,"Protected tracks not supported")):(e.setLogData(t.logData),u.setCalculatedDuration(g(e.getCalculatedDuration())),this._upcomingACMETrack=e,o.resolve())}.bind(this)).then(this._prepareMediaElement.bind(this,l,a)).then(this._loadACMETrack.bind(this,l,a)).then(this._handleLoadingComplete.bind(this),this._handleLoadingError.bind(this,i,t,a))},R.prototype.preload=function(t){var e=t.playableURI,n=t.fileId,r=this._cache;if(!n)return o.resolve(!1);if(!this._emeManager)return o.resolve(!1);var i=!this._disableCache,a="video"===t.mediaType,u="MP4"===t.format||"MP4_DUAL"===t.format;if(!i||!u||a||i&&r.get(n))return o.resolve(!1);var c=this._preloadingTracks;if(c[n])return c[n];s.info("Preloading track",n);var l={manifestLatency:0,resolveLatency:0},p=this._emeManager.getKeySystemInfo().then(function(r){return f.create({abrManager:this._abrManager,keySystem:r.keySystem,licenseEndpoint:t.licenseEndpoint,transport:this._transport,resolver:this._audioResolver,uri:e,fileId:n,format:t.format,isAd:t.isAd,resolvedURL:t.resolvedURL,noManifest:t.noManifest,preloadedManifest:t.preloadedManifest,logData:t.logData,disableCache:this._disableCache,emitWarning:this._emitWarning.bind(this)}).load(l)}.bind(this)).then(function(t){return o.all([t,t.getBufferForFragment(t.getHeadFragment())])}).spread(function(t){return r.set(n,t),c[n]=null,s.info("Cached",n),l}).catch(function(t){return c[n]=null,this.emit(h.PLAYER_PRELOADING_ERROR,{error:t,track:t.track||null,canPlayNext:!("canPlayNext"in t)||t.canPlayNext,preloading:!0}),o.reject(t)}.bind(this));return c[n]=p,p},R.prototype.togglePlay=function(){this._isPlaying()?this.pause():this.resume()},R.prototype.setSubtitleLanguage=function(t){if(this._subtitleLanguage=t,"video"===this._acmeTrack.getMediaType())if(this._acmeTrack.getSubtitleLanguages().indexOf(t)<0)s.warn("No available subtitle for language: ",t);else{var e=document.createElement("track");e.label=t+" subtitles",e.kind="subtitles",e.srclang=t,e.src=this._acmeTrack.getSubtitleForLanguage(t),this._player.appendChild(e),this._subtitlesVisible&&this.showSubtitles()}},R.prototype.getSubtitleLanguages=function(){return"video"===this._acmeTrack.getMediaType()?this._acmeTrack.getSubtitleLanguages():[]},R.prototype.setVolume=function(t){if(!this.emitSync(h.PLAYER_BEFORE_VOLUME_CHANGE,{volume:t}).defaultPrevented){if(t<0||t>1)throw new v(y.PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE,"Volume should be in range [0, 1]");this._playerVolume=t,this._player&&(this._player.volume=this._cubicVolume?t*t*t:t)}},R.prototype.getVolume=function(){return this._playerVolume},R.prototype.getPlayerState=function(){var t=this._player;return{playing:this._isPlaying(),position:t?g(t.currentTime):0,duration:t?g(t.duration):0,volume:t?this._playerVolume:1}},R.prototype.seek=function(t){if(this._player){var e=this._playId,n=function(){if(e===this._playId){var n=E(t);n<0?n=0:n>=this._player.duration&&(n=this._player.duration),this._player.currentTime=n}else s.info("Seek dropped: playId has changed.")}.bind(this);this._loaded?n():this.once(h.PLAYER_LOAD,n),this._getBufferingLatency().then(function(t){this._tracker.trackSeekRebuffering(t)}.bind(this))}},R.prototype.pause=function(){this._player&&this._isPlaying()&&new o(function(t){t(this._player.pause())}.bind(this)).catch(function(){})},R.prototype.resume=function(){this._player&&!this._isPlaying()&&new o(function(t){t(this._player.play())}.bind(this)).catch(function(){})},R.prototype.stop=function(t,n){var r=[],i=t||{};if(this.emit(h.PLAYER_BEFORE_STOP,{timestamp:Date.now(),logData:i}),this._tracker.trackStopped(t),this._buffer.abort(!0),this._emeManager&&r.push(this._emeManager.destroySessions()),this._player){this._fatalOnNextError=this._shouldNextErrorBeFatal(),this._fatalOnNextError&&s.warn("MediaError detected: next immediate media error will be fatal.");var a=this._player.src;T.test(a)&&e.URL.revokeObjectURL(a),this._player.removeAttribute("src"),this._player.load()}if(this._acmeTrack&&this._disableCache&&this._acmeTrack.clearCachedBuffers(),this._acmeTrack&&"video"===this._acmeTrack.getMediaType()){for(var u=this._player.children,c=0,l=u.length;c<l;c++)this._player.removeChild(u[c]);var f=this._getVideoContainer();f&&this._player.parentNode===f&&(this._newElementPerTrack||"video"!==n)&&(f.removeChild(this._player),this.emit(h.PLAYER_VIDEO_ELEMENT_REMOVED))}return this.emit(h.PLAYER_STOPPED),o.all(r).then(function(){return!0})},R.prototype.hideSubtitles=function(){for(var t=this._player.textTracks,e=0,n=t.length;e<n;e++)t[e].mode=S;this._subtitlesVisible=!1},R.prototype.showSubtitles=function(){for(var t=this._player.textTracks,e=0,n=t.length;e<n;e++){var r=t[e];r.language===this._subtitleLanguage?r.mode="showing":r.mode=S}this._subtitlesVisible=!0},R.prototype.getKeySystemInfo=function(){return this._emeManager?this._emeManager.getKeySystemInfo():o.resolve(null)},t.exports=R}).call(this,n("pCvA"))},RiSW:function(t,e,n){var r=n("PE9J");t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},RoC8:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Rzld:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"S+Ue":function(t,e,n){"use strict";var r=n("vdEC"),i=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=i(n("e+GP")),s=r(n("tE6N")),u=n("hBZP"),c=n("DNnd"),l=r(n("OwjE")),f=n("czHv"),p=n("J9Vn"),h=n("TTuV"),d=n("cifS"),_=n("FWK2"),y=n("MN4F"),v=n("fFKA"),m=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(){return(g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},E=function(t){function e(n){var r=n.clientId,i=n.getToken,o=n.transport,a=n.eventSender,u=n.properties,p=n.storage,_=void 0===p?(0,y.getLocalStorage)():p,m=n.timeout,g=void 0===m?300:m,E=n.installationId,b=void 0===E?(0,h.defaultInstallationId)(_||void 0):E,T=n.backgroundFetchInterval,S=void 0===T?_&&c.DEFAULT_BACKGROUND_FETCH_INTERVAL||void 0:T,R=t.call(this)||this;if(R.context=null,R.configuration=null,R.activeProperties=null,R.brokenState=null,R.clientId=r,R.properties=new s.default(u),R.propertySetKey=R.properties.getPropertySetKey(r),R.defaultProperties=(0,d.propertyMapFromDefaults)(R.properties.properties),R.installationId=b,R.timeout=g,R.rcsClient=new l.default({clientId:r,installationId:b,getToken:i,transport:o,eventSender:a}),(0,h.isValidInstallationId)(b)||(R.brokenState="Missing valid installationId"),_){var w=new f.SingleItemCache(_,"rcs:"+R.clientId);R.setupCacheStrategy(w)}if(S){if(S<c.MIN_BACKGROUND_FETCH_INTERVAL)throw new Error("backgroundFetchInterval must be at least "+v.TimeUnit.stringify(c.MIN_BACKGROUND_FETCH_INTERVAL));_||e.logDeveloperWarning("You have disabled storage but configured backgroundFetch. And explain how this doesn't make sense..."),R.setupBackgroundFetchStrategy(S)}return R.on("refresh",function(t){(t&&t.userKey)!==(R.context&&R.context.userKey)&&R.rcsClient.refresh()}),R}return m(e,t),e.logDeveloperWarning=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.swallowException=function(t){e.logDeveloperWarning("Caught exception that would have been swallowed in production:",t)},e.prototype.refresh=function(t){if(void 0===t&&(t=null),"object"!==(0,a.default)(t))throw new TypeError("context must be of type object or null");null!==t&&(0,s.hashJsonValue)(this.context)===(0,s.hashJsonValue)(t)||this.updateContext(t)},e.prototype.fetchConfig=function(){return e.logDeveloperWarning('"fetchConfig" method in Resolver has been renamed to "fetch" and soon will be removed.'),this.fetch()},e.prototype.fetch=function(t){var n=this,r=void 0===t?{}:t,i=r.timeout,o=void 0===i?this.timeout:i,a=r.fetchType;if(this.brokenState)return e.logDeveloperWarning("Will not fetch due to "+this.brokenState),Promise.resolve(!1);var u=this.propertySetKey,c=(0,s.hashJsonValue)(this.context);return this.rcsClient.resolveConfig({timeout:o,propertySetKey:u,fetchType:a}).then(function(t){return(0,s.hashJsonValue)(n.context)===c&&(n.updateConfiguration(t),!0)}).catch(function(t){return e.logDeveloperWarning("Remote Config Resolver: Fetch failed.",t),!1})},e.prototype.activateFetched=function(){e.logDeveloperWarning('"activateFetched" method in Resolver has been renamed to "activate" and soon will be removed.'),this.activate()},e.prototype.activate=function(){this.updateActive(this.configuration)},e.prototype.load=function(t){return e.logDeveloperWarning('"load" method in Resolver has been renamed to "resolve" and soon will be removed.'),this.resolve(t)},e.prototype.resolve=function(t){if(void 0===t&&(t={}),"object"!==(0,a.default)(t))throw new TypeError("context must be of type object or null");return this.guardedLoad(t)},e.prototype.getBool=function(t){return this.get("bool",t)},e.prototype.getInt=function(t){return this.get("int",t)},e.prototype.getEnum=function(t){return this.get("enum",t)},e.prototype.getPropertiesAsObject=function(){if(!this.activeProperties)throw new Error("Active properties are not yet available. Did you call resolver.load() and wait for it to complete?");return(0,d.propertyMapToValueObject)(this.activeProperties)},Object.defineProperty(e.prototype,"isActive",{get:function(){return null!==this.activeProperties},enumerable:!0,configurable:!0}),e.prototype.setupCacheStrategy=function(t){var n=this;this.on(e.Event.FETCH,function(){if(n.context&&n.configuration)try{t.set((0,s.hashJsonValue)(n.context),n.configuration)}catch(t){e.swallowException(t)}}),this.on(e.Event.REFRESH,function(){try{n.configuration=t.get((0,s.hashJsonValue)(n.context))||null}catch(t){e.swallowException(t)}})},e.prototype.setupBackgroundFetchStrategy=function(t){var n=this,r=new _.ScheduledTask(function(t){n.fetch({timeout:!1,fetchType:t})}),i=!1,o=!1;this.on(e.Event.REFRESH,function(){r.cancel(),o=!1,i=!1}),this.on(e.Event.ACTIVATE,function(){o||(o=!0,r.reschedule(i?(0,y.resolveTimeout)(t).then(function(){return l.FetchType.BACKGROUND_SYNC}):(0,y.resolveOnLoad)().then(function(){return l.FetchType.DELAYED})))}),this.on(e.Event.FETCH,function(){i=!0,o&&r.reschedule((0,y.resolveTimeout)(t).then(function(){return l.FetchType.BACKGROUND_SYNC}))})},e.prototype.guardedLoad=function(t){return function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return e=!t||null===t.userKey,this.refresh(t),this.configuration||e?[3,2]:[4,this.fetch({fetchType:l.FetchType.BLOCKING})];case 1:n.sent(),n.label=2;case 2:return this.activeProperties&&!e||this.activate(),[2]}})})},e.prototype.updateContext=function(t){this.configuration=null,this.activeProperties=null;var n=this.context;this.context=t?Object.freeze(g({},t)):null,this.emit(e.Event.REFRESH,n)},e.prototype.updateConfiguration=function(t){this.configuration=t,this.emit(e.Event.FETCH)},e.prototype.updateActive=function(t){this.activeProperties=(0,d.mergePropertyMaps)(this.defaultProperties,t&&t.properties),this.logApplied(this.configuration).catch(function(t){e.swallowException(t)}),this.emit(e.Event.ACTIVATE)},e.prototype.logApplied=function(t){var e=this.propertySetKey;if(null===t)return this.rcsClient.defaultConfigApplied(e);var n=t.rcsFetchTime,r=(0,d.getUniquePropertyGroupIds)(t.properties);return 0===r.length?this.rcsClient.defaultConfigApplied(e,t.configurationAssignmentId):this.rcsClient.configApplied(e,t.configurationAssignmentId,r,n)},e.prototype.get=function(t,e){if(!this.activeProperties)throw new Error("You must activate a config before getting values.");var n=this.activeProperties[e];if(!n)throw new Error('Property "'+e+'" could not be found. Did you forget to define it in properties.yaml?');if(n.type!==t)throw new Error('Property "'+e+'" of type '+n.type+" was accessed as "+t);return n.value},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([p.memoizeAsync],e.prototype,"guardedLoad",null),e}(u.EventEmitter);!function(t){!function(t){t.FETCH="fetch",t.ACTIVATE="activate",t.REFRESH="refresh"}(t.Event||(t.Event={}))}(E||(E={}));var b=E;e.default=b},S0cF:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("OlH2")),o=new i.default.abr.SimpleAbrManager;o.configure({defaultBandwidthEstimate:8e6});var a=function(){function t(t){this.player=new i.default.Player(t)}return t.prototype.configure=function(t){return t.abrFactory||(t.abrFactory=function(){return o}),this.player.configure(t)},t.prototype.getNetworkingEngine=function(){return this.player.getNetworkingEngine()},t.prototype.load=function(t,e,n){return this.player.load(t,e,n)},t.prototype.unload=function(){return this.player.unload()},t.prototype.keySystem=function(){return this.player.keySystem()},t.prototype.getTextTracks=function(){return this.player.getTextTracks()},t.prototype.getVariantTracks=function(){return this.player.getVariantTracks()},t.prototype.getStats=function(){return this.player.getStats()},t.prototype.addEventListener=function(t,e,n){return this.player.addEventListener(t,e,n)},t.prototype.removeEventListener=function(t,e,n){return this.player.removeEventListener(t,e,n)},t.prototype.selectTextLanguage=function(t,e){return this.player.selectTextLanguage(t,e)},t.prototype.setTextTrackVisibility=function(t){return this.player.setTextTrackVisibility(t)},t.prototype.isTextTrackVisible=function(){return this.player.isTextTrackVisible()},t}();e.default=a},S411:function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},S6y8:function(t,e,n){"use strict";(function(e){var n=void 0!==e.performance&&"function"==typeof e.performance.now;function r(t,e){this._name=t,this._logger=e,this._steps=[],this._stepMap={},this._rootStep=null,this._lastStep=null,this._calculated=null}r.create=function(t,e){return new r(t,e)},r.prototype._walkStepTree=function(t){for(var e=[],n=0,r=0,i=t.children,o=0;o<i.length;o++){var a=i[o],s=Math.ceil(a.timestamp-t.timestamp);r=Math.max(s,r),e.push({name:a.name,ms_duration:s,parent:"__init__"===t.name?null:t.name});var u=this._walkStepTree(a);n+=u.ms_duration,e.push.apply(e,u.breakdown)}return{ms_duration:n+=r,breakdown:e}},r.prototype._getTimestamp=function(){return n?performance.now():Date.now()},r.prototype.start=function(){if(this._lastStep)throw new Error("StepTimer already started.");return this._rootStep=this._createStep("__init__"),this},r.prototype._createStep=function(t,e){var n={name:t,timestamp:this._getTimestamp(),children:[]};return this._stepMap[n.name]=n,e&&e.children.push(n),this._lastStep=n,this._calculated=null,n},r.prototype.markStep=function(t){return this.markStepFrom(this._lastStep&&this._lastStep.name,t)},r.prototype.markStepFrom=function(t,e){if(!this._lastStep)throw new TypeError("Cannot add step to a non-started StepTimer.");if(e in this._stepMap)return this;var n=t?this._stepMap[t]:this._rootStep;return n?(this._createStep(e,n),this):this},r.prototype.calculate=function(){if(this._calculated)return this._calculated;var t=this._walkStepTree(this._rootStep),e={timer_name:this._name,ms_duration:Math.ceil(t.ms_duration),breakdown:t.breakdown,breakdown_version:"1.0.0"};return this._calculated=e,e},r.prototype.sendLog=function(t,e){var n=t||{},r=this.calculate();return r.json_data=n.json_data,r.json_data_version=n.json_data_version,this._logger.logJSSDKTimer(r,e)},t.exports=r}).call(this,n("pCvA"))},SDJZ:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"Sk/a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("uIAw"))},SksO:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},T1e2:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},T2JW:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("WshP"),o=r(n("WnZh")),a=n("gMC6"),s=r(n("fyAB")),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},c=function(){function t(t,e,n,r,i){this.endVideo=n,this.logError=r,this.clientModel=e,this.live=t,this.streamingRulesProvider=i}return t.prototype.init=function(t,e){var n=this;this.sessionId=e.sessionId,this.nSeekfwd=0,this.msSeekfwd=0,this.nSeekback=0,this.msSeekback=0,this.nStalls=0,this.msInitialBuffering=-1,this.msStalled=0,this.maxMsStalled=0,this.msSeekRebuffering=0,this.maxMsSeekRebuffering=0,this.startBitrate=0,this.oldBitrate=0,this.initTime=(new Date).getTime(),this.latency=0,this.bitrates=[],this.options=e,this.logged=!1,this.endVideoSent=!1,this.shouldSendEndVideo=!1,this.endReason=s.default.END_UNKNOWN,this.duration=0,this.connection_type_current="unknown",this.connection_type_start="unknown",this.incognito=!1,this.keySystem="",this.playRanges={lastPosition:e.initialPosition,ranges:[]},o.default.bindAll(this),this.clientModel.register();var r=this.live("spotify:client");r.query("session(connection, incognito)",function(t,e){t?n.logError("Failed to load client connection:",t):(n.connection_type_start=e.session.connection,n.connection_type_current=e.session.connection,n.incognito=e.session.incognito,r.get("session").on("update",function(t){"connection"in t&&(n.connection_type_current=t.connection),"incognito"in t&&(n.incognito=t.incognito)}))}),t.on(i.InternalEvents.CHANGE,this.onChange.bind(this))},t.prototype.onChange=function(t,e,n){e.isLoaded!==n.isLoaded&&(this.keySystem=this.parseKeySystem(n.keySystem));var r=(0,a.retrieveEndvideoMetadata)(this.options.metadata||{});if(0===this.latency&&n.currentTime>=0){var o=(new Date).getTime(),u=r[a.COMMAND_INITIATED_TIME_MS];this.latency=o-this.initTime,this.ui_latency=u>-1?o-u:-1}n.isSeeking&&n.currentTime!==e.currentTime&&this.seekTo(e,n),0===this.duration&&n.duration>=0&&(this.duration=n.duration),this.endReason!==n.endReason&&(this.endReason=n.endReason),n.bitrate!==this.oldBitrate&&this.updatePlayedSegment(n.currentTime,e.bitrate,n.currentTime,!1);var c=n.isEnded&&n.isBuffering,l=this.msInitialBuffering>=0;if(e.isBuffering&&!n.isBuffering||c){var f=n.time-n.lastBufferStart;l?e.bufferType===i.BufferType.SEEK?(this.msSeekRebuffering+=f,this.maxMsSeekRebuffering=Math.max(this.maxMsSeekRebuffering,f)):(this.nStalls++,this.msStalled+=f,this.maxMsStalled=Math.max(this.maxMsStalled,f)):this.msInitialBuffering=f}n.manifestLatency&&!this.manifestLatency&&(this.manifestLatency=n.manifestLatency),n.keyLatency&&!this.keyLatency&&(this.keyLatency=n.keyLatency),this.oldBitrate=n.bitrate,0===this.startBitrate&&(this.startBitrate=n.bitrate);var p=null;if(n.timeUpdate?p=s.default.END_UNEXPECTED_EXIT:!e.isPaused&&n.isPaused&&(p=s.default.END_UNEXPECTED_EXIT_WHILE_PAUSED),p&&(this.updatePlayedSegment(n.currentTime,e.bitrate,n.currentTime,!1),this.updateEndVideo(p)),n.isEnded&&!this.logged){this.updatePlayedSegment(n.currentTime,e.bitrate,n.currentTime,!0);var h=this.bitrates.length>0?this.bitrates[0].timeDiff:0,d=this.bitrates.length<=1&&h<.1;r[a.REASON_START]===s.default.END_APPLOAD&&d||this.logEndVideo(this.endReason),this.logged=!0}},t.prototype.seekTo=function(t,e){this.updatePlayedSegment(t.currentTime,t.bitrate,e.currentTime,!0);var n=e.currentTime-t.currentTime;n>0?(this.nSeekfwd++,this.msSeekfwd+=n):(this.nSeekback++,this.msSeekback-=n)},t.prototype.updatePlayedSegment=function(t,e,n,r){if(t>=0){var i=t-this.playRanges.lastPosition;i>0&&this.playRanges.ranges.push({position:this.playRanges.lastPosition,length:i}),this.playRanges.lastPosition=n}if(void 0!==this.segmentStartTime){var o=t-this.segmentStartTime;o>.01&&this.bitrates.push({timeDiff:o,endSegment:r,bitrate:e})}t>=0&&(this.segmentStartTime=n)},t.prototype.calculatePlayTimesAndBitrates=function(){for(var t=0,e=0,n=0,r=0,i={},o=0,a=this.playRanges.ranges.sort(function(t,e){return t.position<e.position?-1:t.position===e.position?0:1}),s=0,u=0;u<a.length;u++){var c=a[u].position,l=a[u].length;t+=l,c>=s?(e+=l,s=c+l):(e+=Math.max(0,c+l-s),s=Math.max(s,c+l)),o===c?r+=l:(n=Math.max(n,r),r=l),o=c+l}for(var f in n=Math.max(n,r),this.bitrates)if(this.bitrates.hasOwnProperty(f)){var p=this.bitrates[f];i.hasOwnProperty(p.bitrate)?i[p.bitrate]+=p.timeDiff:i[p.bitrate]=p.timeDiff}var h=0;for(var d in i)i.hasOwnProperty(d)&&(h+=d*i[d]/t);return{msPlayed:Math.round(1e3*t),unionPlayed:Math.round(1e3*e),maxContinuous:Math.round(1e3*n),timeWeightedBitrate:Math.round(h)}},t.prototype.parseKeySystem=function(t){switch(t){case"com.widevine.alpha":return"widevine";default:return t||""}},t.prototype.createMessage=function(t){var e=this.calculatePlayTimesAndBitrates(),n=(0,a.retrieveEndvideoMetadata)(this.options.metadata||{});return u({sequence_number:this.sequenceNumber,sequence_id:this.sequenceId,video_session_id:this.sessionId,reason_end:t,ms_played:e.msPlayed,ms_total_est:Math.round(1e3*this.duration),live:!1,ms_manifest_latency:this.manifestLatency||-1,n_seekback:this.nSeekback,ms_seekback:Math.round(1e3*this.msSeekback),n_seekfwd:this.nSeekfwd,ms_seekfwd:Math.round(1e3*this.msSeekfwd),ms_latency:Math.round(this.latency),ui_latency:this.ui_latency,start_offset_ms:Math.round(1e3*this.options.initialPosition),ms_initial_buffering:this.msInitialBuffering,ms_seek_rebuffering:this.msSeekRebuffering,ms_stalled:this.msStalled,max_ms_seek_rebuffering:this.maxMsSeekRebuffering,max_ms_stalled:this.maxMsStalled,n_stalls:this.nStalls,shuffle:!1,max_continous:e.maxContinuous,union_played:e.unionPlayed,audiocodec:"mp4a.40.5",videocodec:"vp9",incognito_mode:this.incognito,referrer_vendor:"com.spotify",streaming_rule:this.streamingRulesProvider.streamingRules(),start_bitrate:this.startBitrate,full_screen:0,time_weighted_bitrate:e.timeWeightedBitrate,prefetched_bytes:0,prefetched_bytes_loaded:-1,key_system:this.keySystem,ms_key_latency:this.keyLatency||-1,total_bytes:Math.round(e.timeWeightedBitrate*e.msPlayed/1e3/8),local_time_ms:Math.round(this.initTime),connection_type_start:this.connection_type_start,connection_type_end:this.connection_type_current,ms_played_background:0},n)},t.prototype.updateEndVideoInternal=function(t){var e=this,n=this.createMessage(t);this.endVideo.update(this.sequenceNumber,n,function(t){t?e.logError("logEndVideo, failed update:",t):e.shouldSendEndVideo&&e.endVideo.send(e.sequenceNumber)})},t.prototype.updateEndVideo=function(t){var e=this;if(!this.endVideoSent)return void 0===this.sequenceNumber?(this.sequenceNumber=-1,void this.endVideo.create(function(n,r,i){if(n)return e.sequenceNumber=void 0,void(e.sequenceId=void 0);e.sequenceNumber=r,e.sequenceId=i,e.updateEndVideoInternal(t)})):void(-1!==this.sequenceNumber&&this.updateEndVideoInternal(t))},t.prototype.logEndVideo=function(t){this.endVideoSent||(this.shouldSendEndVideo=!0,this.updateEndVideo(t),this.endVideoSent=!0)},t}();e.default=c},T3pf:function(t,e,n){"use strict";(function(e){var r=n("RBTS"),i=e.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(e,"__dbgLoggerRegistry",{value:i}):e.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(t){return!(!i.loggingPredicate||!i.loggingPredicate(t))}var u="log";t.exports={intercept:function(t){if("function"!=typeof t)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=t},unintercept:function(){i.loggingPredicate=null},list:function(t){var e,n,r,i=Object.keys(o);if(i.sort(),t){var a=[];for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(t){u=t;for(var e=a.length;e--;){var n=a[e];n&&n.setLevel(t)}},enableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].enable()},disableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].disable()},forTag:function(t,e){var n,i;if("string"==typeof t?(n=t.toLowerCase(),i=e):(n=t.tag,i=t.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(t){var e=t.toLowerCase();if(o.hasOwnProperty(e)&&o[e]){var n=o[e];o[e]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},T8w0:function(t,e,n){"use strict";t.exports={APPLOAD:"appload",BACK_BUTTON:"backbtn",CLICK_ROW:"clickrow",CLICK_SIDE:"clickside",END_PLAY:"endplay",FORWARD_BUTTON:"fwdbtn",LOGOUT:"logout",PLAY_BUTTON:"playbtn",POPUP:"popup",REMOTE:"remote",TRACK_DONE:"trackdone",TRACK_ERROR:"trackerror",UNKNOWN:"unknown",URI_OPEN:"uriopen"}},TBe3:function(t,e,n){"use strict";t.exports=function(){return{name:"context_time",data:{timestamp:Date.now()}}}},TDIH:function(t,e,n){"use strict";var r=n("ovh1"),i=n("5QbJ"),o=n("uahg"),a=n("Zrjs");function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(n("bRtl"));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n("tImM"),u.CancelToken=n("OHXD"),u.isCancel=n("e5jZ"),u.all=function(t){return Promise.all(t)},u.spread=n("6s8r"),t.exports=u,t.exports.default=u},THQi:function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},TRFn:function(t,e,n){"use strict";var r=n("mpLd");t.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},TTuV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultInstallationId=function(t){return function(t){if(t){var e=t.getItem(i.INSTALLATION_ID_STORAGE_KEY);return e||(e=a(),t.setItem(i.INSTALLATION_ID_STORAGE_KEY,e)),e}}(t)||(0,o.getCookie)(i.INSTALLATION_ID_COOKIE_KEY)||""},e.isValidInstallationId=function(t){return"string"==typeof t&&t.length>5},e.createInstallationId=a;var r=n("AEdO"),i=n("DNnd"),o=n("MN4F");function a(){return(0,o.getCookie)(i.INSTALLATION_ID_COOKIE_KEY)||(0,r.v4)()}},"TV+k":function(t){t.exports=JSON.parse('{"tagged":"1.3.0-abc50b3","version":"1.3.0","revision":"abc50b3"}')},TZip:function(t,e,n){"use strict";var r=n("63Ad"),i=r(n("NthX")),o=r(n("SDJZ")),a=r(n("NToG")),s=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n("rAIa")),c=s(n("X0BS")),l=s(n("gHi2")),f=n("q4CX"),p=function(){function t(e){(0,o.default)(this,t),this.logger=e}return(0,a.default)(t,[{key:"send",value:function(t){return function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.logger.log(c.default(Object.assign({},t)),!1),this.logger.flush();case 2:case"end":return e.stop()}},e,this)}))}}],[{key:"create",value:function(e){if(!e.getToken&&!e.noAuthentication)throw new Error("getToken methods are required for authenticated requests");if(!e.internal&&e.noAuthentication)throw new Error("unauthorized requests aren't supported on the public webgate yet, use authentication or the internal flag");var n={getToken:e.getToken,enableDebugInfo:e.enableDebugInfo,noAuthentication:e.noAuthentication};return e.internal&&(n.endpoints={webgate:f.INTERNAL_WEBGATE_URL}),new t(l.default(n))}},{key:"createWithCustomTransport",value:function(e){return new t(u.default.create({transport:e.transport,enableDebugInfo:e.enableDebugInfo}))}}]),t}();e.EventSenderReporter=p},TqRt:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},U2jI:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RemoteConfigProvider",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"withRemoteConfig",{enumerable:!0,get:function(){return o.default}});var i=r(n("AzgF")),o=r(n("fBgj"))},U3MV:function(t,e,n){"use strict";var r=n("d8l3");t.exports=r({DEALER_CONNECTION_ERROR:"DEALER_CONNECTION_ERROR",DEALER_AUTHENTICATION_FAILED:"DEALER_AUTHENTICATION_FAILED",DEALER_ERROR:"DEALER_ERROR",HTTP_REQUEST_FAILED:"HTTP_REQUEST_FAILED",LOGGING_REQUEST_FAILED:"LOGGING_REQUEST_FAILED"})},U5QU:function(t,e,n){!function(){var e="0123456789abcdef",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];r.length=256;for(var i=0;i<256;i++)r[i]=e[i>>4]+e[15&i];var o=[];for(o.length=128,i=0;i<n.length;++i)o[n.charCodeAt(i)]=i;var a=[];for(i=0;i<16;i++)a[e.charCodeAt(i)]=i;for(i=0;i<6;i++)a["ABCDEF".charCodeAt(i)]=10+i;var s={toHex:function(t){if(22!==t.length)return null;var e,n,i,a,s,u=2.3283064365386963e-10,c=4294967296,l=238328;return e=56800235584*o[t.charCodeAt(0)]+916132832*o[t.charCodeAt(1)]+14776336*o[t.charCodeAt(2)]+238328*o[t.charCodeAt(3)]+3844*o[t.charCodeAt(4)]+62*o[t.charCodeAt(5)]+o[t.charCodeAt(6)],e=(e-=(n=e*u|0)*c)*l+(s=3844*o[t.charCodeAt(7)]+62*o[t.charCodeAt(8)]+o[t.charCodeAt(9)]),e-=(s=e*u|0)*c,n=n*l+s,e=e*l+(s=3844*o[t.charCodeAt(10)]+62*o[t.charCodeAt(11)]+o[t.charCodeAt(12)]),e-=(s=e*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=s,e=e*l+(s=3844*o[t.charCodeAt(13)]+62*o[t.charCodeAt(14)]+o[t.charCodeAt(15)]),e-=(s=e*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,e=e*l+(s=3844*o[t.charCodeAt(16)]+62*o[t.charCodeAt(17)]+o[t.charCodeAt(18)]),e-=(s=e*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,i-=(s=i*u|0)*c,a=s,e=e*l+(s=3844*o[t.charCodeAt(19)]+62*o[t.charCodeAt(20)]+o[t.charCodeAt(21)]),e-=(s=e*u|0)*c,n=n*l+s,n-=(s=n*u|0)*c,i=i*l+s,i-=(s=i*u|0)*c,a=a*l+s,a-=(s=a*u|0)*c,s?null:r[a>>>24]+r[a>>>16&255]+r[a>>>8&255]+r[255&a]+r[i>>>24]+r[i>>>16&255]+r[i>>>8&255]+r[255&i]+r[n>>>24]+r[n>>>16&255]+r[n>>>8&255]+r[255&n]+r[e>>>24]+r[e>>>16&255]+r[e>>>8&255]+r[255&e]},fromHex:function(t){var e,r=0,i=0,o=0;for(e=0;e<10;e++)o=16*o+a[t.charCodeAt(e)];for(e=0;e<11;e++)i=16*i+a[t.charCodeAt(e+10)];for(e=0;e<11;e++)r=16*r+a[t.charCodeAt(e+21)];if(isNaN(r+i+o))return null;var s,u=17592186044416,c="";for(e=0;e<7;++e)s=((s=((s=o)-62*(o=Math.floor(s*(1/62))))*u+i)-62*(i=Math.floor(s*(1/62))))*u+r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;for(i+=o*u;e<15;++e)s=((s=i)-62*(i=Math.floor(s*(1/62))))*u+r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;for(r+=i*u;e<21;++e)s=r,r=Math.floor(s*(1/62)),c=n[s-62*r]+c;return n[r]+c},HEX256:r,ID16:a,ID62:o};void 0!==t.exports?t.exports=s:window.Base62=s}()},UBA0:function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},UK3a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callIfExists=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t&&t.apply(void 0,n)},e.hasOwnProp=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.uniqueId=function(){return Math.random().toString(36).substring(7)},e.cssClasses={menu:"react-contextmenu",menuVisible:"react-contextmenu--visible",menuWrapper:"react-contextmenu-wrapper",menuItem:"react-contextmenu-item",menuItemActive:"react-contextmenu-item--active",menuItemDisabled:"react-contextmenu-item--disabled",menuItemDivider:"react-contextmenu-item--divider",menuItemSelected:"react-contextmenu-item--selected",subMenu:"react-contextmenu-submenu"},e.store={},e.canUseDOM=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)},UKBR:function(t,e,n){"use strict";(function(e){var r=n("1fQG");t.exports=function(t){if(!t)return t;var n=r(e.navigator.userAgent,e.navigator.platform);return t.replace(/\{\{([^}]+?)\}\}/g,function(t,e){return e in n?n[e]:""})}}).call(this,n("pCvA"))},UKnr:function(t,e,n){"use strict";e.decode=e.parse=n("MNOf"),e.encode=e.stringify=n("THQi")},USb2:function(t,e,n){"use strict";n.r(e);var r=n("oNR1"),i=n("7L9N"),o=n("mXGw"),a=n.n(o),s=n("nVfp"),u=(n("W0B4"),n("Fcif")),c=n("+I+c"),l="Invariant failed",f=function(t,e){if(!t)throw new Error(l)};n.d(e,"BrowserRouter",function(){return p}),n.d(e,"HashRouter",function(){return h}),n.d(e,"Link",function(){return g}),n.d(e,"NavLink",function(){return T}),n.d(e,"MemoryRouter",function(){return r.MemoryRouter}),n.d(e,"Prompt",function(){return r.Prompt}),n.d(e,"Redirect",function(){return r.Redirect}),n.d(e,"Route",function(){return r.Route}),n.d(e,"Router",function(){return r.Router}),n.d(e,"StaticRouter",function(){return r.StaticRouter}),n.d(e,"Switch",function(){return r.Switch}),n.d(e,"__RouterContext",function(){return r.__RouterContext}),n.d(e,"generatePath",function(){return r.generatePath}),n.d(e,"matchPath",function(){return r.matchPath}),n.d(e,"useHistory",function(){return r.useHistory}),n.d(e,"useLocation",function(){return r.useLocation}),n.d(e,"useParams",function(){return r.useParams}),n.d(e,"useRouteMatch",function(){return r.useRouteMatch}),n.d(e,"withRouter",function(){return r.withRouter});var p=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.createBrowserHistory)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},e}(a.a.Component),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.createHashHistory)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},e}(a.a.Component),d=function(t,e){return"function"==typeof t?t(e):t},_=function(t,e){return"string"==typeof t?Object(s.createLocation)(t,null,null,e):t},y=function(t){return t},v=a.a.forwardRef;void 0===v&&(v=y);var m=v(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.default)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=y!==v&&e||n,a.a.createElement("a",l)}),g=v(function(t,e){var n=t.component,i=void 0===n?m:n,o=t.replace,s=t.to,l=t.innerRef,p=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,function(t){t||f(!1);var n=t.history,r=_(d(s,t.location),t.location),c=r?n.createHref(r):"",h=Object(u.default)({},p,{href:c,navigate:function(){var e=d(s,t.location);(o?n.replace:n.push)(e)}});return y!==v?h.ref=e||l:h.innerRef=l,a.a.createElement(i,h)})}),E=function(t){return t},b=a.a.forwardRef;void 0===b&&(b=E);var T=b(function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,l=t.activeStyle,p=t.className,h=t.exact,y=t.isActive,v=t.location,m=t.strict,T=t.style,S=t.to,R=t.innerRef,w=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,function(t){t||f(!1);var n=v||t.location,o=_(d(S,n),n),c=o.pathname,O=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=O?Object(r.matchPath)(n.pathname,{path:O,exact:h,strict:m}):null,I=!!(y?y(A,n):A),N=I?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(p,s):p,C=I?Object(u.default)({},T,{},l):T,P=Object(u.default)({"aria-current":I&&i||null,className:N,style:C,to:o},w);return E!==b?P.ref=e||R:P.innerRef=R,a.a.createElement(g,P)})})},UYf4:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return f});var r=n("bb6g"),i=n("nsI8"),o=n("E6vx"),a=n("tZ4O"),s=n("3ZRO"),u=n("OfE8"),c=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){t._scopeListeners.forEach(function(e){e(t)}),t._notifyingListeners=!1}))},t.prototype._notifyEventProcessors=function(t,e,n,a){var s=this;return void 0===a&&(a=0),new i.a(function(i,u){var c=t[a];if(null===e||"function"!=typeof c)i(e);else{var l=c(r.a({},e),n);Object(o.l)(l)?l.then(function(e){return s._notifyEventProcessors(t,e,n,a+1).then(i)}).then(null,u):s._notifyEventProcessors(t,l,n,a+1).then(i).then(null,u)}})},t.prototype.setUser=function(t){return this._user=Object(a.c)(t),this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=r.a({},this._tags,Object(a.c)(t)),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=r.a({},this._tags,((n={})[t]=Object(a.c)(e),n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=r.a({},this._extra,Object(a.c)(t)),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=r.a({},this._extra,((n={})[t]=Object(a.c)(e),n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=Object(a.c)(t),this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=Object(a.c)(t),this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},t.prototype.setContext=function(t,e){return this._context[t]=e?Object(a.c)(e):void 0,this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.startSpan=function(t){var e=new u.a;return e.setParent(t),this.setSpan(e),e},t.prototype.getSpan=function(){return this._span},t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=r.d(e._breadcrumbs),n._tags=r.a({},e._tags),n._extra=r.a({},e._extra),n._context=r.a({},e._context),n._user=e._user,n._level=e._level,n._span=e._span,n._transaction=e._transaction,n._fingerprint=e._fingerprint,n._eventProcessors=r.d(e._eventProcessors)),n},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=(new Date).getTime()/1e3,i=r.a({timestamp:n},t);return this._breadcrumbs=void 0!==e&&e>=0?r.d(this._breadcrumbs,[Object(a.c)(i)]).slice(-e):r.d(this._breadcrumbs,[Object(a.c)(i)]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=r.a({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=r.a({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=r.a({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=r.a({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._span&&(t.contexts=t.contexts||{},t.contexts.trace=this._span),this._applyFingerprint(t),t.breadcrumbs=r.d(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(r.d(l(),this._eventProcessors),t,e)},t}();function l(){var t=Object(s.f)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function f(t){l().push(t)}},UZV1:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("nskL")),o=function(){function t(t,e,n,r,i){this.endVideo=n,this.logError=r,this.clientModel=e,this.live=t,this.streamingRulesProvider=i}return t.prototype.createEventObserver=function(){return new i.default(this.live,this.clientModel,this.endVideo,this.logError,this.streamingRulesProvider)},t}();e.default=o},UdKW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e.unstable_now=void 0,e.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(l,0),t}};e.unstable_now=function(){return Date.now()},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,d=window.clearTimeout,_=window.requestAnimationFrame;window.cancelAnimationFrame,e.unstable_now="object"==typeof f&&"function"==typeof f.now?function(){return f.now()}:function(){return p.now()};var y=!1,v=null,m=-1,g=-1,E=33.33,b=-1,T=-1,S=0,R=!1;a=function(){return e.unstable_now()>=S},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t||(0<t?(E=Math.floor(1e3/t),R=!0):(E=33.33,R=!1))};var w=function(){if(null!==v){var t=e.unstable_now(),n=0<S-t;try{v(n,t)||(v=null)}catch(t){throw A.postMessage(null),t}}},O=new MessageChannel,A=O.port2;O.port1.onmessage=w;var I=function(t){if(null===v)T=b=-1,y=!1;else{y=!0,_(function(t){d(m),I(t)});var n=function(){S=e.unstable_now()+E/2,w(),m=h(n,3*E)};if(m=h(n,3*E),-1!==b&&.1<t-b){var r=t-b;!R&&-1!==T&&r<E&&T<E&&8.33>(E=r<T?T:r)&&(E=8.33),T=r}b=t,S=t+E,A.postMessage(null)}};r=function(t){v=t,y||(y=!0,_(function(t){I(t)}))},i=function(t,n){g=h(function(){t(e.unstable_now())},n)},o=function(){d(g),g=-1}}var N=null,C=null,P=null,L=3,k=!1,D=!1,x=!1;function M(t,e){var n=t.next;if(n===t)N=null;else{t===N&&(N=n);var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,n=t.callback,r=L;var i=P;L=t.priorityLevel,P=t;try{var o=t.expirationTime<=e;switch(L){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(t){throw t}finally{L=r,P=i}if("function"==typeof a)if(e=t.expirationTime,t.callback=a,null===N)N=t.next=t.previous=t;else{a=null,o=N;do{if(e<=o.expirationTime){a=o;break}o=o.next}while(o!==N);null===a?a=N:a===N&&(N=t),(e=a.previous).next=a.previous=t,t.next=a,t.previous=e}}function U(t){if(null!==C&&C.startTime<=t)do{var e=C,n=e.next;if(e===n)C=null;else{C=n;var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,V(e,e.expirationTime)}while(null!==C&&C.startTime<=t)}function F(t){x=!1,U(t),D||(null!==N?(D=!0,r(j)):null!==C&&i(F,C.startTime-t))}function j(t,n){D=!1,x&&(x=!1,o()),U(n),k=!0;try{if(t){if(null!==N)do{M(N,n),U(n=e.unstable_now())}while(null!==N&&!a())}else for(;null!==N&&N.expirationTime<=n;)M(N,n),U(n=e.unstable_now());return null!==N||(null!==C&&i(F,C.startTime-n),!1)}finally{k=!1}}function B(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function V(t,e){if(null===N)N=t.next=t.previous=t;else{var n=null,r=N;do{if(e<r.expirationTime){n=r;break}r=r.next}while(r!==N);null===n?n=N:n===N&&(N=t),(e=n.previous).next=n.previous=t,t.next=n,t.previous=e}}var G=s;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=L;L=t;try{return e()}finally{L=n}},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var n=L;L=e;try{return t()}finally{L=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:B(t)}else a=B(t),u=s;if(t={callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,next:null,previous:null},u>s){if(a=u,null===C)C=t.next=t.previous=t;else{n=null;var c=C;do{if(a<c.startTime){n=c;break}c=c.next}while(c!==C);null===n?n=C:n===C&&(C=t),(a=n.previous).next=n.previous=t,t.next=n,t.previous=a}null===N&&C===t&&(x?o():x=!0,i(F,u-s))}else V(t,a),D||k||(D=!0,r(j));return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(t===e)t===N?N=null:t===C&&(C=null);else{t===N?N=e:t===C&&(C=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var e=L;return function(){var n=L;L=e;try{return t.apply(this,arguments)}finally{L=n}}},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_shouldYield=function(){var t=e.unstable_now();return U(t),null!==P&&null!==N&&N.startTime<=t&&N.expirationTime<P.expirationTime||a()},e.unstable_requestPaint=G,e.unstable_continueExecution=function(){D||k||(D=!0,r(j))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return N}},UjBt:function(t,e,n){"use strict";function r(t){var e=typeof t;return"object"===e?t?Object.prototype.toString.call(t).slice(8,-1):null:e}function i(t,e){for(var n=0,i=t.length;n<i;n++)if(r(t[n])!==e)throw new ReferenceError("Wrong subtype in data array.")}t.exports=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))throw new ReferenceError("Bad key, mismatching schema in logging data.");if(!e[n].nullable||t[n]){if(!t[n])throw new ReferenceError("Missing non-nullable value.");var o=r(t[n]),a=e[n].type;if("Array"===o)i(t[n],e[n].inner_type);else if(o!==a)throw new ReferenceError("Type mismatch in logging data.")}}return t}},Um7p:function(t,e,n){"use strict";var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i={},o={};function a(t,e,n){for(var r=0,i=0;i<t.length;++i){var o=t[i]*e+r;t[i]=o%n,r=~~(o/n)}for(;r;)t.push(r%n),r=~~(r/n)}function s(t,e,n,r){var i,o,a=0;for(o=0;o<e.length;++o)i=~~t[o]+e[o]*n+a,t[o]=i%r,a=~~(i/r);for(;a;)i=~~t[o]+a,t[o]=i%r,a=~~(i/r),++o}function u(t,e,n){for(var r=[0],i=[1],o=0;o<t.length;++o)s(r,i,t[o],n),a(i,e,n);return r}function c(t,e){for(var n=[],r=0;r<t.length;++r)n.push(e[t[r]]);return n.reverse()}function l(t,e){for(;t.length<e;)t.push(0);return t}!function(){var t,e;for(t=0,e=r.length;t<e;++t)o[r[t]]=t;for(t=0;t<16;++t)i["0123456789abcdef"[t]]=t;for(t=0;t<16;++t)i["0123456789ABCDEF"[t]]=t}(),t.exports={fromBytes:function(t,e){return c(l(u(t.slice(0).reverse(),256,62),e),r).join("")},toBytes:function(t,e){return l(u(c(t,o),62,256),e).reverse()},toHex:function(t,e){var n=u(c(t,o),62,16);return c(l(n,e),r).join("")},fromHex:function(t,e){var n=u(c(t,i),16,62);return c(l(n,e),r).join("")}}},V0bL:function(t,e,n){"use strict";var r=Array.prototype.slice,i=n("pm3V"),o=Object.keys,a=o?function(t){return o(t)}:n("ViLm"),s=Object.keys;a.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)}):Object.keys=a,Object.keys||a},t.exports=a},VdJd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"localize",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var r,i,o,a,s,u,c,l=(r=n("XPvw"))&&r.__esModule?r:{default:r},f=(i={blacklistedNodeNames:["STYLE"]},o=null,a={characterData:!0,childList:!0,subtree:!0},s=function(t){return t&&"string"==typeof t},u=function(t){var e=function(t){for(var e,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,function(t){return/[^\s]/.test(t.nodeValue)?i.blacklistedNodeNames.includes(t.parentElement.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),r=[];e=n.nextNode();)r.push(e);return r}(t),n=!0,r=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value,f=c.nodeValue;s(f)&&(c.nodeValue=(0,l.default)(f,i))}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}},c=function(t){var e=!0,n=!1,r=void 0;try{for(var c,f=t[Symbol.iterator]();!(e=(c=f.next()).done);e=!0){var p=c.value;if("childList"===p.type&&p.addedNodes.length>0)o.disconnect(),p.addedNodes.forEach(u),o.observe(document.body,a);else if("characterData"===p.type){var h=p.target.nodeValue,d=i.blacklistedNodeNames.includes(p.target.parentElement.nodeName);s(h)&&!d&&(o.disconnect(),p.target.nodeValue=(0,l.default)(h,i),o.observe(document.body,a))}}}catch(t){n=!0,r=t}finally{try{e||null==f.return||f.return()}finally{if(n)throw r}}},{start:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.strategy,n=void 0===e?"accented":e,r=t.blacklistedNodeNames,s=void 0===r?i.blacklistedNodeNames:r;i.blacklistedNodeNames=s,i.strategy=n,u(document.body),(o=new MutationObserver(c)).observe(document.body,a)},stop:function(){o&&o.disconnect()},localize:l.default});e.default=f},ViLm:function(t,e,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n("pm3V"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),p=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(s&&t.length>0&&!i.call(t,0))for(var _=0;_<t.length;++_)p.push(String(_));if(r&&t.length>0)for(var y=0;y<t.length;++y)p.push(String(y));else for(var v in t)d&&"prototype"===v||!i.call(t,v)||p.push(String(v));if(u)for(var m=function(t){if("undefined"==typeof window||!h)return f(t);try{return f(t)}catch(t){return!1}}(t),g=0;g<l.length;++g)m&&"constructor"===l[g]||!i.call(t,l[g])||p.push(l[g]);return p}}t.exports=r},VkDQ:function(t,e,n){"use strict";var r=n("ZQMo"),i=n("24EC"),o=n("hP7U"),a=n("PBt+"),s=Function.call.bind(i);r(s,{getPolyfill:o,implementation:i,shim:a}),t.exports=s},VtxT:function(t,e,n){"use strict";var r=n("asuC"),i=n("6GjV"),o=n("2Era"),a=n("hbV+"),s=n("Mj+E"),u=n("nAES"),c=function(){},l={POST:!0,PUT:!0,DELETE:!0},f={json:!0,text:!0,document:!0},p={},h=r.resolve(p);function d(t,e){var n=e||{};this._url=t,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||"",this._canceller=n.canceller||r.defer().promise,this._ignoreResponseBody=n.ignoreResponseBody,this._parseResponseHeaders=n.parseResponseHeaders,this._withCredentials="include"===n.credentials,this._forcePolyfill=n.forcePolyfill,this._timing=n.timing?{completed:0}:null,this._requestStartTime=0,this._xhr=new XMLHttpRequest,this._abort=this._abort.bind(this)}d.request=function(t,e){return new d(t,e).send()},d.prototype._abort=function(){this._xhr&&(this._xhr.abort(),this._xhr.onprogress=c,this._xhr.onerror=c,this._xhr.onreadystatechange=c,this._xhr=null)},d.prototype._handleStateChanged=function(t,e,n){this._xhr&&4===this._xhr.readyState&&(this._timing&&(this._timing.completed=Date.now()-this._requestStartTime),this._xhr.onprogress=null,this._xhr.onerror=null,this._xhr.onreadystatechange=null,r.race([this._canceller,h]).then(function(r){if(r===p&&this._xhr){var a=this._xhr;if(a){var u=a.status,c=new i(a.responseURL||t,u);if(c.body=null,n&&n.isOnline&&(c.offline=!n.isOnline()),(this._parseResponseHeaders||u>299)&&(c.headers=new o(a.getAllResponseHeaders())),!this._ignoreResponseBody&&u!==s.NO_CONTENT&&2===c.getStatusFamily()){var l=this._responseType;if(!this._forcePolyfill&&"response"in a&&l===a.responseType)c.body=a.response;else if("document"===l)c.body=a.responseXML;else if("json"===l)try{c.body=JSON.parse(a.responseText)}catch(t){c.body=null}else"text"!==l&&""!==l||(c.body=a.responseText)}c.timing=this._timing,e.resolve(c),this._xhr=null}}}.bind(this)).catch(function(){}))},d.prototype.send=function(){return r.race([this._canceller,h]).then(function(t){var e=r.defer();if(t!==p)return e.promise;var n=this._url;if(!n)return e.reject(new TypeError("Request URL cannot be blank.")),e.promise;var i=null,o=this._payload,s=this._method;s in l&&o?i=o:o&&(n+="?"+o);var h=this._xhr;if(!h)return e.reject(new Error("Request has been closed.")),e.promise;h.open(s,n,!0),h.onprogress=c,h.onerror=function(){e.reject(new a(u.HTTP_REQUEST_FAILED,"Request cannot be completed.",this.status)),this.onerror=c},h.onreadystatechange=this._handleStateChanged.bind(this,n,e);var d=this._responseType;if(d)if(this._forcePolyfill){if(!(d in f))return e.reject(new TypeError('Cannot polyfill responseType "'+d+'"')),e.promise}else{if(!("responseType"in h||d in f))return e.reject(new TypeError("Cannot set responseType: not supported in browser.")),e.promise;if(h.responseType=d,d!==this._xhr.responseType&&!(d in f))return e.reject(new TypeError('Unknown responseType "'+d+'".')),e.promise}var _=this._headers;if(_)for(var y in _)if(_.hasOwnProperty(y))try{h.setRequestHeader(y,_[y])}catch(t){return e.reject(t),e.promise}try{this._requestStartTime=Date.now(),h.send(i)}catch(t){e.reject(t)}return this._canceller.then(this._abort,this._abort),e.promise}.bind(this))},t.exports=d},W0B4:function(t,e,n){t.exports=n("NS33")()},W2ce:function(t,e,n){"use strict";e.Event=n("ewx7"),e.Method=n("24bo"),e.StatusCode=n("Ec93"),e.StatusFamily=n("y91a");var r=n("+LOn");e.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,e.Endpoints,e.EndpointsProvider,e.TokenProvider,e.SessionProviders,e.SessionConfig,e.HTTPURI,e.HTTPArgs,e.HTTPResponse,e.DealerMessage,e.ClientEventData},W7aI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n("mXGw"),s=_(a),u=_(n("W0B4")),c=d(n("p1yM")),l=_(n("3gDE")),f=d(n("0TdX")),p=d(n("pHF5")),h=_(n("s4Wf"));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=9,m=27,g=0,E=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setOverlayRef=function(t){n.overlay=t,n.props.overlayRef&&n.props.overlayRef(t)},n.setContentRef=function(t){n.content=t,n.props.contentRef&&n.props.contentRef(t)},n.afterClose=function(){var t=n.props,e=t.appElement,r=t.ariaHideApp,i=t.htmlOpenClassName,o=t.bodyOpenClassName;o&&p.remove(document.body,o),i&&p.remove(document.getElementsByTagName("html")[0],i),r&&g>0&&0==(g-=1)&&f.show(e),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var t=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:t},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(t){t.keyCode===v&&(0,l.default)(n.content,t),n.props.shouldCloseOnEsc&&t.keyCode===m&&(t.stopPropagation(),n.requestClose(t))},n.handleOverlayOnClick=function(t){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(t):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(t){n.props.shouldCloseOnOverlayClick||t.target!=n.overlay||t.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(t){return n.ownerHandlesClose()&&n.props.onRequestClose(t)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(t,e){var r="object"===(void 0===e?"undefined":i(e))?e:{base:y[t],afterOpen:y[t]+"--after-open",beforeClose:y[t]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof e&&e?o+" "+e:o},n.attributesFromObject=function(t,e){return Object.keys(e).reduce(function(n,r){return n[t+"-"+r]=e[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),o(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(t,e){this.props.isOpen&&!t.isOpen?this.open():!this.props.isOpen&&t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var t=this.props,e=t.appElement,n=t.ariaHideApp,r=t.htmlOpenClassName,i=t.bodyOpenClassName;i&&p.add(document.body,i),r&&p.add(document.getElementsByTagName("html")[0],r),n&&(g+=1,f.hide(e))}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.className,i=t.overlayClassName,o=t.defaultStyles,a=n?{}:o.content,u=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:e,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),e}();E.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},E.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(h.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,testId:u.default.string},e.default=E,t.exports=e.default},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},WI9V:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},WKDR:function(t,e,n){"use strict";(function(e){var r=n("D5Cn"),i=n("qykS"),o=n("4+3C"),a=r.Tap,s=o.format,u={array:N,boolean:m,bytes:R,double:T,enum:O,error:C,fixed:A,float:b,int:g,long:E,map:I,null:v,record:C,request:C,string:S,union:w},c=/^[A-Za-z_][A-Za-z0-9_]*$/,l=new r.Lcg,f=new a(new i.SlowBuffer(1024)),p=[],h=null;function d(t,e){if(t instanceof _)return t;var n;if(e=M(t,e),"string"==typeof t){if(!e.namespace||~t.indexOf(".")||V(t)||(t=e.namespace+"."+t),n=e.registry[t])return n;if(V(t))return e.registry[t]=d({type:t},e);throw new Error(s("undefined type name: %s",t))}if(e.typeHook&&(n=e.typeHook(t,e))){if(!(n instanceof _))throw new Error(s("invalid typehook return value: %j",n));return n}if(t.logicalType&&!h){var r=e.logicalTypes[t.logicalType];if(r){var i={};Object.keys(e.registry).forEach(function(t){i[t]=e.registry[t]});try{return new r(t,e)}catch(t){if(e.assertLogicalTypes)throw t;h=null,e.registry=i}}}return t instanceof Array?new w(t,e):function(n){var r=u[n];if(void 0===r)throw new Error(s("unknown type: %j",n));return new r(t,e)}(t.type)}function _(t){var e=this._name,n=h||this;if(h=null,void 0!==t&&void 0!==e){if(void 0!==t[e])throw new Error(s("duplicate type name: %s",e));t[e]=n}}function y(){_.call(this)}function v(){y.call(this)}function m(){y.call(this)}function g(){y.call(this)}function E(){y.call(this)}function b(){y.call(this)}function T(){y.call(this)}function S(){y.call(this)}function R(){y.call(this)}function w(t,e){if(!(t instanceof Array))throw new Error(s("non-array union schema: %j",t));if(!t.length)throw new Error("empty union");e=M(t,e),_.call(this),this._types=t.map(function(t){return d(t,e)}),this._indices={},this._types.forEach(function(t,e){if(t instanceof w)throw new Error("unions cannot be directly nested");var n=t._name||B(t);if(void 0!==this._indices[n])throw new Error(s("duplicate union name: %j",n));this._indices[n]=e},this),this._constructors=this._types.map(function(t){var e,n=t._name||B(t);return"null"===n?null:(e=~n.indexOf(".")?"this['"+n+"'] = val;":"this."+n+" = val;",new Function("val",e))})}function O(t,e){if(!(t.symbols instanceof Array&&t.symbols.length))throw new Error(s("invalid %j enum symbols: %j",t.name,t));var n=U(t,(e=M(t,e)).namespace);this._name=n.name,this._symbols=t.symbols,this._aliases=n.aliases,_.call(this,e.registry),this._indices={},this._symbols.forEach(function(t,e){if(!c.test(t))throw new Error(s("invalid %s symbol: %j",this,t));if(void 0!==this._indices[t])throw new Error(s("duplicate %s symbol: %j",this,t));this._indices[t]=e},this)}function A(t,e){if(t.size!==(0|t.size)||t.size<1)throw new Error(s("invalid %j fixed size: %j",t.name,t.size));var n=U(t,(e=M(t,e)).namespace);this._name=n.name,this._size=0|t.size,this._aliases=n.aliases,_.call(this,e.registry)}function I(t,e){if(!t.values)throw new Error(s("missing map values: %j",t));e=M(t,e),_.call(this),this._values=d(t.values,e)}function N(t,e){if(!t.items)throw new Error(s("missing array items: %j",t));e=M(t,e),this._items=d(t.items,e),_.call(this)}function C(t,e){var n=U(t,(e=M(t,e)).namespace);if(this._name=n.name,this._aliases=n.aliases,this._type=t.type,_.call(this,"request"===this._type?void 0:e.registry),!(t.fields instanceof Array))throw new Error(s("non-array %s fields",this._name));if(this._fields=t.fields.map(function(t){return new k(t,e)}),r.hasDuplicates(t.fields,function(t){return t.name}))throw new Error(s("duplicate %s field name",this._name));var i="error"===t.type;this._constructor=this._createConstructor(i),this._read=this._createReader(),this._skip=this._createSkipper(),this._write=this._createWriter(),this._check=this._createChecker()}function P(t,e,n){if(_.call(this),h=this,this._underlyingType=d(t,e),n&&!~n.indexOf(this._underlyingType.constructor)){var r=t.logicalType,i=this._underlyingType;throw new Error(s("invalid underlying type for %s: %s",r,i))}}function L(t){E.call(this),this._noUnpack=!!t}function k(t,e){var n=t.name;if("string"!=typeof n||!c.test(n))throw new Error(s("invalid field name: %s",n));this._name=n,this._type=d(t.type,e),this._aliases=t.aliases||[],this._order=function(t){switch(t){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(s("invalid order: %j",t))}}(void 0===t.order?"ascending":t.order);var r=t.default;if(void 0!==r){var i=this._type,o=i._copy(r,{coerce:2,wrap:2});this.getDefault=i instanceof y&&!(i instanceof R)?function(){return o}:function(){return i._copy(o)}}}function D(t){this._readerType=t,this._items=null,this._read=null,this._size=0,this._symbols=null,this._values=null}function x(t,e,n,r){if(n){if(n._readerType!==t)throw new Error("invalid resolver");return n._read(e,r)}return t._read(e)}function M(t,e){if(null===t)throw new Error('invalid type: null (did you mean "null"?)');return(e=e||{}).registry=e.registry||{},e.namespace=t.namespace||e.namespace,e.logicalTypes=e.logicalTypes||{},e}function U(t,e,n){e=t.namespace||e;var r=t[n=n||"name"];if(!r)throw new Error(s("missing %s property in schema: %j",n,t));return{name:i(r),aliases:t.aliases?t.aliases.map(i):[]};function i(t){!~t.indexOf(".")&&e&&(t=e+"."+t);var n=F(t);if(V(n))throw new Error(s("cannot rename primitive type: %j",n));return t.split(".").forEach(function(e){if(!c.test(e))throw new Error(s("invalid name: %j",t))}),t}}function F(t){var e=t.split(".");return e[e.length-1]}function j(t){var e,n,r=[t._name],i=t._aliases;for(e=0,n=i.length;e<n;e++)r.push(i[e]);return r}function B(t){var e=t.toJSON();return"string"==typeof e?e:e.type}function V(t){var e=u[t];return void 0!==e&&e.prototype instanceof y}function G(t){var e=t.readLong();return e<0&&(e=-e,t.skipLong()),e}function W(t,e){return n={},JSON.stringify(t,function(t,r){if(r instanceof k)return{name:r._name,type:r._type};if(r&&r.name){var i=r.name;if(e||n[i])return i;n[i]=!0}return r});var n}function H(t){return t>=-9007199254740990&&t<=9007199254740990}function K(t,e,n){throw new Error(s("invalid %s: %j",n,e))}_.__reset=function(t){f.buf=new i.SlowBuffer(t)},_.prototype.createResolver=function(t,e){if(!(t instanceof _))throw new Error(s("not a type: %j",t));if(t instanceof P&&!(this instanceof P))return this.createResolver(t._underlyingType,e);var n,r;if((e=e||{}).registry=e.registry||{},this instanceof C&&t instanceof C&&(r=this._name+":"+t._name,n=e.registry[r]))return n;if(n=new D(this),r&&(e.registry[r]=n),t instanceof w){var i=t._types.map(function(t){return this.createResolver(t,e)},this);n._read=function(t){var e=t.readLong();if(void 0===i[e])throw new Error(s("invalid union index: %s",e));return i[e]._read(t)}}else this._updateResolver(n,t,e);if(!n._read)throw new Error(s("cannot read %s as %s",t,this));return n},_.prototype.decode=function(t,e,n){var r=new a(t);r.pos=0|e;var i=x(this,r,n);return r.isValid()?{value:i,offset:r.pos}:{value:void 0,offset:-1}},_.prototype.encode=function(t,e,n){var r=new a(e);return r.pos=0|n,this._write(r,t),r.isValid()?r.pos:e.length-r.pos},_.prototype.fromBuffer=function(t,e,n){var r=new a(t),i=x(this,r,e,n);if(!r.isValid())throw new Error("truncated buffer");if(!n&&r.pos<t.length)throw new Error("trailing data");return i},_.prototype.toBuffer=function(t){f.pos=0,this._write(f,t),f.isValid()||(_.__reset(2*f.pos),f.pos=0,this._write(f,t));var n=new e(f.pos);return f.buf.copy(n,0,0,f.pos),n},_.prototype.fromString=function(t){return this._copy(JSON.parse(t),{coerce:2})},_.prototype.toString=function(t){return void 0===t?this.getSchema(!0):JSON.stringify(this._copy(t,{coerce:3}))},_.prototype.clone=function(t,e){return e&&(e={coerce:0|!!e.coerceBuffers,fieldHook:e.fieldHook,wrap:0|!!e.wrapUnions}),this._copy(t,e)},_.prototype.isValid=function(t,e){for(;p.length;)p.pop();return this._check(t,e&&e.errorHook)},_.prototype.compareBuffers=function(t,e){return this._match(new a(t),new a(e))},_.prototype.getName=function(t){return t?B(this):this._name},_.prototype.getSchema=function(t){return W(this,t)},_.prototype.getFingerprint=function(t){return r.getHash(this.getSchema(),t)},_.prototype.inspect=function(){if(this instanceof y)return s("<%s>",this.constructor.name);var t=JSON.parse(this.getSchema(!0));return"object"==typeof t&&(t.type=void 0),s("<%s %j>",this.constructor.name,t)},_.prototype._check=r.abstractFunction,_.prototype._copy=r.abstractFunction,_.prototype._match=r.abstractFunction,_.prototype._read=r.abstractFunction,_.prototype._skip=r.abstractFunction,_.prototype._updateResolver=r.abstractFunction,_.prototype._write=r.abstractFunction,_.prototype.compare=r.abstractFunction,_.prototype.random=r.abstractFunction,o.inherits(y,_),y.prototype._updateResolver=function(t,e){e.constructor===this.constructor&&(t._read=this._read)},y.prototype._copy=function(t){return this._check(t,K),t},y.prototype.compare=r.compare,o.inherits(v,y),v.prototype._check=function(t,e){var n=null===t;return!n&&e&&e(p.slice(),t,this),n},v.prototype._read=function(){return null},v.prototype._skip=function(){},v.prototype._write=function(t,e){null!==e&&K(0,e,this)},v.prototype._match=function(){return 0},v.prototype.compare=v.prototype._match,v.prototype.random=v.prototype._read,v.prototype.toJSON=function(){return"null"},o.inherits(m,y),m.prototype._check=function(t,e){var n="boolean"==typeof t;return!n&&e&&e(p.slice(),t,this),n},m.prototype._read=function(t){return t.readBoolean()},m.prototype._skip=function(t){t.skipBoolean()},m.prototype._write=function(t,e){"boolean"!=typeof e&&K(0,e,this),t.writeBoolean(e)},m.prototype._match=function(t,e){return t.matchBoolean(e)},m.prototype.random=function(){return l.nextBoolean()},m.prototype.toJSON=function(){return"boolean"},o.inherits(g,y),g.prototype._check=function(t,e){var n=t===(0|t);return!n&&e&&e(p.slice(),t,this),n},g.prototype._read=function(t){return t.readInt()},g.prototype._skip=function(t){t.skipInt()},g.prototype._write=function(t,e){e!==(0|e)&&K(0,e,this),t.writeInt(e)},g.prototype._match=function(t,e){return t.matchInt(e)},g.prototype.random=function(){return 0|l.nextInt(1e3)},g.prototype.toJSON=function(){return"int"},o.inherits(E,y),E.prototype._check=function(t,e){var n="number"==typeof t&&t%1==0&&H(t);return!n&&e&&e(p.slice(),t,this),n},E.prototype._read=function(t){var e=t.readLong();if(!H(e))throw new Error("potential precision loss");return e},E.prototype._skip=function(t){t.skipLong()},E.prototype._write=function(t,e){("number"!=typeof e||e%1||!H(e))&&K(0,e,this),t.writeLong(e)},E.prototype._match=function(t,e){return t.matchLong(e)},E.prototype._updateResolver=function(t,e){(e instanceof E||e instanceof g)&&(t._read=e._read)},E.prototype.random=function(){return l.nextInt()},E.prototype.toJSON=function(){return"long"},E.using=function(t,e){t=t||{};var n={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"},r=new L(e);return Object.keys(n).forEach(function(e){if(void 0===t[e])throw new Error(s("missing method implementation: %s",e));r[n[e]]=t[e]}),r},o.inherits(b,y),b.prototype._check=function(t,e){var n="number"==typeof t;return!n&&e&&e(p.slice(),t,this),n},b.prototype._read=function(t){return t.readFloat()},b.prototype._skip=function(t){t.skipFloat()},b.prototype._write=function(t,e){"number"!=typeof e&&K(0,e,this),t.writeFloat(e)},b.prototype._match=function(t,e){return t.matchFloat(e)},b.prototype._updateResolver=function(t,e){(e instanceof b||e instanceof E||e instanceof g)&&(t._read=e._read)},b.prototype.random=function(){return l.nextFloat(1e3)},b.prototype.toJSON=function(){return"float"},o.inherits(T,y),T.prototype._check=function(t,e){var n="number"==typeof t;return!n&&e&&e(p.slice(),t,this),n},T.prototype._read=function(t){return t.readDouble()},T.prototype._skip=function(t){t.skipDouble()},T.prototype._write=function(t,e){"number"!=typeof e&&K(0,e,this),t.writeDouble(e)},T.prototype._match=function(t,e){return t.matchDouble(e)},T.prototype._updateResolver=function(t,e){(e instanceof T||e instanceof b||e instanceof E||e instanceof g)&&(t._read=e._read)},T.prototype.random=function(){return l.nextFloat()},T.prototype.toJSON=function(){return"double"},o.inherits(S,y),S.prototype._check=function(t,e){var n="string"==typeof t;return!n&&e&&e(p.slice(),t,this),n},S.prototype._read=function(t){return t.readString()},S.prototype._skip=function(t){t.skipString()},S.prototype._write=function(t,e){"string"!=typeof e&&K(0,e,this),t.writeString(e)},S.prototype._match=function(t,e){return t.matchString(e)},S.prototype._updateResolver=function(t,e){(e instanceof S||e instanceof R)&&(t._read=this._read)},S.prototype.random=function(){return l.nextString(l.nextInt(32))},S.prototype.toJSON=function(){return"string"},o.inherits(R,y),R.prototype._check=function(t,n){var r=e.isBuffer(t);return!r&&n&&n(p.slice(),t,this),r},R.prototype._read=function(t){return t.readBytes()},R.prototype._skip=function(t){t.skipBytes()},R.prototype._write=function(t,n){e.isBuffer(n)||K(0,n,this),t.writeBytes(n)},R.prototype._match=function(t,e){return t.matchBytes(e)},R.prototype._updateResolver=S.prototype._updateResolver,R.prototype._copy=function(t,n){var r;switch(0|(n&&n.coerce)){case 3:return this._check(t,K),t.toString("binary");case 2:if("string"!=typeof t)throw new Error(s("cannot coerce to buffer: %j",t));return r=new e(t,"binary"),this._check(r,K),r;case 1:if(!(t&&"Buffer"===t.type&&t.data instanceof Array))throw new Error(s("cannot coerce to buffer: %j",t));return r=new e(t.data),this._check(r,K),r;default:return this._check(t,K),new e(t)}},R.prototype.compare=e.compare,R.prototype.random=function(){return l.nextBuffer(l.nextInt(32))},R.prototype.toJSON=function(){return"bytes"},o.inherits(w,_),w.prototype._check=function(t,e){var n=!1;if(null===t)n=void 0!==this._indices.null;else if("object"==typeof t){var r=Object.keys(t);if(1===r.length){var i=r[0],o=this._indices[i];if(void 0!==o)return p.push(i),n=this._types[o]._check(t[i],e),p.pop(),n}}return!n&&e&&e(p.slice(),t,this),n},w.prototype._read=function(t){var e=t.readLong(),n=this._constructors[e];if(n)return new n(this._types[e]._read(t));if(null===n)return null;throw new Error(s("invalid union index: %s",e))},w.prototype._skip=function(t){this._types[t.readLong()]._skip(t)},w.prototype._write=function(t,e){var n,r,i;null===e?(void 0===(n=this._indices.null)&&K(0,e,this),t.writeLong(n)):(1===(r=Object.keys(e)).length&&(i=r[0],n=this._indices[i]),void 0===n&&K(0,e,this),t.writeLong(n),this._types[n]._write(t,e[i]))},w.prototype._match=function(t,e){var n=t.readLong(),r=e.readLong();return n===r?this._types[n]._match(t,e):n<r?-1:1},w.prototype._updateResolver=function(t,e,n){var r,i,o,a;for(r=0,i=this._types.length;r<i;r++){try{o=this._types[r].createResolver(e,n)}catch(t){continue}return a=this._constructors[r],void(t._read=a?function(t){return new a(o._read(t))}:function(){return null})}},w.prototype._copy=function(t,e){var n,r,i,o=e&&0|e.wrap;if(2===o)return null===t&&null===this._constructors[0]?null:new this._constructors[0](this._types[0]._copy(t,e));if(null===t&&void 0!==this._indices.null)return null;if("object"==typeof t){var a=Object.keys(t);if(1===a.length){var s,u,c=a[0];if(void 0===(n=this._indices[c]))for(s=0,r=this._types.length;s<r;s++)if((u=this._types[s])._name&&c===F(u._name)){n=s;break}void 0!==n&&(i=this._types[n]._copy(t[c],e))}}if(1===o&&void 0===i)for(n=0,r=this._types.length;n<r&&void 0===i;)try{i=this._types[n]._copy(t,e)}catch(t){n++}if(void 0!==i)return new this._constructors[n](i);K(0,t,this)},w.prototype.compare=function(t,e){var n=null===t?"null":Object.keys(t)[0],i=null===e?"null":Object.keys(e)[0],o=this._indices[n];return n===i?"null"===n?0:this._types[o].compare(t[n],e[n]):r.compare(o,this._indices[i])},w.prototype.getTypes=function(){return this._types.slice()},w.prototype.random=function(){var t=l.nextInt(this._types.length),e=this._constructors[t];return e?new e(this._types[t].random()):null},w.prototype.toJSON=function(){return this._types},o.inherits(O,_),O.prototype._check=function(t,e){var n=void 0!==this._indices[t];return!n&&e&&e(p.slice(),t,this),n},O.prototype._read=function(t){var e=t.readLong(),n=this._symbols[e];if(void 0===n)throw new Error(s("invalid %s enum index: %s",this._name,e));return n},O.prototype._skip=function(t){t.skipLong()},O.prototype._write=function(t,e){var n=this._indices[e];void 0===n&&K(0,e,this),t.writeLong(n)},O.prototype._match=function(t,e){return t.matchLong(e)},O.prototype.compare=function(t,e){return r.compare(this._indices[t],this._indices[e])},O.prototype._updateResolver=function(t,e){var n=this._symbols;e instanceof O&&~j(this).indexOf(e._name)&&e._symbols.every(function(t){return~n.indexOf(t)})&&(t._symbols=e._symbols,t._read=e._read)},O.prototype._copy=function(t){return this._check(t,K),t},O.prototype.getAliases=function(){return this._aliases},O.prototype.getSymbols=function(){return this._symbols.slice()},O.prototype.random=function(){return l.choice(this._symbols)},O.prototype.toJSON=function(){return{name:this._name,type:"enum",symbols:this._symbols}},o.inherits(A,_),A.prototype._check=function(t,n){var r=e.isBuffer(t)&&t.length===this._size;return!r&&n&&n(p.slice(),t,this),r},A.prototype._read=function(t){return t.readFixed(this._size)},A.prototype._skip=function(t){t.skipFixed(this._size)},A.prototype._write=function(t,n){e.isBuffer(n)&&n.length===this._size||K(0,n,this),t.writeFixed(n,this._size)},A.prototype._match=function(t,e){return t.matchFixed(e,this._size)},A.prototype.compare=e.compare,A.prototype._updateResolver=function(t,e){e instanceof A&&this._size===e._size&&~j(this).indexOf(e._name)&&(t._size=this._size,t._read=this._read)},A.prototype._copy=R.prototype._copy,A.prototype.getAliases=function(){return this._aliases},A.prototype.getSize=function(){return this._size},A.prototype.random=function(){return l.nextBuffer(this._size)},A.prototype.toJSON=function(){return{name:this._name,type:"fixed",size:this._size}},o.inherits(I,_),I.prototype.getValuesType=function(){return this._values},I.prototype._check=function(t,e){if(!t||"object"!=typeof t||t instanceof Array)return e&&e(p.slice(),t,this),!1;var n,r,i,o,a=Object.keys(t),s=!0;if(e){for(i=p.length,p.push(""),n=0,r=a.length;n<r;n++)o=p[i]=a[n],this._values._check(t[o],e)||(s=!1);p.pop()}else for(n=0,r=a.length;n<r;n++)if(!this._values._check(t[a[n]],e))return!1;return s},I.prototype._read=function(t){for(var e,n=this._values,r={};e=G(t);)for(;e--;)r[t.readString()]=n._read(t);return r},I.prototype._skip=function(t){for(var e,n,r=this._values;n=t.readLong();)if(n<0)e=t.readLong(),t.pos+=e;else for(;n--;)t.skipString(),r._skip(t)},I.prototype._write=function(t,e){(!e||"object"!=typeof e||e instanceof Array)&&K(0,e,this);var n,r,i=this._values,o=Object.keys(e),a=o.length;if(a)for(t.writeLong(a),n=0;n<a;n++)r=o[n],t.writeString(r),i._write(t,e[r]);t.writeLong(0)},I.prototype._match=function(){throw new Error("maps cannot be compared")},I.prototype._updateResolver=function(t,e,n){e instanceof I&&(t._values=this._values.createResolver(e._values,n),t._read=this._read)},I.prototype._copy=function(t,e){if(t&&"object"==typeof t&&!(t instanceof Array)){var n,r,i,o=this._values,a=Object.keys(t),s={};for(n=0,r=a.length;n<r;n++)s[i=a[n]]=o._copy(t[i],e);return s}K(0,t,this)},I.prototype.compare=I.prototype._match,I.prototype.random=function(){var t,e,n={};for(t=0,e=l.nextInt(10);t<e;t++)n[l.nextString(l.nextInt(20))]=this._values.random();return n},I.prototype.toJSON=function(){return{type:"map",values:this._values}},o.inherits(N,_),N.prototype._check=function(t,e){if(!(t instanceof Array))return e&&e(p.slice(),t,this),!1;var n,r,i,o=!0;if(e){for(i=p.length,p.push(""),n=0,r=t.length;n<r;n++)p[i]=""+n,this._items._check(t[n],e)||(o=!1);p.pop()}else for(n=0,r=t.length;n<r;n++)if(!this._items._check(t[n],e))return!1;return o},N.prototype._read=function(t){for(var e,n=this._items,r=[];e=t.readLong();)for(e<0&&(e=-e,t.skipLong());e--;)r.push(n._read(t));return r},N.prototype._skip=function(t){for(var e,n;n=t.readLong();)if(n<0)e=t.readLong(),t.pos+=e;else for(;n--;)this._items._skip(t)},N.prototype._write=function(t,e){e instanceof Array||K(0,e,this);var n,r=e.length;if(r)for(t.writeLong(r),n=0;n<r;n++)this._items._write(t,e[n]);t.writeLong(0)},N.prototype._match=function(t,e){for(var n,i=t.readLong(),o=e.readLong();i&&o;){if(n=this._items._match(t,e))return n;--i||(i=G(t)),--o||(o=G(e))}return r.compare(i,o)},N.prototype._updateResolver=function(t,e,n){e instanceof N&&(t._items=this._items.createResolver(e._items,n),t._read=this._read)},N.prototype._copy=function(t,e){t instanceof Array||K(0,t,this);var n,r,i=[];for(n=0,r=t.length;n<r;n++)i.push(this._items._copy(t[n],e));return i},N.prototype.compare=function(t,e){var n,i,o,a=t.length,s=e.length;for(n=0,i=Math.min(a,s);n<i;n++)if(o=this._items.compare(t[n],e[n]))return o;return r.compare(a,s)},N.prototype.getItemsType=function(){return this._items},N.prototype.random=function(){var t,e,n=[];for(t=0,e=l.nextInt(10);t<e;t++)n.push(this._items.random());return n},N.prototype.toJSON=function(){return{type:"array",items:this._items}},o.inherits(C,_),C.prototype._createConstructor=function(t){var e,n,r,i,a,s=[],u=[],c=[],l=t?"  Error.call(this);\n":"";for(e=0,n=this._fields.length;e<n;e++)a=(r=this._fields[e]).getDefault,i=r._name,u.push("v"+e),l+="  ",void 0===a()?l+="this."+i+" = v"+e+";\n":(l+="if (v"+e+" === undefined) { ",l+="this."+i+" = d"+c.length+"(); ",l+="} else { this."+i+" = v"+e+"; }\n",s.push("d"+c.length),c.push(a));var f="return function "+F(this._name)+"(";f+=u.join()+") {\n"+l+"};";var p=new Function(s.join(),f).apply(void 0,c),h=this;return p.getType=function(){return h},p.prototype={constructor:p,$clone:function(t){return h.clone(this,t)},$compare:function(t){return h.compare(this,t)},$getType:p.getType,$isValid:function(t){return h.isValid(this,t)},$toBuffer:function(){return h.toBuffer(this)},$toString:function(t){return h.toString(this,t)}},t&&o.inherits(p,Error),p},C.prototype._createChecker=function(){var t=["t","P"],e=[this,p],n="return function check"+F(this._name)+"(val, cb) {\n";if(n+="  if (val === null || typeof val != 'object') {\n",n+="    if (cb) { cb(P.slice(), val, t); }\n",n+="    return false;\n",n+="  }\n",this._fields.length){for(r=0,i=this._fields.length;r<i;r++)o=this._fields[r],t.push("t"+r),e.push(o._type),void 0!==o.getDefault()&&(n+="  var v"+r+" = val."+o._name+";\n");var r,i,o;for(n+="  if (cb) {\n",n+="    var b = 1;\n",n+="    var j = P.length;\n",n+="    P.push('');\n",r=0,i=this._fields.length;r<i;r++)n+="    P[j] = '"+(o=this._fields[r])._name+"';\n",void 0===o.getDefault()?n+="    b &= t"+r+"._check(val."+o._name+", cb);\n":(n+="    b &= v"+r+" === undefined || ",n+="t"+r+"._check(v"+r+", cb);\n");n+="    P.pop();\n",n+="    return !!b;\n",n+="  } else {\n    return (\n      ",n+=this._fields.map(function(t,e){return void 0===t.getDefault()?"t"+e+"._check(val."+t._name+")":"(v"+e+" === undefined || t"+e+"._check(v"+e+"))"}).join(" &&\n      "),n+="\n    );\n  }\n"}else n+="  return true;\n";return n+="};",new Function(t.join(),n).apply(void 0,e)},C.prototype._createReader=function(){var t,e,n=F(this._name),r=[],i=[this._constructor];for(t=0,e=this._fields.length;t<e;t++)r.push("t"+t),i.push(this._fields[t]._type);var o="return function read"+n+"(tap) {\n";return o+="  return new "+n+"(",o+=r.map(function(t){return t+"._read(tap)"}).join(),o+=");\n};",r.unshift(n),new Function(r.join(),o).apply(void 0,i)},C.prototype._createSkipper=function(){var t,e,n=[],r="return function skip"+F(this._name)+"(tap) {\n",i=[];for(t=0,e=this._fields.length;t<e;t++)n.push("t"+t),i.push(this._fields[t]._type),r+="  t"+t+"._skip(tap);\n";return r+="}",new Function(n.join(),r).apply(void 0,i)},C.prototype._createWriter=function(){var t,e,n,r,i=[],o="return function write"+F(this._name)+"(tap, val) {\n",a=[];for(t=0,e=this._fields.length;t<e;t++)n=this._fields[t],i.push("t"+t),a.push(n._type),o+="  ",void 0===n.getDefault()?o+="t"+t+"._write(tap, val."+n._name+");\n":(r=n._type.toBuffer(n.getDefault()).toString("binary"),i.push("d"+t),a.push(r),o+="var v"+t+" = val."+n._name+"; ",o+="if (v"+t+" === undefined) { ",o+="tap.writeBinary(d"+t+", "+r.length+");",o+=" } else { t"+t+"._write(tap, v"+t+"); }\n");return o+="}",new Function(i.join(),o).apply(void 0,a)},C.prototype._updateResolver=function(t,e,n){if(!~j(this).indexOf(e._name))throw new Error(s("no alias for %s in %s",e._name,this._name));var i,o,a,u,c,l,f=this._fields,p=e._fields,h=r.toMap(p,function(t){return t._name}),d=[],_={};for(i=0;i<f.length;i++){for(c=j(a=f[i]),l=[],o=0;o<c.length;o++)h[u=c[o]]&&l.push(u);if(l.length>1)throw new Error(s("multiple matches for %s",a.name));if(l.length)_[u=l[0]]={resolver:a._type.createResolver(h[u]._type,n),name:a._name},d.push(a._name);else{if(void 0===a.getDefault())throw new Error(s("no match for default-less %s",a.name));d.push("undefined")}}var y=-1;for(i=p.length;i&&void 0===_[p[--i]._name];)y=i;var v=F(this._name),m=[v],g=[this._constructor],E="  return function read"+v+"(tap,lazy) {\n";for(i=0;i<p.length;i++)i===y&&(E+="  if (!lazy) {\n"),E+=~y&&i>=y?"    ":"  ",void 0===_[u=(a=e._fields[i])._name]?(m.push("t"+i),g.push(a._type),E+="t"+i+"._skip(tap);\n"):(m.push("t"+i),g.push(_[u].resolver),E+="var "+_[u].name+" = ",E+="t"+i+"._read(tap);\n");~y&&(E+="  }\n"),E+="  return new "+v+"("+d.join()+");\n};",t._read=new Function(m.join(),E).apply(void 0,g)},C.prototype._match=function(t,e){var n,r,i,o,a,s=this._fields;for(n=0,r=s.length;n<r;n++)if(o=(i=s[n])._order,a=i._type,o){if(o*=a._match(t,e))return o}else a._skip(t),a._skip(e);return 0},C.prototype._copy=function(t,e){var n,r,i,o,a=e&&e.fieldHook,s=[void 0];for(n=0,r=this._fields.length;n<r;n++)o=(i=this._fields[n])._type._copy(t[i._name],e),a&&(o=a(i,o,this)),s.push(o);return new(this._constructor.bind.apply(this._constructor,s))},C.prototype.compare=function(t,e){var n,r,i,o,a,s,u=this._fields;for(n=0,r=u.length;n<r;n++)if(o=(i=u[n])._name,a=i._order,s=i._type,a&&(a*=s.compare(t[o],e[o])))return a;return 0},C.prototype.random=function(){var t=this._fields.map(function(t){return t._type.random()});return t.unshift(void 0),new(this._constructor.bind.apply(this._constructor,t))},C.prototype.getAliases=function(){return this._aliases},C.prototype.getFields=function(){return this._fields.slice()},C.prototype.getRecordConstructor=function(){return this._constructor},C.prototype.toJSON=function(){return{name:this._name,type:"record",fields:this._fields}},o.inherits(P,_),P.prototype.getUnderlyingType=function(){return this._underlyingType},P.prototype._read=function(t){return this._fromValue(this._underlyingType._read(t))},P.prototype._write=function(t,e){this._underlyingType._write(t,this._toValue(e))},P.prototype._check=function(t,e){try{var n=this._toValue(t)}catch(n){return e&&e(p.slice(),t,this),!1}return this._underlyingType._check(n,e)},P.prototype._copy=function(t,e){var n=this._underlyingType;switch(e&&e.coerce){case 3:return n._copy(this._toValue(t),e);case 2:return this._fromValue(n._copy(t,e));default:return this._fromValue(n._copy(this._toValue(t),e))}},P.prototype._updateResolver=function(t,e,n){var r=this._resolve(e,n);r&&(t._read=function(t){return r(e._read(t))})},P.prototype.random=function(){return this._fromValue(this._underlyingType.random())},P.prototype.compare=function(t,e){var n=this._toValue(t),r=this._toValue(e);return this._underlyingType.compare(n,r)},P.prototype.toJSON=function(){return this._underlyingType.toJSON()},P.prototype._fromValue=r.abstractFunction,P.prototype._toValue=r.abstractFunction,P.prototype._resolve=r.abstractFunction,o.inherits(L,E),L.prototype._check=function(t,e){var n=this._isValid(t);return!n&&e&&e(p.slice(),t,this),n},L.prototype._read=function(t){var e,n;if(this._noUnpack?(n=t.pos,t.skipLong(),e=t.buf.slice(n,t.pos)):e=t.unpackLongBytes(t),t.isValid())return this._fromBuffer(e)},L.prototype._write=function(t,e){this._isValid(e)||K(0,e,this);var n=this._toBuffer(e);this._noUnpack?t.writeFixed(n):t.packLongBytes(n)},L.prototype._copy=function(t,e){switch(e&&e.coerce){case 3:return this._toJSON(t);case 2:return this._fromJSON(t);default:return this._fromJSON(JSON.parse(JSON.stringify(this._toJSON(t))))}},L.prototype.random=function(){return this._fromJSON(E.prototype.random())},L.prototype._fromBuffer=r.abstractFunction,L.prototype._toBuffer=r.abstractFunction,L.prototype._fromJSON=r.abstractFunction,L.prototype._toJSON=r.abstractFunction,L.prototype._isValid=r.abstractFunction,L.prototype.compare=r.abstractFunction,k.prototype.getAliases=function(){return this._aliases},k.prototype.getDefault=function(){},k.prototype.getName=function(){return this._name},k.prototype.getOrder=function(){return["descending","ignore","ascending"][this._order+1]},k.prototype.getType=function(){return this._type},k.prototype.inspect=function(){return s("<Field %j>",this._name)},D.prototype.inspect=function(){return"<Resolver>"},t.exports={createType:d,resolveNames:U,stringify:W,types:function(){var t,e,n,r={Type:_,LogicalType:P},i=Object.keys(u);for(t=0,e=i.length;t<e;t++)r[(n=u[i[t]]).name]=n;return r}()}}).call(this,n("qykS").Buffer)},WP9l:function(t,e,n){"use strict";var r=n("asuC"),i=n("cmty"),o=n("m+JC"),a=n("ufco"),s=n("wTd+"),u=n("bZld"),c=n("nAMc"),l=n("/wj6");t.exports={forClient:function(t,e){var n=e||{},f=t.getSDKId(),p=t.getPublicTransport(),h=t.getLogger(),d=t.getABBAClient(),_=t.getDeviceDescriptor(),y="initialVolume"in n?n.initialVolume:1;n.sdkId=t.getUntaggedSDKId(),n.logger=h;var v=o.createACMEPlayer(p,n).then(function(t){return t.player}),m=v.then(function(t){return t.getKeySystemInfo()}).then(function(t){return{keySystem:t.keySystem,supportsVideo:!!t.videoFormats.length}}).catch(function(){return{keySystem:"",supportsVideo:!1}}),g=r.all([_,m]).spread(function(t,e){return t.getCapability("audio_podcasts")&&!n.disableExternalFiles&&t.appendManifestFormat(c.FILE_URLS_EXTERNAL),e.keySystem!==i.WIDEVINE||n.preferMultiDRMFormat?t.appendManifestFormat(c.FILE_IDS_MP4_DUAL,c.FILE_IDS_MP4):t.appendManifestFormat(c.FILE_IDS_MP4,c.FILE_IDS_MP4_DUAL),e.supportsVideo&&t.getCapability("video_playback")&&t.appendManifestFormat(c.MANIFEST_IDS_VIDEO),t}),E=a.create({trackPlayer:v}),b=s.create({ListClass:u,clientVersion:f,transport:p,logger:h,listPlayer:E,descriptor:g,endpoint:n.endpoint,abbaClient:d,initialVolume:y});return new l({client:t,descriptor:g,listPlayer:E,tpApiClient:b,playerPromise:v,initialVolume:y})},of:function(t){return t._streamer}}},WSLi:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("P1TA");function a(t){i.call(this);var n=t||{};this._navigator=e.navigator,"function"==typeof e.addEventListener&&(e.addEventListener("online",this.emitSync.bind(this,o.CONNECTION_ONLINE,{})),e.addEventListener("offline",this.emitSync.bind(this,o.CONNECTION_OFFLINE,{})),n.notifyBeforeUnload&&e.addEventListener(o.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,o.WINDOW_BEFORE_UNLOAD,{})))}r(a,i),a.create=function(t){return new a(t)},a.prototype.isOnline=function(){var t=this._navigator;return!(t&&"onLine"in t)||t.onLine},t.exports=a}).call(this,n("pCvA"))},We69:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},WnZh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.renameKeys=e.addKeysPrefix=void 0;var r=n("yWAF"),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};e.addKeysPrefix=function(t){return function(e){return function(n){return(0,r.toPairs)(n).reduce(function(n,r){var o,a=r[0],s=r[1],u=t.includes(a)?""+e+a:a;return i({},n,((o={})[u]=s,o))},{})}}},e.renameKeys=function(t){return function(e){return(0,r.reduce)(function(n,r){return t[r]?n[t[r]]=e[r]:n[r]=e[r],n},{},(0,r.keys)(e))}};var o={extend:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Object.assign.apply(Object,[t].concat(e))},clone:function(t){return Object.assign({},t)},bindAll:function(t,e){var n;if(1===arguments.length)for(n in t)"function"==typeof t[n]&&(t[n]=t[n].bind(t));else if(e)for(n in e)"function"==typeof t[e[n]]&&(t[e[n]]=t[e[n]].bind(t));return t},getPreferredUrl:function(t){if(!Array.isArray(t)||!t.length)return null;var e=["video/webm"],n=t.filter(function(t){return e.indexOf(t.mimeType)>-1}).sort(function(t,e){var n=Math.abs(t.bitrate-640),r=Math.abs(e.bitrate-640);return n>r?1:r<n?-1:0});return n.length?n[0].url:null}};e.default=o},WshP:function(t,e,n){"use strict";var r,i,o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.InternalEvents=e.EndReason=e.BufferType=void 0,e.BufferType=r,function(t){t.INITIAL="initial",t.SEEK="seek",t.STALL="stall"}(r||(e.BufferType=r={})),e.EndReason=i,function(t){t.PLAYED_TO_END="playedToEnd",t.FATAL_ERROR="fatalError",t.REQUESTED="requested"}(i||(e.EndReason=i={})),e.InternalEvents={CHANGE:"change"},function(t){t.CREATED="created",t.MANIFEST_LOADING="manifestLoading",t.MANIFEST_LOADED="manifestLoaded",t.ENCRYPTION_KEY_LOADING="encryptionKeyLoading",t.ENCRYPTION_KEY_LOADED="encryptionKeyLoaded",t.BUFFERING="buffering",t.DROPPED_FRAMES="droppedFrames",t.READY="ready",t.STARTED="started",t.PAUSED="paused",t.RESUMED="resumed",t.SEEKING="seeking",t.ENDED="ended",t.RECOVERABLE_ERROR="recoverableError",t.FATAL_ERROR="fatalError",t.BYTES_TRANSFERRED="bytesTransferred",t.SUBTITLE_CHANGED="subtitleChanged",t.VIDEO_FORMAT_CHANGED="videoFormatChanged",t.AUDIO_FORMAT_CHANGED="audioFormatChanged",t.FULLSCREEN_CHANGED="fullscreenChanged",t.VOLUME_CHANGED="volumeChanged",t.PROGRESS="progress",t.POSITION_UPDATE="positionUpdate",t.DURATION_CHANGED="durationChanged",t.NEW_SESSION_LOADED="newSessionLoaded"}(o||(o={}));var a=o;e.default=a},WuMz:function(t,e,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},X0BS:function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("UjBt")(t,{key:{type:"string",nullable:!0},metric_type:{type:"string",nullable:!0},what:{type:"string",nullable:!0},value:{type:"number",nullable:!0},tags:{type:"string",complex_type:"Object",nullable:!0}})),{name:"SemanticMetricBrowser",data:e}}},X7EK:function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},XDJR:function(t,e,n){"use strict";var r,i,o=(r=n("06Hw"))&&r.__esModule?r:{default:r},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(i=u(o.default.mark(function t(e){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.suggestFetch();case 3:(n=t.sent)&&(p=n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(t){return i.apply(this,arguments)});function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}("next")})}}var c=n("KlUR"),l="{file_id}",f=new RegExp("^https://i.scdn.co/image/([0-9a-f]{40})$"),p={},h="https://i.scdn.co/image/"+l,d=null;function _(t,e){if(t.length<40)return y(t,h);var n=t.substring(0,8),r=t.substring(16),i=function(t,e,n){if(!e)return null;var r=p[t]||[];if(!r.length)return null;var i=r.filter(function(t){return n=t.metadata,r=e,n.width>=r&&n.height>=r;var n,r});return i.length?i.reduce(E):r.reduce(g)}(n,e);return i?y(n+i.id+r,i.url):y(t,h)}function y(t,e){return{imageId:t,cdnUrl:e.replace(l,t)}}var v=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spotifyBackendFetch=e,this.clock=n,this.nextFetch=0,this.fetchDelaySeconds=r}var e;return a(t,[{key:"suggestFetch",value:(e=u(o.default.mark(function t(){var e,n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.clock()<this.nextFetch)){t.next=2;break}return t.abrupt("return",null);case 2:return this.nextFetch=214e7,t.next=5,this.spotifyBackendFetch("/image-resolve/v1/resolve/map?alt=json");case 5:return e=t.sent,this.nextFetch=this.clock()+this.fetchDelaySeconds,t.next=9,e.json();case 9:return n=t.sent,t.abrupt("return",b(n));case 11:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})}]),t}();function m(t){return 2*(t.width+t.height)}function g(t,e){return m(t.metadata)>=m(e.metadata)?t:e}function E(t,e){return m(t.metadata)<m(e.metadata)?t:e}function b(t){var e={},n=t.projectionMap||{};return(n.collections||[]).forEach(function(t){var r=T(t.id);e[r]=t.projections.map(function(t){return{id:T(t.id),url:n.urlTemplates[t.urlTemplateIndex||0],metadata:n.projectionMetas[t.metadataIndex||0]}})}),e}function T(t){return c.toByteArray(t).reduce(function(t,e){return t+("0"+e.toString(16)).slice(-2)},"")}var S=60;function R(t,e,n){var r=new v(t,e,S);return function(){return s(r)}}t.exports={resolveImage:_,resolveImageFromUrl:function(t,e){var n=f.exec(t);return n?_(n[1],e):{imageId:null,cdnUrl:t}},startBackendPoll:function(t){var e=R(t,function(){return Date.now()/1e3});return e(),d&&clearInterval(d),d=setInterval(function(){return e()},1e3*S/5)},_getConfigFetch:R}},XNbM:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},XPvw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={accented:{prefix:"",postfix:"",map:{a:"ȧ",A:"Ȧ",b:"ƀ",B:"Ɓ",c:"ƈ",C:"Ƈ",d:"ḓ",D:"Ḓ",e:"ḗ",E:"Ḗ",f:"ƒ",F:"Ƒ",g:"ɠ",G:"Ɠ",h:"ħ",H:"Ħ",i:"ī",I:"Ī",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"ŀ",L:"Ŀ",m:"ḿ",M:"Ḿ",n:"ƞ",N:"Ƞ",o:"ǿ",O:"Ǿ",p:"ƥ",P:"Ƥ",q:"ɋ",Q:"Ɋ",r:"ř",R:"Ř",s:"ş",S:"Ş",t:"ŧ",T:"Ŧ",v:"ṽ",V:"Ṽ",u:"ŭ",U:"Ŭ",w:"ẇ",W:"Ẇ",x:"ẋ",X:"Ẋ",y:"ẏ",Y:"Ẏ",z:"ẑ",Z:"Ẑ"},elongate:!0},bidi:{prefix:"‮",postfix:"‬",map:{a:"ɐ",A:"∀",b:"q",B:"Ԑ",c:"ɔ",C:"Ↄ",d:"p",D:"ᗡ",e:"ǝ",E:"Ǝ",f:"ɟ",F:"Ⅎ",g:"ƃ",G:"⅁",h:"ɥ",H:"H",i:"ı",I:"I",j:"ɾ",J:"ſ",k:"ʞ",K:"Ӽ",l:"ʅ",L:"⅂",m:"ɯ",M:"W",n:"u",N:"N",o:"o",O:"O",p:"d",P:"Ԁ",q:"b",Q:"Ò",r:"ɹ",R:"ᴚ",s:"s",S:"S",t:"ʇ",T:"⊥",u:"n",U:"∩",v:"ʌ",V:"Ʌ",w:"ʍ",W:"M",x:"x",X:"X",y:"ʎ",Y:"⅄",z:"z",Z:"Z"},elongate:!1}};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.strategy,i=void 0===n?"accented":n,o=r[i],a="",s=!0,u=!1,c=void 0;try{for(var l,f=t[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value;if(o.map[p]){var h=p.toLowerCase();!o.elongate||"a"!==h&&"e"!==h&&"o"!==h&&"u"!==h?a+=o.map[p]:a+=o.map[p]+o.map[p]}else a+=p}}catch(t){u=!0,c=t}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return a.startsWith(o.prefix)&&a.endsWith(o.postfix)?a:o.prefix+a+o.postfix}},XR8V:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"shaka",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"player",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"BetamaxPlayer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"BetamaxPlayerFactory",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"PlaybackSession",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"PlaybackSessionFactory",{enumerable:!0,get:function(){return c.default}});var i=r(n("OlH2")),o=r(n("S0cF")),a=r(n("31DF")),s=r(n("LWjj")),u=r(n("eSJY")),c=r(n("Kcgw"))},XXzu:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("8Pwi"),s=n("qt0y"),u=n("tCOP"),c=n("9O1+");function l(t){var e=this.mediaKeys;return e&&e!==t&&e.detach(this),delete this.mediaKeys,this.mediaKeys=t,t?t.attach(this):o.resolve()}function f(t,e){if(this.keySystem=t,this._configuration=null,!this._checkConfig(e))throw new u(s.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations")}function p(t){this._nativeMediaKeys=new e.MSMediaKeys(t),this._lastBoundSetter=null,this.shouldRefreshPerTrack=!0}function h(t){i.call(this),this._nativeMediaKeys=t,this._nativeKeySession=null,this._lastUpdateDeferred=null,this._lastGenerateDeferred=null,this.addEventListener=this.addListener,this.removeEventListener=this.removeListener,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}f.prototype._checkConfig=function(t){for(var n=this.keySystem,r=0,i=t.length;r<i;r++){var o,a,s,u,c,l=t[r],f={initDataTypes:l.initiDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"],label:l.label};if(l.audioCapabilities&&l.audioCapabilities.length)for(c=!1,o=0,a=l.audioCapabilities.length;o<a;o++)u=(s=l.audioCapabilities[o]).contentType.split(";")[0],e.MSMediaKeys.isTypeSupported(n,u)&&(f.audioCapabilities.push(s),c=!0);if(l.videoCapabilities&&l.videoCapabilities.length)for(c=!1,o=0,a=l.videoCapabilities.length;o<a;o++)u=(s=l.videoCapabilities[o]).contentType.split(";")[0],e.MSMediaKeys.isTypeSupported(n,u)&&(f.videoCapabilities.push(s),c=!0);if(c)return this._configuration=f,!0}return!1},f.prototype.getConfiguration=function(){return this._configuration},f.prototype.createMediaKeys=function(){var t=this.keySystem;return new o(function(e){e(new p(t))})},p.prototype.attach=function(t){return new o(function(e){if(t.readyState>=1)return t.msSetMediaKeys(this._nativeMediaKeys),void e();var n=function(){t.removeEventListener(a.MEDIA_LOADEDMETADATA,n),this._lastBoundSetter=null,t.msSetMediaKeys(this._nativeMediaKeys)}.bind(this);this._lastBoundSetter=n,t.addEventListener(a.MEDIA_LOADEDMETADATA,n),t.addEventListener(a.MS_NEEDKEY,c),e()}.bind(this))},p.prototype.detach=function(t){this._lastBoundSetter&&(t.removeEventListener(a.MS_NEEDKEY,c),t.removeEventListener(a.MEDIA_LOADEDMETADATA,this._lastBoundSetter),this._lastBoundSetter=null)},p.prototype.setServerCertificate=function(){return o.reject(new u(s.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM,"Cannot set server certificate on this platform."))},p.prototype.createSession=function(){return new h(this._nativeMediaKeys)},r(h,i),h.prototype._attach=function(){var t=this._nativeKeySession;t.addEventListener(a.MS_KEY_ADDED,this._onKeyAdded),t.addEventListener(a.MS_KEY_ERROR,this._onKeyError),t.addEventListener(a.MS_KEY_MESSAGE,this._onKeyMessage)},h.prototype._detach=function(){var t=this._nativeKeySession;t.removeEventListener(a.MS_KEY_ADDED,this._onKeyAdded),t.removeEventListener(a.MS_KEY_ERROR,this._onKeyError),t.removeEventListener(a.MS_KEY_MESSAGE,this._onKeyMessage)},h.prototype._onKeyMessage=function(t){t.message&&t.message.buffer&&(this.emit(a.KEY_SESSION_MESSAGE,{messageType:"license-request",message:t.message.buffer}),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null))},h.prototype._onKeyAdded=function(){this._lastUpdateDeferred&&(this._lastUpdateDeferred.resolve(!0),this._lastUpdateDeferred=null),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null),this.emit(a.KEY_SESSION_STATUSES_CHANGE)},h.prototype._onKeyError=function(){var t=this._nativeKeySession.error;this._lastGenerateDeferred&&(this._lastGenerateDeferred.reject(t),this._lastGenerateDeferred=null),this._lastUpdateDeferred&&(this._lastUpdateDeferred.reject(t),this._lastUpdateDeferred=null),this.emit(a.KEY_SESSION_STATUSES_CHANGE)},h.prototype.generateRequest=function(t,n){return new o(function(t,r){this._lastGenerateDeferred={resolve:t,reject:r},this._nativeKeySession=this._nativeMediaKeys.createSession("audio/mp4",new e.Uint8Array(n),null),this._attach()}.bind(this))},h.prototype.update=function(t){return new o(function(n,r){this._lastUpdateDeferred={resolve:n,reject:r},this._nativeKeySession.update(new e.Uint8Array(t))}.bind(this))},h.prototype.close=function(){return new o(function(t){this._nativeKeySession.close(),this._detach(),t(!0)}.bind(this))},t.exports={setup:function(){e.navigator.requestMediaKeySystemAccess=function(t,e){return new o(function(n){n(new f(t,e))})};var t=e.HTMLMediaElement;t&&(delete t.prototype.mediaKeys,t.prototype.setMediaKeys=l)}}}).call(this,n("pCvA"))},Xcej:function(t){t.exports=JSON.parse('{"tagged":"3.22.1-437efc7","version":"3.22.1","revision":"437efc7"}')},XrU5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return[].slice.call(t.querySelectorAll("*"),0).filter(o)};var r=/input|select|textarea|button|object/;function i(t){var e=t.offsetWidth<=0&&t.offsetHeight<=0;if(e&&!t.innerHTML)return!0;var n=window.getComputedStyle(t);return e?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function o(t){var e=t.getAttribute("tabindex");null===e&&(e=void 0);var n=isNaN(e);return(n||e>=0)&&function(t,e){var n=t.nodeName.toLowerCase();return(r.test(n)&&!t.disabled||"a"===n&&t.href||e)&&function(t){for(var e=t;e&&e!==document.body;){if(i(e))return!1;e=e.parentNode}return!0}(t)}(t,!n)}t.exports=e.default},Y7gb:function(t,e,n){"use strict";var r=n("63Ad");e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,i.default)(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var i=r(n("rKUl"));t.exports=e.default},YD67:function(t,e,n){"use strict";function r(t,e){Error.call(this,t),this.code=t,this.message=e}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="CappingError",t.exports=r},YDM6:function(t,e,n){"use strict";var r=n("/ub/");t.exports=function(t){if(!t||t.length%2!=0)throw new TypeError("Invalid clientId value.");var e=t.match(/[0-9a-f]{2}?/g);if(!e||!e.length)throw new TypeError("Invalid clientId value.");var n=String.fromCharCode.apply(null,e.map(function(t){return parseInt(t,16)})),i=r.encode(n);return function(){return{name:"context_client_id",data:{value:i}}}}},Yr0C:function(t,e){if(!n)var n={map:function(t,e){var n={};return e?t.map(function(t,r){return n.index=r,e.call(n,t)}):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,r,i){return n.index=i,t+e.call(n,r)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?n.map(t,e):t)}};var r=function(){var t=5,e=8-t,r=1e3;function i(e,n,r){return(e<<2*t)+(n<<t)+r}function o(t){var e=[],n=!1;function r(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||r(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||r(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||r(),e}}}function a(t,e,n,r,i,o,a){this.r1=t,this.r2=e,this.g1=n,this.g2=r,this.b1=i,this.b2=o,this.histo=a}function s(){this.vboxes=new o(function(t,e){return n.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function u(t,e){if(e.count()){var r=e.r2-e.r1+1,o=e.g2-e.g1+1,a=e.b2-e.b1+1,s=n.max([r,o,a]);if(1==e.count())return[e.copy()];var u,c,l,f,p=0,h=[],d=[];if(s==r)for(u=e.r1;u<=e.r2;u++){for(f=0,c=e.g1;c<=e.g2;c++)for(l=e.b1;l<=e.b2;l++)f+=t[i(u,c,l)]||0;p+=f,h[u]=p}else if(s==o)for(u=e.g1;u<=e.g2;u++){for(f=0,c=e.r1;c<=e.r2;c++)for(l=e.b1;l<=e.b2;l++)f+=t[i(c,u,l)]||0;p+=f,h[u]=p}else for(u=e.b1;u<=e.b2;u++){for(f=0,c=e.r1;c<=e.r2;c++)for(l=e.g1;l<=e.g2;l++)f+=t[i(c,l,u)]||0;p+=f,h[u]=p}return h.forEach(function(t,e){d[e]=p-t}),function(t){var n,r,i,o,a,s=t+"1",c=t+"2",l=0;for(u=e[s];u<=e[c];u++)if(h[u]>p/2){for(i=e.copy(),o=e.copy(),a=(n=u-e[s])<=(r=e[c]-u)?Math.min(e[c]-1,~~(u+r/2)):Math.max(e[s],~~(u-1-n/2));!h[a];)a++;for(l=d[a];!l&&h[a-1];)l=d[--a];return i[c]=a,o[s]=i[c]+1,[i,o]}}(s==r?"r":s==o?"g":"b")}}return a.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var e=this.histo;if(!this._count_set||t){var n,r,o,a=0;for(n=this.r1;n<=this.r2;n++)for(r=this.g1;r<=this.g2;r++)for(o=this.b1;o<=this.b2;o++)a+=e[i(n,r,o)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new a(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var r,o,a,s,u=0,c=1<<8-t,l=0,f=0,p=0;for(o=this.r1;o<=this.r2;o++)for(a=this.g1;a<=this.g2;a++)for(s=this.b1;s<=this.b2;s++)u+=r=n[i(o,a,s)]||0,l+=r*(o+.5)*c,f+=r*(a+.5)*c,p+=r*(s+.5)*c;this._avg=u?[~~(l/u),~~(f/u),~~(p/u)]:[~~(c*(this.r1+this.r2+1)/2),~~(c*(this.g1+this.g2+1)/2),~~(c*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var n=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},s.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,r,i=this.vboxes,o=0;o<i.size();o++)((n=Math.sqrt(Math.pow(t[0]-i.peek(o).color[0],2)+Math.pow(t[1]-i.peek(o).color[1],2)+Math.pow(t[2]-i.peek(o).color[2],2)))<e||void 0===e)&&(e=n,r=i.peek(o).color);return r},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return n.naturalOrder(n.sum(t.color),n.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,i=t[r].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[r].color=[255,255,255])}},{quantize:function(c,l){if(!c.length||l<2||l>256)return!1;var f=function(n){var r,o,a,s,u=new Array(1<<3*t);return n.forEach(function(t){o=t[0]>>e,a=t[1]>>e,s=t[2]>>e,r=i(o,a,s),u[r]=(u[r]||0)+1}),u}(c);f.forEach(function(){});var p=function(t,n){var r,i,o,s=1e6,u=0,c=1e6,l=0,f=1e6,p=0;return t.forEach(function(t){r=t[0]>>e,i=t[1]>>e,o=t[2]>>e,r<s?s=r:r>u&&(u=r),i<c?c=i:i>l&&(l=i),o<f?f=o:o>p&&(p=o)}),new a(s,u,c,l,f,p,n)}(c,f),h=new o(function(t,e){return n.naturalOrder(t.count(),e.count())});function d(t,e){for(var n,i=1,o=0;o<r;)if((n=t.pop()).count()){var a=u(f,n),s=a[0],c=a[1];if(!s)return;if(t.push(s),c&&(t.push(c),i++),i>=e)return;if(o++>r)return}else t.push(n),o++}h.push(p),d(h,.75*l);for(var _=new o(function(t,e){return n.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});h.size();)_.push(h.pop());d(_,l-_.size());for(var y=new s;_.size();)y.push(_.pop());return y}}}();t.exports=r.quantize},YyRf:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("wrle"),o=n("lIgl"),a=n("dcjB"),s=n("qG8n"),u=n("asuC"),c=n("PCVr"),l=n("wLpq"),f=n("wG4G"),p=n("ahND"),h=n("s2Nl"),d=n("f1wx"),_=n("GX8z"),y=n("r3Ta"),v=n("lrHd").forTag("transport.transport"),m=/^(?:https?:\/\/)?@([^\/]+)\//,g=/^(ws|http)s?:\/\/.*[^\/]$/,E=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,b={fetch:!0,xhr:!0};function T(t){if(!t)throw new TypeError("Argument `config` for Transport cannot be null.");if(!t.providers)throw new TypeError("Argument `config.providers` for Transport cannot be null.");s.call(this),this._tokenProvider=t.providers.token,this._endpointsProvider=t.providers.endpoints,this._HTTP=t.HTTP,this._Fetch=t.Fetch,this._reconnectionRetries=t.reconnectionRetries>=0?t.reconnectionRetries:3,this._requestMode=t.requestMode in b?t.requestMode:"xhr",this._forcePolyfillTypes=t.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in t&&t.disableAutoLogout,this._activated=!1,this._dealer=null,this._connectionObserver=null,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=!1,this._reconnectTimeout=null,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._disconnectBeforeUnload=t.disconnectBeforeUnload||!1,this._counter=new a(t.backoffStrategy||{algo:"exp",baseTime:5e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[]},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null},this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._init()}r(T,s),T.create=function(t){return new T(t)},T.prototype._init=function(){this.onAddListener(_.TRANSPORT_CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(_.TRANSPORT_AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(_.TRANSPORT_CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(_.TRANSPORT_CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(_.TRANSPORT_AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(_.TRANSPORT_CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),"fetch"!==this._requestMode||this._Fetch.isSupported()||(v.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");var t=new l;this._dealer=t,t.on(_.DEALER_DISCONNECTED,this._onDealerDisconnected.bind(this)),this._disableAutoLogout||this.matchMessages("client:logout",this._onLogout.bind(this)),this.proxyEmit(t,_.DEALER_CONNECTION_ID,_.TRANSPORT_CONNECTION_ID),this.proxyEmitSync(t,_.DEALER_MESSAGE,_.INTERNAL_DEALER_MESSAGE),this.proxyEmitSync(t,_.DEALER_REQUEST,_.INTERNAL_DEALER_REQUEST),this._connectionObserver=new f({notifyBeforeUnload:this._disconnectBeforeUnload}),this._connectionObserver.on(_.CONNECTION_ONLINE,this._onOnline.bind(this)),this._connectionObserver.on(_.CONNECTION_OFFLINE,this._onOffline.bind(this)),this._connectionObserver.on(_.WINDOW_BEFORE_UNLOAD,this.disconnect.bind(this))},T.prototype._onAddListener=function(t,e){if(!e.options.ignoreCurrentState){var n=null;switch(t){case"connected":if(!this.isConnected())return;n=u.resolve(s.createEvent(_.TRANSPORT_CONNECTED));break;case"authenticated":if(!this.isAuthenticated())return;n=u.resolve(s.createEvent(_.TRANSPORT_AUTHENTICATED));break;case"connection_id":if(!this._dealer.hasConnectionId())return;n=this._dealer.getConnectionInfo().then(function(t){return s.createEvent(_.TRANSPORT_CONNECTION_ID,t)});break;default:return}var r=e.listener;this._stateAwareListeners[t].push(r);var i=this._stateAwareRunners;i[t]||(i[t]=n.then(this._runStateAwareQueues.bind(this,t)),e.options.once&&e.preventDefault())}},T.prototype._onRemoveListener=function(t,e){if(!e.options.ignoreCurrentState){var n=e.listener,r=this._stateAwareListeners[t].indexOf(n);-1!==r&&this._stateAwareListeners[t].splice(r,1)}},T.prototype._runStateAwareQueues=function(t,e){for(var n=this._stateAwareListeners[t].splice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);this._stateAwareRunners[t]=null},T.prototype._onDealerDisconnected=function(t){var e=Date.now(),n=e-this._lastDisconnect;this._disconnect(!0),t.wsCode!==y.CLOSE?this._connectionObserver.isOnline()&&(n<5e3?(this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(_.TRANSPORT_SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n})),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._counter.getTime(this._quickDisconnectCount))):(this._quickDisconnectCount=0,this._lastDisconnect=e,this._tryToReconnect())):this._quickDisconnectCount=0},T.prototype._onLogout=function(){var t=function(){this._lastToken=null,this._lastTokenExpiry=0,this.emit(_.TRANSPORT_LOGGED_OUT)}.bind(this);this.disconnect().then(t,t)},T.prototype._onAuthenticated=function(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=4,this._initTime=Date.now(),this.emit(_.TRANSPORT_AUTHENTICATED),u.resolve(!0)},T.prototype._onAuthenticationFailed=function(t){var e=t&&t.error?t.error:t;return this._authenticationPromise=null,this._stateMask&=-5,this.emit(_.TRANSPORT_AUTHENTICATION_FAILED,{error:e}),u.reject(e)},T.prototype._onOffline=function(){this.emit(_.TRANSPORT_CONNECTION_OFFLINE),this._disconnect(!0)},T.prototype._onOnline=function(){this.emit(_.TRANSPORT_CONNECTION_ONLINE),this._activated&&this._tryToReconnect()},T.prototype._tryToReconnect=function(){if(!this._isReconnecting){this._stateMask=0;var t=function(){return this._isReconnecting=!0,this.emit(_.TRANSPORT_RECONNECTING),this._disconnect(!0),this._connect().then(function(){return this.authenticate()}.bind(this)).then(function(){return this._isReconnecting=!1,this.emit(_.TRANSPORT_RECONNECTED),!0}.bind(this))}.bind(this);o.init(t,{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(function(){this._stateMask=0,this._isReconnecting=!1,this.emit(_.TRANSPORT_DISCONNECTED)}.bind(this))}},T.prototype._connect=function(){return 1&this._stateMask?u.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new u(function(t,e){this._connectionObserver.once(_.CONNECTION_ONLINE,function(){this._performConnect().then(t,e)}.bind(this))}.bind(this))},T.prototype._performConnect=function(){return this._endpointsProvider(this.toPublic()).then(this._connectToEndpoints.bind(this)).catch(function(t){var e=t&&t.error?t.error:t;return this.emit(_.TRANSPORT_CONNECTION_FAILED,{error:e}),u.reject(e)}.bind(this))},T.prototype._connectToEndpoints=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)&&t[n]){var r=t[n];g.test(r)&&(r+="/"),e[n]=r}this._endpoints=e,this.emit(_.TRANSPORT_ENDPOINTS_RESOLVED,{endpoints:i({},this._endpoints)});var o=function(){return this._stateMask|=1,this.emit(_.TRANSPORT_CONNECTED),u.resolve(!0)}.bind(this);return t.dealer?this._dealer.connect(e.dealer).then(o):o()},T.prototype._disconnect=function(t){return this._stateMask=0,this._dealer.disconnect(),t||this.emit(_.TRANSPORT_DISCONNECTED),!0},T.prototype._refreshToken=function(t){if(!this._refreshTokenPromise){if(!t&&Date.now()<this._lastTokenExpiry)return u.resolve(this._lastToken);var e=function(){this._refreshTokenPromise=null}.bind(this);this._refreshTokenPromise=this._tokenProvider().then(this._parseProvidedToken),this._refreshTokenPromise.then(e,e)}return this._refreshTokenPromise},T.prototype._parseProvidedToken=function(t){var e,n;if(Array.isArray(t)?(e=t[0],n=parseInt(t[1]||3540,10)):(e=t,n=3540),!e)throw this._lastToken=null,this._lastTokenExpiry=0,new TypeError("Token provider returned an invalid token: "+e);return this._lastToken=e,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(_.TRANSPORT_ACCESS_TOKEN,{token:e}),e},T.prototype._authenticateWithToken=function(t){return this._endpoints.dealer?this._dealer.authenticate(t):u.resolve(!0)},T.prototype._tryExpandSpecialURL=function(t){var e=this._endpoints;return t.replace(m,function(t,n){if(!e.hasOwnProperty(n))throw new TypeError("Cannot replace endpoint @"+n+"; Endpoint undefined.");return e[n]})},T.prototype._processRequestArgs=function(t,e){return new u(function(n){var r=t,o=e||{},a={algo:"exp",maxRetries:2};m.test(r)&&(r=this._tryExpandSpecialURL(r),"authorize"in o||(o.authorize=!0)),o.forcePolyfill=o.responseType in this._forcePolyfillTypes,o.requestMode||(o.requestMode=this._requestMode),"retry"in o&&i(a,o.retry),o.connectionObserver=this._connectionObserver,n({url:r,args:o,backoffStrategy:a})}.bind(this))},T.prototype._setAuthHeader=function(t,e){if(!t.authorize)return u.resolve(t);var n=function(){return this._refreshToken(e).then(function(e){return t.headers||(t.headers={}),t.headers.Authorization="Bearer "+e,t})}.bind(this);return 4&this._stateMask?n():new u(function(t,e){this.once("authenticated",function(){n().then(t,e)})}.bind(this))},T.prototype._sendRetriedRequest=function(t){var e=t.backoffStrategy,n=!1,r=function(){return this._setAuthHeader(t.args,n)}.bind(this),i=this._connectionObserver,a=function(){return(i.isOnline()?r():new u(function(e,n){t.args.allowOffline?r().then(e,n):i.once(_.CONNECTION_ONLINE,function(){r().then(e,n)})})).then(function(){return"fetch"===t.args.requestMode&&this._Fetch.isSupported()?this._Fetch.request(t.url,t.args):this._HTTP.request(t.url,t.args)}.bind(this)).then(function(r){var i;if(r.headers&&(i=r.headers.get("Retry-After")),r.status===h.UNAUTHORIZED&&!t.args.ignoreUnauthorized)return n=!0,u.reject(r);if("function"==typeof e.condition&&e.condition(r,d)||i){var o=parseInt(i,10);return E.test(i)?r.retryAfter=new Date(i).getTime()-Date.now():o>0&&(r.retryAfter=1e3*o),u.reject(r)}return r})}.bind(this);return o.init(a,e).catch(this._handleRetriedRequestError).then(function(e){return t.args.rejectNotOk&&!e.ok?u.reject(e):e})},T.prototype._handleRetriedRequestError=function(t){return t instanceof p?u.resolve(t):u.reject(t)},T.prototype._sendFireAndForgetRequest=function(t){return"function"==typeof e.fetch?e.fetch(t,{mode:"no-cors"}).catch(function(){}):e.Image?(new e.Image).src=t:this.request(t,{requestMode:"xhr",method:"GET",authorize:!1,ignoreResponseBody:!0}),u.resolve(new p(t,0))},T.prototype._sendRequest=function(t,e){return this._processRequestArgs(t,e).then(function(t){return t.args.forget?this._sendFireAndForgetRequest(t.url):this._sendRetriedRequest(t)}.bind(this))},T.prototype.getEndpoints=function(){return i({},this._endpoints)},T.prototype.getInitTime=function(){return this._initTime},T.prototype.getLastToken=function(){return this._lastToken},T.prototype.getConnectionId=function(){return this._dealer.getConnectionId()},T.prototype.isConnected=function(){return!!(1&this._stateMask)},T.prototype.isAuthenticated=function(){return!!(4&this._stateMask)},T.prototype.isOnline=function(){return this._connectionObserver.isOnline()},T.prototype.forceTokenRefresh=function(){return this._refreshToken(!0).then(function(){return!0})},T.prototype.connect=function(){return this._activated=!0,this._connect()},T.prototype.disconnect=function(){if(!this._activated)return u.resolve(!1);this._activated=!1;var t=this.isConnected()?_.TRANSPORT_BEFORE_ONLINE_DISCONNECT:_.TRANSPORT_BEFORE_OFFLINE_DISCONNECT,e=[];return this.emitSync(t,{awaitPromise:function(t){e.push(t)}}),u.all(e).then(this._disconnect.bind(this,!1))},T.prototype.forceDisconnect=function(){return this._activated?(this._activated=!1,this._disconnect(),u.resolve(!0)):u.resolve(!1)},T.prototype.authenticate=function(){return this._authenticationPromise||(this._authenticationPromise=o.init(function(){return this._refreshToken().then(this._authenticateWithToken.bind(this))}.bind(this),{algo:"exp",maxRetries:2,baseTime:500}).then(this._onAuthenticated).catch(this._onAuthenticationFailed)),this._authenticationPromise},T.prototype.request=function(t,e){var n=this._sendRequest.bind(this,t,e);return this._connectionObserver.isOnline()&&(!m.test(t)||1&this._stateMask)?n():new u(function(t,e){this.once("connected",function(){n().then(t,e)})}.bind(this))},T.prototype.matchMessages=function(t,e){if(!t)throw new TypeError('Dealer message "matcher" cannot be null.');if("function"!=typeof e)throw new TypeError("Dealer message callback cannot be null.");var n=function(n){var r=n.data;r.uri&&r.uri.match(t)&&e(r)};n.__matchMessagesExp=t,e.__matchMessagesWrapper=n,this.on(_.INTERNAL_DEALER_MESSAGE,n)},T.prototype.unmatchMessages=function(t,e){if("function"!=typeof e)throw new TypeError("Dealer message callback cannot be null.");var n=e.__matchMessagesWrapper;return n.__matchMessagesExp===t&&(this.removeListener(_.INTERNAL_DEALER_MESSAGE,n),!0)},T.prototype.handlePushRequests=function(t,e){if(!t)throw new TypeError('Dealer push request "matcher" cannot be null.');if("function"!=typeof e)throw new TypeError("Dealer push request callback cannot be null.");var n=function(n){var r=n.data;r.message_ident&&r.message_ident.match(t)&&u.resolve(e(r)).then(n.reply)};n.__matchRequestExp=t,e.__matchRequestWrapper=n,this.on(_.INTERNAL_DEALER_REQUEST,n)},T.prototype.unhandlePushRequests=function(t,e){if("function"!=typeof e)throw new TypeError("Dealer push request callback cannot be null.");var n=e.__matchRequestWrapper;return n.__matchRequestWrapper===t&&(this.removeListener(_.INTERNAL_DEALER_REQUEST,n),!0)},T.prototype.toPublic=function(){return new c(this)},t.exports=T}).call(this,n("pCvA"))},"Z/ih":function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("E6BA");function a(t){i.call(this);var n=t||{};this._navigator=e.navigator,"function"==typeof e.addEventListener&&(e.addEventListener("online",this.emitSync.bind(this,o.CONNECTION_ONLINE,{})),e.addEventListener("offline",this.emitSync.bind(this,o.CONNECTION_OFFLINE,{})),n.notifyBeforeUnload&&e.addEventListener(o.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,o.WINDOW_BEFORE_UNLOAD,{})))}r(a,i),a.create=function(t){return new a(t)},a.prototype.isOnline=function(){var t=this._navigator;return!(t&&"onLine"in t)||t.onLine},t.exports=a}).call(this,n("pCvA"))},ZCJg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("llpb"),i=n("7C+0"),o=n("llpb");e.TArray=o.TArray,e.TEnumType=o.TEnumType,e.TEnumLiteral=o.TEnumLiteral,e.TFunc=o.TFunc,e.TIface=o.TIface,e.TLiteral=o.TLiteral,e.TName=o.TName,e.TOptional=o.TOptional,e.TParam=o.TParam,e.TParamList=o.TParamList,e.TProp=o.TProp,e.TTuple=o.TTuple,e.TType=o.TType,e.TUnion=o.TUnion,e.array=o.array,e.enumlit=o.enumlit,e.enumtype=o.enumtype,e.func=o.func,e.iface=o.iface,e.lit=o.lit,e.name=o.name,e.opt=o.opt,e.param=o.param,e.tuple=o.tuple,e.union=o.union,e.BasicType=o.BasicType,e.createCheckers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Object.assign.apply(Object,[{},r.basicTypes].concat(t)),i={},o=0,s=t;o<s.length;o++)for(var u=s[o],c=0,l=Object.keys(u);c<l.length;c++){var f=l[c];i[f]=new a(n,u[f])}return i};var a=function(){function t(t,e,n){if(void 0===n&&(n="value"),this.suite=t,this.ttype=e,this._path=n,this.props=new Map,e instanceof r.TIface)for(var i=0,o=e.props;i<o.length;i++){var a=o[i];this.props.set(a.name,a.ttype)}this.checkerPlain=this.ttype.getChecker(t,!1),this.checkerStrict=this.ttype.getChecker(t,!0)}return t.prototype.setReportedPath=function(t){this._path=t},t.prototype.check=function(t){return this._doCheck(this.checkerPlain,t)},t.prototype.test=function(t){return this.checkerPlain(t,new i.NoopContext)},t.prototype.validate=function(t){return this._doValidate(this.checkerPlain,t)},t.prototype.strictCheck=function(t){return this._doCheck(this.checkerStrict,t)},t.prototype.strictTest=function(t){return this.checkerStrict(t,new i.NoopContext)},t.prototype.strictValidate=function(t){return this._doValidate(this.checkerStrict,t)},t.prototype.getProp=function(e){var n=this.props.get(e);if(!n)throw new Error("Type has no property "+e);return new t(this.suite,n,this._path+"."+e)},t.prototype.methodArgs=function(e){var n=this._getMethod(e);return new t(this.suite,n.paramList)},t.prototype.methodResult=function(e){var n=this._getMethod(e);return new t(this.suite,n.result)},t.prototype.getArgs=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getArgs() applied to non-function");return new t(this.suite,this.ttype.paramList)},t.prototype.getResult=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getResult() applied to non-function");return new t(this.suite,this.ttype.result)},t.prototype.getType=function(){return this.ttype},t.prototype._doCheck=function(t,e){if(!t(e,new i.NoopContext)){var n=new i.DetailContext;throw t(e,n),n.getError(this._path)}},t.prototype._doValidate=function(t,e){if(t(e,new i.NoopContext))return null;var n=new i.DetailContext;return t(e,n),n.getErrorDetail(this._path)},t.prototype._getMethod=function(t){var e=this.props.get(t);if(!e)throw new Error("Type has no property "+t);if(!(e instanceof r.TFunc))throw new Error("Property "+t+" is not a method");return e},t}();e.Checker=a},ZIIl:function(t,e,n){"use strict";var r=n("/ub/"),i={generate:function(t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(256*Math.random()|0);return e},generateBase64:function(t){return r.encode(i.generate(t))}};t.exports=i},ZQMo:function(t,e,n){"use strict";var r=n("V0bL"),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,n,r){var i;e in t&&("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())||(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)c(t,o[s],e[o[s]],n[o[s]])};l.supportsDescriptors=!!u,t.exports=l},ZYNt:function(t,e,n){"use strict";function r(t){if(t<0)throw new TypeError("Halflife must be set to a positive value.");this._weightingDecrease=Math.exp(Math.log(.5)/t),this._estimate=0,this._totalWeight=0}r.prototype.sample=function(t,e){var n=t/1e3,r=Math.pow(this._weightingDecrease,n),i=e*(1-r)+r*this._estimate;isNaN(i)||(this._estimate=i,this._totalWeight+=e)},r.prototype.getEstimate=function(){return this._estimate/1-Math.pow(this._weightingDecrease,this._totalWeight)},t.exports=r},Za3l:function(t,e,n){"use strict";t.exports=n("vKth")},ZaFu:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("P1TA"),s=n("pPJX"),u=n("ohJu"),c=n("eXcQ"),l=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/,f=1e4;function p(t){i.call(this);var n=t||{};this._WebSocket=t.WebSocket||e.WebSocket,this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatTimeout=n.heartbeatTimeout||f,this._heartbeatToken=null,this._heartbeatTimeoutToken=null,this._onHeartbeatSuccess=this._onHeartbeatSuccess.bind(this),this._onHeartbeatError=this._onHeartbeatError.bind(this)}r(p,i),p.create=function(t){return new p(t)},p.prototype._onHeartbeatError=function(){this._stopHeartbeat(),this._socket&&this._socket.close(c.TIMEOUT,"internal-timeout")},p.prototype._onHeartbeatSuccess=function(){this._stopHeartbeat(),this._startHeartbeat()},p.prototype._startHeartbeat=function(t){var e=function(){this.ping().then(this._onHeartbeatSuccess,this._onHeartbeatError),this._heartbeatTimeoutToken=setTimeout(this._onHeartbeatError,this._heartbeatTimeout)}.bind(this);t?e():this._heartbeatToken=setTimeout(e,3e4)},p.prototype._stopHeartbeat=function(){clearTimeout(this._heartbeatToken),clearTimeout(this._heartbeatTimeoutToken)},p.prototype._prepareConnectionId=function(t){if(!t.uri)return!1;var e,n=t.uri.match(l);return!!n&&(e=t.header&&t.headers["Spotify-Connection-Id"]?t.headers["Spotify-Connection-Id"]:decodeURIComponent(n[1]),this._connectionId=e,this._connectionURI=t.uri,this.emit(a.DEALER_CONNECTION_ID,{id:e,uri:t.uri}),!0)},p.prototype._reply=function(t,e){if(!t)throw new TypeError("Invalid key.");var n=this._socket;if(n&&1===n.readyState){var r={type:"reply",key:t,payload:e};n.send(JSON.stringify(r))}},p.prototype._parseMessage=function(t){var e;try{e=JSON.parse(t)}catch(t){return}if(this._waitingForConnectionId&&this._prepareConnectionId(e))this._waitingForConnectionId=!1,this._startHeartbeat(!0);else if("pong"===e.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("message"===e.type)this.emit(a.DEALER_MESSAGE,{data:e});else if("request"===e.type){var n=e.key;n&&this.emit(a.DEALER_REQUEST,{data:e,reply:this._reply.bind(this,n)})}},p.prototype._handleOpen=function(t){t.resolve(!0),this._connected=!0,this.emit(a.DEALER_AUTHENTICATED)},p.prototype._handleMessage=function(t){var n=this,r=t.data;if(e.Blob&&r instanceof e.Blob){var i=new e.FileReader;i.onloadend=function(){n._parseMessage(this.result)},i.readAsText(r)}else e.Buffer&&e.ArrayBuffer&&r instanceof e.ArrayBuffer?this._parseMessage(new e.Buffer(r).toString("ascii")):this._parseMessage(r)},p.prototype._handleClose=function(t){var e=this._connected;if(this._connected=!1,e)this.emitSync(a.DEALER_DISCONNECTED,{wsCode:t.code,reason:t.reason});else{var n=new u(s.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",t);this.emit(a.DEALER_AUTHENTICATION_FAILED,{error:n})}},p.prototype._handleError=function(t){var e=new u(s.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");t.reject(e),this._connected=!1,this.emit(a.DEALER_ERROR,{error:e})},p.prototype.connect=function(t){return this._endpoint=t,this._waitingForConnectionId=!0,this.emit(a.DEALER_CONNECTED),o.resolve(!0)},p.prototype.authenticate=function(t){var e=o.defer(),n=this._endpoint+"?access_token="+t,r=this._socket=new this._WebSocket(n);return r.onopen=this._handleOpen.bind(this,e),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,e),r.onmessage=this._handleMessage.bind(this),e.promise},p.prototype.disconnect=function(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(c.CLOSE,"internal-close"),this._socket.onopen=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket=null,this.emitSync("disconnected",{wsCode:c.CLOSE,reason:"internal-close"}))},p.prototype.ping=function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=o.defer(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):o.reject(new u(s.DEALER_CONNECTION_ERROR,"Dealer connection error"))},p.prototype.getConnectionId=function(){return this._waitingForConnectionId?new o(function(t){this.once("connection_id",function(e){t(e.id)})}.bind(this)):o.resolve(this._connectionId)},p.prototype.getConnectionInfo=function(){return this._waitingForConnectionId?new o(function(t){this.once("connection_id",function(e){t({id:e.id,uri:e.uri})})}.bind(this)):o.resolve({id:this._connectionId,uri:this._connectionURI})},p.prototype.hasConnectionId=function(){return!this._waitingForConnectionId&&!!this._connectionId},t.exports=p}).call(this,n("pCvA"))},Zgfu:function(t,e,n){"use strict";(function(e){var r=n("AWLF"),i=n("H2G3"),o=n("19LU");t.exports=function(t){return t.HTTP=i,t.Fetch=o,t.WebSocket=e.WebSocket,r.create(t)}}).call(this,n("pCvA"))},ZjB5:function(t,e,n){"use strict";var r=n("q6sp");t.exports=Function.prototype.bind||r},ZjTY:function(t,e,n){"use strict";var r=n("asuC"),i=n("jGCg"),o=n("qt0y");function a(t){this._transport=t}a.create=function(t){return new a(t)},a.prototype._parseManifestResponse=function(t){if(200!==t.status){var e=new i(o.STORAGE_VIDEO_MANIFEST_FAILED,"Video manifest request failed with status "+t.status);return e.status=t.status,r.reject(e)}return t.body},a.prototype.getInitSegmentURLs=function(t,e,n,r){var i=t+e.replace("{{profile_id}}",n.id).replace("{{file_type}}",n.file_type),o=t+e.replace("{{profile_id}}",r.id).replace("{{file_type}}",r.file_type);return{audio:i,video:o,audioLogging:i,videoLogging:o}},a.prototype.getSegmentURLs=function(t,e,n,r,i){var o=t+e.replace("{{profile_id}}",r.id).replace("{{file_type}}",r.file_type),a=t+e.replace("{{profile_id}}",i.id).replace("{{file_type}}",i.file_type);return{audio:o.replace("{{segment_timestamp}}",n),video:a.replace("{{segment_timestamp}}",n),audioLogging:o,videoLogging:a}},a.prototype.getManifest=function(t){var e=["https://@webgate/manifests/v6/json/sources/",t,"/options/supports_drm"].join("");return this._transport.request(e,{authorize:!0,responseType:"json",retry:{condition:function(t,e){return t.getStatusFamily()!==e.SUCCESS}}}).then(this._parseManifestResponse)},t.exports=a},Znpt:function(t,e,n){"use strict";var r=n("wJTk"),i=n("nAMc"),o=/^https:\/\//,a=/^(.+?)\/([^./]+)(\.[^/]*)?$/,s={};s[i.FILE_URLS_MP3]="MP3",s[i.FILE_URLS_EXTERNAL]="MP3",s[i.FILE_IDS_MP4]="MP4",s[i.FILE_IDS_MP4_DUAL]="MP4",s[i.MANIFEST_IDS_VIDEO]="MANIFEST",t.exports=function(t,e){for(var n=e.manifest,u=e.metadata.uri,c=r.from(u),l=!(!c||c.type!==r.Type.AD&&c.type!==r.Type.INTERRUPTION),f=0,p=t.length;f<p;f++){var h=t[f];if(h in n){var d=n[h];if(d.length){var _=d[0];if(_.file_id||_.file_url){var y,v=_.file_url||null,m=_.file_id||"";if(h===i.FILE_URLS_MP3&&l){if((m=v.replace(a,"$2"))===v)continue;v=null}if(v&&!o.test(v)&&(v=null),m||v)return y=e.track_type?e.track_type.toLowerCase():h===i.MANIFEST_IDS_VIDEO?"video":"audio",{uri:u,uriType:c&&c.type,fileId:m,resolvedURL:v,mediaType:y,format:s[h],bitrate:_.bitrate||128e3,impressionURL:_.impression_url,impressionURLs:_.impression_urls,isAd:l,noLog:!1,noTSV:l,noStats:l,noManifest:!!_.file_url,playable:!0}}}}}return null}},Zrjs:function(t,e,n){"use strict";var r=n("ovh1");t.exports=function(t,e){e=e||{};var n={};return r.forEach(["url","method","params","data"],function(t){void 0!==e[t]&&(n[t]=e[t])}),r.forEach(["headers","auth","proxy"],function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}),n}},a1gu:function(t,e,n){var r=n("cDf5"),i=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},a9Ck:function(t,e,n){"use strict";var r=n("63Ad"),i=r(n("NthX")),o=r(n("SDJZ")),a=r(n("NToG"));Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;(0,o.default)(this,t),this.spacingLevel=2,this.spacingLevel=e}return(0,a.default)(t,[{key:"send",value:function(t){return function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}},t,this)}))}}]),t}();e.ConsoleReporter=s},aA3r:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("3STj"),o=r(n("76WR")),a=r(n("LWjj")),s=r(n("96yp")),u=r(n("oafY")),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l=function(){function t(t){this.configuration=t}return t.prototype.createVideoContextPlayerCoordinator=function(){var t=this,e=this.configuration,n=e.productState,r=e.cosmos,l=e.playerDependencies,f=e.getToken,p=e.getWebgateHeaders,h=l.VideoPlayerErrorKM1,d=l.endVideo&&l.endVideo.logError,_=l.logWarn,y=new u.default({getWebgateHeaders:p,getToken:f},r),v=n["video-manifest-url"],m=[new i.SpotifyVideoMediaExtension(v)];l.endVideo&&(l.endVideo.streamingRulesProvider=new o.default(r));var g=new a.default(c({},l,{mediaExtensions:m}));return new s.default(c({},this.configuration,{VideoPlayerErrorKM1:h,logError:d,authTokenCallback:function(){return function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}(t,void 0,void 0,function(){var t,e;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return[4,f()];case 1:return t=n.sent(),e=t.accessToken,[2,t.tokenType+" "+e]}})})},logWarn:_,widevineDownloader:y,betamaxPlayerFactory:g}))},t}();e.default=l},aECo:function(t,e,n){"use strict";var r=n("2KG9");t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},aMhX:function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{type:{type:"string",nullable:!0},page:{type:"string",nullable:!0},view_uri:{type:"string",nullable:!0},referrer:{type:"string",nullable:!0}})),{name:"KmPageViewNonAuth",data:e}}},aU8I:function(t,e,n){"use strict";var r=n("mpLd");t.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},ahND:function(t,e,n){"use strict";function r(t,e){this.url=t||"",this.status=e||0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.ok=this.status>=200&&this.status<=299}r.prototype.getStatusFamily=function(){return 0|this.status/100},t.exports=r},aoi3:function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},asuC:function(t,e,n){"use strict";(function(e){var n,r=e.Promise;if(!r)throw new Error("Fatal: no Promise implementation available.");(n=Object.defineProperty?function(t,e,n){return t[e]?t:(Object.defineProperty(t,e,{value:n,configurable:!0,writable:!0}),t)}:function(t,e,n){return t[e]?t:(t[e]=n,t)})(r,"defer",function(){var t={};return t.promise=new r(function(e,n){t.resolve=e,t.reject=n}),t}),n(r.prototype,"spread",function(t,e){return this.then(function(t){return r.all(t)}).then(function(e){return 1===e.length?t(e[0]):t.apply(this,e)},e)}),t.exports=r}).call(this,n("pCvA"))},bRtl:function(t,e,n){"use strict";(function(e){var r=n("ovh1"),i=n("71kK"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?s=n("zf4f"):"undefined"!=typeof XMLHttpRequest&&(s=n("zf4f")),s),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(o)}),t.exports=u}).call(this,n("5IsQ"))},bURn:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("OlH2")),o=r(n("gVxV"));function a(){}a.prototype.parseInit=function(t){},a.prototype.parseMedia=function(t,e){var n=i.default.util.StringUtils.fromUTF8(t),r=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new i.default.util.Error(i.default.util.Error.Severity.CRITICAL,i.default.util.Error.Category.TEXT,i.default.util.Error.Code.INVALID_TEXT_HEADER);var a=e.segmentStart;if(null==a&&(a=0,r[0].indexOf("X-TIMESTAMP-MAP")>=0)){var s=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),u=r[0].match(/MPEGTS:(\d+)/m);if(s&&u){var c=new o.default(s[1]),l=this.parseTime_(c),f=Number(u[1]),p=this.MPEG_TIMESCALE_;a=e.periodStart+(f/p-l)}}for(var h=[],d=r[0].split("\n"),_=1;_<d.length;_++)if(/^Region:/.test(d[_])){var y=this.parseRegion_(d[_]);h.push(y)}var v=[];for(_=1;_<r.length;_++){d=r[_].split("\n");var m=this.parseCue_(d,a,h);m&&v.push(m)}return v},a.prototype.parseRegion_=function(t){var e=new o.default(t),n=new i.default.text.CueRegion;return e.readWord(),e.skipWhitespace(),n},a.prototype.parseCue_=function(t,e,n){if(1==t.length&&!t[0])return null;if(/^NOTE($|[ \t])/.test(t[0]))return null;if("STYLE"==t[0])return null;var r=null;t[0].indexOf("--\x3e")<0&&(r=t[0],t.splice(0,1));var a=new o.default(t[0]),s=this.parseTime_(a),u=a.readRegex(/[ \t]+-->[ \t]+/g),c=this.parseTime_(a);if(null==s||null==u||null==c)throw new i.default.util.Error(i.default.util.Error.Severity.CRITICAL,i.default.util.Error.Category.TEXT,i.default.util.Error.Code.INVALID_TEXT_CUE);s+=e,c+=e;var l=t.slice(1).join("\n").trim(),f=new i.default.text.Cue(s,c,l);a.skipWhitespace();for(var p=a.readWord();p;)this.parseCueSetting(f,p,n),a.skipWhitespace(),p=a.readWord();return null!=r&&(f.id=r),f},a.prototype.parseCueSetting=function(t,e,n){var r=null;if(r=/^align:(start|middle|center|end|left|right)$/.exec(e))this.setTextAlign_(t,r[1]);else if(r=/^vertical:(lr|rl)$/.exec(e))this.setVerticalWritingDirection_(t,r[1]);else if(r=/^size:([\d.]+)%$/.exec(e))t.size=Number(r[1]);else if(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))t.position=Number(r[1]),r[2]&&this.setPositionAlign_(t,r[2]);else{if(!(r=/^region:(.*)$/.exec(e)))return this.parsedLineValueAndInterpretation_(t,e);var i=this.getRegionById_(n,r[1]);i&&(t.region=i)}return!0},a.prototype.getRegionById_=function(t,e){var n=t.filter(function(t){return t.id==e});return n.length?(n.length,n[0]):null},a.prototype.setTextAlign_=function(t,e){var n=i.default.text.Cue;t.textAlign="middle"==e?n.textAlign.CENTER:n.textAlign[e.toUpperCase()]},a.prototype.setPositionAlign_=function(t,e){var n=i.default.text.Cue;t.positionAlign="line-left"==e||"start"==e?n.positionAlign.LEFT:"line-right"==e||"end"==e?n.positionAlign.RIGHT:n.positionAlign.CENTER},a.prototype.setVerticalWritingDirection_=function(t,e){var n=i.default.text.Cue;t.writingDirection="lr"==e?n.writingDirection.VERTICAL_LEFT_TO_RIGHT:n.writingDirection.VERTICAL_RIGHT_TO_LEFT},a.prototype.parsedLineValueAndInterpretation_=function(t,e){var n=i.default.text.Cue,r=null;if(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))t.lineInterpretation=n.lineInterpretation.PERCENTAGE,t.line=Number(r[1]),r[2]&&(t.lineAlign=n.lineAlign[r[2].toUpperCase()]);else{if(!(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e)))return!1;t.lineInterpretation=n.lineInterpretation.LINE_NUMBER,t.line=Number(r[1]),r[2]&&(t.lineAlign=n.lineAlign[r[2].toUpperCase()])}return!0},a.prototype.parseTime_=function(t){var e=t.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g);if(null==e)return null;var n=Number(e[1])||0,r=Number(e[2]),i=Number(e[3]),o=Number(e[4]);return r>59||i>59?null:o/1e3+i+60*r+3600*n},a.MPEG_TIMESCALE_=9e4;var s=a;e.default=s},bZld:function(t,e,n){"use strict";var r=n("asuC"),i=n("Znpt"),o=n("8IsH"),a=n("4zCw");function s(t,e){this._uri=t,this._manifestFormats=e,this._deviceId=null,this._stateMachine=null,this._currentState=null,this._currentStateIndex=null,this._pausedState=!1,this._initialPlaybackPosition=null}s.create=function(t,e){return new s(t,e)},s.prototype.setPaused=function(t){this._pausedState=!!t},s.prototype.isPaused=function(){return this._currentStateIndex<0?this._currentState.transitions.advance.paused:this._pausedState},s.prototype.setInitialPosition=function(t){this._initialPlaybackPosition=t},s.prototype.setStateMachine=function(t){this._stateMachine=t},s.prototype.setDeviceId=function(t){this._deviceId=t},s.prototype.startAtState=function(t){var e=this._stateMachine.states[t.state_index];if(!e)throw new o(a.TP_MISSING_INITIAL_STATE,"Invalid state reference.");var n=e.transitions;this._currentStateIndex=-1,this._currentState={decoy:!0,paused:!!t.paused,track:-1,state_id:null,transitions:{advance:t,show_next:n.show_next,show_prev:n.show_prev,skip_next:t,skip_prev:n.skip_prev}}},s.prototype.setCurrentState=function(t){var e=t.state_index;this._currentStateIndex=e,this._currentState=this._stateMachine.states[e]},s.prototype.getStateMachine=function(){return this._stateMachine},s.prototype.getInternalStateRef=function(){var t=this._pausedState,e=this._currentStateIndex;if(e<0){var n=this._currentState.transitions.advance;e=n.state_index,t=n.paused}return{paused:t,state_index:e}},s.prototype.getStateRef=function(){var t,e,n=this._stateMachine;if(!n)return null;if(this._currentStateIndex<0){var r=this._currentState.transitions.advance;t=n.states[r.state_index],e=r.paused}else t=n.states[this._currentStateIndex],e=this._pausedState;return t?{state_machine_id:n.state_machine_id,state_id:t.state_id,paused:e}:null},s.prototype.getCurrentTrack=function(){var t,e=this._stateMachine;if(!e)return null;if(this._currentStateIndex<0){var n=this._currentState.transitions.advance;t=e.states[n.state_index]}else t=e.states[this._currentStateIndex];return t?e.tracks[t.track]:null},s.prototype.startAt=function(){return r.resolve(!0)},s.prototype.setShuffle=function(){return r.resolve(!0)},s.prototype.setRepeatMode=function(){return r.resolve(!0)},s.prototype.next=function(t){var e=this._currentState.transitions,n=null;switch(t.reason){case"nextbtn":case"fwdbtn":"skip_next"in e&&(n=e.skip_next);break;default:"advance"in e&&(n=e.advance)}return this._transitionTo(n,t,!1)},s.prototype.peekNext=function(t){var e=this._currentState.transitions,n=null;switch(t.reason){case"nextbtn":case"fwdbtn":"skip_next"in e&&(n=e.skip_next);break;default:"advance"in e&&(n=e.advance)}return this._transitionTo(n,t,!0)},s.prototype.previous=function(t){var e=this._currentState.transitions.skip_prev;return this._transitionTo(e,t,!1)},s.prototype.allowSeeking=function(){return this._currentState&&!this._currentState.disallow_seeking},s.prototype._transitionTo=function(t,e,n){var o=e.reason,a=e.listConstants;if(!t||null===t)return r.resolve(a.FORBIDDEN);var s=this._stateMachine,u=s.states[t.state_index];if(!u)return r.resolve(a.NULL_VALUE);var c=s.tracks[u.track];if(!c||!c.metadata||!c.metadata.uri)return r.resolve(a.NULL_VALUE);var l=this._currentState,f=l.decoy?!!l.paused:t.paused;n||(this._currentState=u,this._currentStateIndex=t.state_index,this._pausedState=f);var p=0;n||null===this._initialPlaybackPosition?"initial_playback_position"in u?p=u.initial_playback_position||0:"seek_to"in u&&(p=u.seek_to||0):(p=this._initialPlaybackPosition,this._initialPlaybackPosition=null);var h=i(this._manifestFormats,c);if(!h)return r.resolve(a.NULL_VALUE);var d=this._uri;c.metadata&&c.metadata.context_uri&&(d=c.metadata.context_uri);var _=o,y=c.ms_played_until_update,v={uri:h.uri,playableURI:h.uri,fileId:h.fileId,resolvedURL:h.resolvedURL,playable:h.playable,isAd:h.isAd,format:h.format,mediaType:h.mediaType,noManifest:h.noManifest,options:{position:p,paused:f,playedThreshold:y},logData:{noLog:!!h.noLog,noTSV:!!h.noTSV,noStats:!!h.noStats,deviceId:this._deviceId,playbackId:u.state_id,reason:_,displayTrack:h.uri,playContext:d,impressionURL:h.impressionURL,impressionURLs:h.impressionURLs,format:{codec:h.format,bitrate:h.bitrate},uriType:h.uriType},stateId:u.state_id};return r.resolve(v)},t.exports=s},bb6g:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}},bfQY:function(t,e,n){"use strict";var r,i,o=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.EndVideoKeys=e.PlaybackSessionKeys=void 0,o(n("WshP")),e.PlaybackSessionKeys=r,function(t){t.SESSION_ID="session_id",t.MEDIA_URL="media_url",t.MS_START_POSITION="ms_start_position",t.MS_DURATION="ms_duration",t.MS_START_TIME="ms_start_time",t.MS_MANIFEST_LOAD_TIME="ms_manifest_load_time",t.MS_ENCRYPTION_LOAD_TIME="ms_encryption_load_time",t.MS_INITIAL_BUFFERING="ms_initial_buffering",t.MS_PLAYED="ms_played",t.MS_PLAYED_SUBTITLES="ms_played_subtitles",t.MS_PLAYED_FULLSCREEN="ms_played_fullscreen",t.ENCRYPTION_TYPE="encryption_type",t.EXIT_REASON="exit_reason",t.LAST_USED_SUBTITLE="last_used_subtitle",t.N_STALLS="n_stalls",t.MS_BUFFERING_STALL="ms_buffering_stall",t.MS_BUFFERING_STALL_LONGEST="ms_buffering_stall_longest",t.N_SEEKBACK="n_seekback",t.N_SEEKFORWARD="n_seekforward",t.MS_BUFFERING_SEEK="ms_buffering_seek",t.MS_BUFFERING_SEEK_LONGEST="ms_buffering_seek_longest",t.KBPS_AVERAGE_BANDWIDTH="kbps_average_bandwidth",t.KBYTES_DOWNLOADED="kbytes_downloaded",t.N_DROPPED_FRAMES="n_dropped_frames",t.ASPECT_RATIO="aspect_ratio",t.FEATURE_IDENTIFIER="feature_identifier",t.START_BITRATE="start_bitrate",t.MS_PLAYED_BACKGROUND="ms_played_background",t.CONNECTION_TYPE_START="connection_type_start",t.CONNECTION_TYPE_END="connection_type_end",t.N_VIEW_TRANSITIONS="n_view_transitions",t.AVERAGE_DEVICE_ORIENTATION="average_device_orientation",t.KBYTES_PLAYED="kbytes_played"}(r||(e.PlaybackSessionKeys=r={})),e.EndVideoKeys=i,function(t){t.PLAY_CONTEXT="play_context",t.REFERRER_VENDOR="referrer_vendor",t.PLAYBACK_ID="playback_id",t.MS_TOTAL_EST="ms_total_est",t.AUDIOCODEC="audiocodec",t.N_SEEKFWD="n_seekfwd",t.PREFETCHED_BYTES_LOADED="prefetched_bytes_loaded",t.TOTAL_BYTES="total_bytes",t.FEATURE_IDENTIFIER="feature_identifier",t.VIEW_URI="view_uri",t.START_BITRATE="start_bitrate",t.KEY_SYSTEM="key_system",t.CONNECTION_TYPE_END="connection_type_end",t.VIDEO_SESSION_ID="video_session_id",t.LOCAL_TIME_MS="local_time_ms",t.TIME_WEIGHTED_BITRATE="time_weighted_bitrate",t.MS_LATENCY="ms_latency",t.CONNECTION_TYPE_START="connection_type_start",t.MS_PLAYED_BACKGROUND="ms_played_background",t.FILE_ID="file_id",t.MS_SEEKFWD="ms_seekfwd",t.UI_LATENCY="ui_latency",t.REFERRER_VERSION="referrer_version",t.REASON_START="reason_start",t.N_STALLS="n_stalls",t.VIDEOCODEC="videocodec",t.FEATURE_VERSION="feature_version",t.N_SEEKBACK="n_seekback",t.MAX_MS_SEEK_REBUFFERING="max_ms_seek_rebuffering",t.INCOGNITO_MODE="incognito_mode",t.MAX_MS_STALLED="max_ms_stalled",t.MS_MANIFEST_LATENCY="ms_manifest_latency",t.PROVIDER="provider",t.SEQUENCE_ID="sequence_id",t.PLAY_TRACK="play_track",t.MS_STALLED="ms_stalled",t.LIVE="live",t.START_OFFSET_MS="start_offset_ms",t.MS_SEEK_REBUFFERING="ms_seek_rebuffering",t.GAIA_DEV_ID="gaia_dev_id",t.PREFETCHED_BYTES="prefetched_bytes",t.MS_KEY_LATENCY="ms_key_latency",t.MS_INITIAL_BUFFERING="ms_initial_buffering",t.SEQUENCE_NUMBER="sequence_number",t.REFERRER="referrer",t.MS_SEEKBACK="ms_seekback",t.UNION_PLAYED="union_played",t.STREAMING_RULE="streaming_rule",t.MS_PLAYED="ms_played",t.REASON_END="reason_end",t.MAX_CONTINOUS="max_continous",t.SHUFFLE="shuffle",t.FULL_SCREEN="full_screen"}(i||(e.EndVideoKeys=i={}))},bhwH:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("E6BA"),s=n("nAES"),u=n("Md2V"),c=n("06ib"),l=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/,f=1e4;function p(t){i.call(this);var e=t||{};this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatTimeout=e.heartbeatTimeout||f,this._heartbeatToken=null,this._heartbeatTimeoutToken=null,this._onHeartbeatSuccess=this._onHeartbeatSuccess.bind(this),this._onHeartbeatError=this._onHeartbeatError.bind(this)}r(p,i),p.create=function(t){return new p(t)},p.prototype._onHeartbeatError=function(){this._stopHeartbeat(),this._socket&&this._socket.close(c.TIMEOUT,"internal-timeout")},p.prototype._onHeartbeatSuccess=function(){this._stopHeartbeat(),this._startHeartbeat()},p.prototype._startHeartbeat=function(t){var e=function(){this.ping().then(this._onHeartbeatSuccess,this._onHeartbeatError),this._heartbeatTimeoutToken=setTimeout(this._onHeartbeatError,this._heartbeatTimeout)}.bind(this);t?e():this._heartbeatToken=setTimeout(e,3e4)},p.prototype._stopHeartbeat=function(){clearTimeout(this._heartbeatToken),clearTimeout(this._heartbeatTimeoutToken)},p.prototype._prepareConnectionId=function(t){if(!t.uri)return!1;var e,n=t.uri.match(l);return!!n&&(e=t.header&&t.headers["Spotify-Connection-Id"]?t.headers["Spotify-Connection-Id"]:decodeURIComponent(n[1]),this._connectionId=e,this._connectionURI=t.uri,this.emit(a.DEALER_CONNECTION_ID,{id:e,uri:t.uri}),!0)},p.prototype._reply=function(t,e){if(!t)throw new TypeError("Invalid key.");var n=this._socket;if(n&&1===n.readyState){var r={type:"reply",key:t,payload:e};n.send(JSON.stringify(r))}},p.prototype._parseMessage=function(t){var e;try{e=JSON.parse(t)}catch(t){return}if(this._waitingForConnectionId&&this._prepareConnectionId(e))this._waitingForConnectionId=!1,this._startHeartbeat(!0);else if("pong"===e.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("message"===e.type)this.emit(a.DEALER_MESSAGE,{data:e});else if("request"===e.type){var n=e.key;n&&this.emit(a.DEALER_REQUEST,{data:e,reply:this._reply.bind(this,n)})}},p.prototype._handleOpen=function(t){t.resolve(!0),this._connected=!0,this.emit(a.DEALER_AUTHENTICATED)},p.prototype._handleMessage=function(t){var n=this,r=t.data;if(e.Blob&&r instanceof e.Blob){var i=new e.FileReader;i.onloadend=function(){n._parseMessage(this.result)},i.readAsText(r)}else e.Buffer&&e.ArrayBuffer&&r instanceof e.ArrayBuffer?this._parseMessage(new e.Buffer(r).toString("ascii")):this._parseMessage(r)},p.prototype._handleClose=function(t){var e=this._connected;if(this._connected=!1,e)this.emitSync(a.DEALER_DISCONNECTED,{wsCode:t.code,reason:t.reason});else{var n=new u(s.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",t);this.emit(a.DEALER_AUTHENTICATION_FAILED,{error:n})}},p.prototype._handleError=function(t){var e=new u(s.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");t.reject(e),this._connected=!1,this.emit(a.DEALER_ERROR,{error:e})},p.prototype.connect=function(t){return this._endpoint=t,this._waitingForConnectionId=!0,this.emit(a.DEALER_CONNECTED),o.resolve(!0)},p.prototype.authenticate=function(t){var e=o.defer(),n=this._endpoint+"?access_token="+t,r=this._socket=new WebSocket(n);return r.onopen=this._handleOpen.bind(this,e),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,e),r.onmessage=this._handleMessage.bind(this),e.promise},p.prototype.disconnect=function(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(c.CLOSE,"internal-close"),this._socket.onopen=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket=null,this.emitSync("disconnected",{wsCode:c.CLOSE,reason:"internal-close"}))},p.prototype.ping=function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=o.defer(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):o.reject(new u(s.DEALER_CONNECTION_ERROR,"Dealer connection error"))},p.prototype.getConnectionId=function(){return this._waitingForConnectionId?new o(function(t){this.once("connection_id",function(e){t(e.id)})}.bind(this)):o.resolve(this._connectionId)},p.prototype.getConnectionInfo=function(){return this._waitingForConnectionId?new o(function(t){this.once("connection_id",function(e){t({id:e.id,uri:e.uri})})}.bind(this)):o.resolve({id:this._connectionId,uri:this._connectionURI})},p.prototype.hasConnectionId=function(){return!this._waitingForConnectionId&&!!this._connectionId},t.exports=p}).call(this,n("pCvA"))},bzhS:function(t,e){function n(){}function r(t,e){return Math.floor(Math.random()*(e-t+1))+t}n.maxFromBits=function(t){return Math.pow(2,t)},n.limitUI04=n.maxFromBits(4),n.limitUI06=n.maxFromBits(6),n.limitUI08=n.maxFromBits(8),n.limitUI12=n.maxFromBits(12),n.limitUI14=n.maxFromBits(14),n.limitUI16=n.maxFromBits(16),n.limitUI32=n.maxFromBits(32),n.limitUI40=n.maxFromBits(40),n.limitUI48=n.maxFromBits(48),n.randomUI04=function(){return r(0,n.limitUI04-1)},n.randomUI06=function(){return r(0,n.limitUI06-1)},n.randomUI08=function(){return r(0,n.limitUI08-1)},n.randomUI12=function(){return r(0,n.limitUI12-1)},n.randomUI14=function(){return r(0,n.limitUI14-1)},n.randomUI16=function(){return r(0,n.limitUI16-1)},n.randomUI32=function(){return r(0,n.limitUI32-1)},n.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},n.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n.paddedString=function(t,e,n){n=n||"0";for(var r=e-(t=String(t)).length;r>0;r>>>=1,n+=n)1&r&&(t=n+t);return t},n.prototype.fromParts=function(t,e,r,i,o,a){return this.version=r>>12&15,this.hex=n.paddedString(t.toString(16),8)+"-"+n.paddedString(e.toString(16),4)+"-"+n.paddedString(r.toString(16),4)+"-"+n.paddedString(i.toString(16),2)+n.paddedString(o.toString(16),2)+"-"+n.paddedString(a.toString(16),12),this},n.prototype.toString=function(){return this.hex},n.prototype.toURN=function(){return"urn:uuid:"+this.hex},n.prototype.toBytes=function(){for(var t=this.hex.split("-"),e=[],n=0,r=0;r<t.length;r++)for(var i=0;i<t[r].length;i+=2)e[n++]=parseInt(t[r].substr(i,2),16);return e},n.prototype.equals=function(t){return t instanceof UUID&&this.hex===t.hex},n.getTimeFieldValues=function(t){var e=t-Date.UTC(1582,9,15),n=e/4294967296*1e4&268435455;return{low:1e4*(268435455&e)%4294967296,mid:65535&n,hi:n>>>16,timestamp:e}},n._create4=function(){return(new n).fromParts(n.randomUI32(),n.randomUI16(),16384|n.randomUI12(),128|n.randomUI06(),n.randomUI08(),n.randomUI48())},n._create1=function(){var t=(new Date).getTime(),e=n.randomUI14(),r=1099511627776*(1|n.randomUI08())+n.randomUI40(),i=n.randomUI04(),o=0;t!=o?(t<o&&e++,o=t,i=n.randomUI04()):Math.random()<.25&&i<9984?i+=1+n.randomUI04():e++;var a=n.getTimeFieldValues(o),s=a.low+i,u=4095&a.hi|4096,c=(e&=16383)>>>8|128,l=255&e;return(new n).fromParts(s,a.mid,u,c,l,r)},n.create=function(t){return this["_create"+(t=t||4)]()},n.fromTime=function(t,e){e=e||!1;var r=n.getTimeFieldValues(t),i=r.low,o=4095&r.hi|4096;return!1===e?(new n).fromParts(i,r.mid,o,0,0,0):(new n).fromParts(i,r.mid,o,128|n.limitUI06,n.limitUI08-1,n.limitUI48-1)},n.firstFromTime=function(t){return n.fromTime(t,!1)},n.lastFromTime=function(t){return n.fromTime(t,!0)},n.fromURN=function(t){var e;return(e=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(t))?(new n).fromParts(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseInt(e[4],16),parseInt(e[5],16),parseInt(e[6],16)):null},n.fromBytes=function(t){if(t.length<5)return null;for(var e="",r=0,i=[4,2,2,2,6],o=0;o<i.length;o++){for(var a=0;a<i[o];a++){var s=t[r++].toString(16);1==s.length&&(s="0"+s),e+=s}6!==i[o]&&(e+="-")}return n.fromURN(e)},n.fromBinary=function(t){for(var e=[],r=0;r<t.length;r++)if(e[r]=t.charCodeAt(r),e[r]>255||e[r]<0)throw new Error("Unexpected byte in binary data.");return n.fromBytes(e)},n.new=function(){return this.create(4)},n.newTS=function(){return this.create(1)},t.exports=n},"c+YL":function(t,e,n){"use strict";(function(e){var r=n("Um7p");function i(){var t=new e.Uint8Array(16);return e.crypto.getRandomValues(t),r.toHex(t.join(""),40).slice(0,40)}function o(){for(var t=new Array(27),e=t.length;e--;)t[e]=Math.floor(8*Math.random());return r.toHex(t.join(""),40)}var a="function"==typeof e.Uint8Array&&void 0!==e.crypto&&"function"==typeof e.crypto.getRandomValues?i:o,s="_spharmony_device_id";t.exports={get:function(t,n){if(t&&"string"==typeof t)return t;if(n)return a();var r=e.localStorage.getItem(s);return r||(r=a(),e.localStorage.setItem(s,r)),r},generate:a,generateWithCrypto:i,generateWithRandom:o}}).call(this,n("pCvA"))},c70j:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("wrle"),o=n("lIgl"),a=n("dcjB"),s=n("qG8n"),u=n("asuC"),c=n("uo0B"),l=n("bhwH"),f=n("Z/ih"),p=n("6GjV"),h=n("Mj+E"),d=n("27+M"),_=n("E6BA"),y=n("06ib"),v=n("uDox").forTag("transport.transport"),m=/^(?:https?:\/\/)?@([^\/]+)\//,g=/^(ws|http)s?:\/\/.*[^\/]$/,E=/^([a-zA-Z]{3},\ \d{1,2}\ [a-zA-Z]{3}\ (\d{1,2}.){3})/,b={fetch:!0,xhr:!0};function T(t){if(!t)throw new TypeError("Argument `config` for Transport cannot be null.");if(!t.providers)throw new TypeError("Argument `config.providers` for Transport cannot be null.");s.call(this),this._ownerRef="ownerRef"in t?Object(t.ownerRef):{},this._tokenProvider=t.providers.token,this._endpointsProvider=t.providers.endpoints,this._HTTP=t.HTTP,this._Fetch=t.Fetch,this._reconnectionRetries=t.reconnectionRetries>=0?t.reconnectionRetries:3,this._requestMode=t.requestMode in b?t.requestMode:"xhr",this._forcePolyfillTypes=t.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in t&&t.disableAutoLogout,this._activated=!1,this._dealer=null,this._connectionObserver=null,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=!1,this._reconnectTimeout=null,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._disconnectBeforeUnload=t.disconnectBeforeUnload||!1,this._counter=new a(t.backoffStrategy||{algo:"exp",baseTime:5e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[]},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null},this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._init()}r(T,s),T.create=function(t){return new T(t)},T.prototype._init=function(){this.onAddListener(_.TRANSPORT_CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(_.TRANSPORT_AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(_.TRANSPORT_CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(_.TRANSPORT_CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(_.TRANSPORT_AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(_.TRANSPORT_CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),"fetch"!==this._requestMode||this._Fetch.isSupported()||(v.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");var t=new l;this._dealer=t,t.on(_.DEALER_DISCONNECTED,this._onDealerDisconnected.bind(this)),this._disableAutoLogout||this.matchMessages("client:logout",this._onLogout.bind(this)),this.proxyEmit(t,_.DEALER_CONNECTION_ID,_.TRANSPORT_CONNECTION_ID),this.proxyEmitSync(t,_.DEALER_MESSAGE,_.INTERNAL_DEALER_MESSAGE),this.proxyEmitSync(t,_.DEALER_REQUEST,_.INTERNAL_DEALER_REQUEST),this._connectionObserver=new f({notifyBeforeUnload:this._disconnectBeforeUnload}),this._connectionObserver.on(_.CONNECTION_ONLINE,this._onOnline.bind(this)),this._connectionObserver.on(_.CONNECTION_OFFLINE,this._onOffline.bind(this)),this._connectionObserver.on(_.WINDOW_BEFORE_UNLOAD,this.disconnect.bind(this))},T.prototype._onAddListener=function(t,e){if(!e.options.ignoreCurrentState){var n=null;switch(t){case"connected":if(!this.isConnected())return;n=u.resolve(s.createEvent(_.TRANSPORT_CONNECTED));break;case"authenticated":if(!this.isAuthenticated())return;n=u.resolve(s.createEvent(_.TRANSPORT_AUTHENTICATED));break;case"connection_id":if(!this._dealer.hasConnectionId())return;n=this._dealer.getConnectionInfo().then(function(t){return s.createEvent(_.TRANSPORT_CONNECTION_ID,t)});break;default:return}var r=e.listener;this._stateAwareListeners[t].push(r);var i=this._stateAwareRunners;i[t]||(i[t]=n.then(this._runStateAwareQueues.bind(this,t)),e.options.once&&e.preventDefault())}},T.prototype._onRemoveListener=function(t,e){if(!e.options.ignoreCurrentState){var n=e.listener,r=this._stateAwareListeners[t].indexOf(n);-1!==r&&this._stateAwareListeners[t].splice(r,1)}},T.prototype._runStateAwareQueues=function(t,e){for(var n=this._stateAwareListeners[t].splice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);this._stateAwareRunners[t]=null},T.prototype._onDealerDisconnected=function(t){var e=Date.now(),n=e-this._lastDisconnect;this._disconnect(!0),t.wsCode!==y.CLOSE?this._connectionObserver.isOnline()&&(n<5e3?(this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(_.TRANSPORT_SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n})),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._counter.getTime(this._quickDisconnectCount))):(this._quickDisconnectCount=0,this._lastDisconnect=e,this._tryToReconnect())):this._quickDisconnectCount=0},T.prototype._onLogout=function(){var t=function(){this._lastToken=null,this._lastTokenExpiry=0,this.emit(_.TRANSPORT_LOGGED_OUT)}.bind(this);this.disconnect().then(t,t)},T.prototype._onAuthenticated=function(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=4,this._initTime=Date.now(),this.emit(_.TRANSPORT_AUTHENTICATED),u.resolve(!0)},T.prototype._onAuthenticationFailed=function(t){var e=t&&t.error?t.error:t;return this._authenticationPromise=null,this._stateMask&=-5,this.emit(_.TRANSPORT_AUTHENTICATION_FAILED,{error:e}),u.reject(e)},T.prototype._onOffline=function(){this.emit(_.TRANSPORT_CONNECTION_OFFLINE),this._disconnect(!0)},T.prototype._onOnline=function(){this.emit(_.TRANSPORT_CONNECTION_ONLINE),this._activated&&this._tryToReconnect()},T.prototype._tryToReconnect=function(){if(!this._isReconnecting){this._stateMask=0;var t=function(){return this._isReconnecting=!0,this.emit(_.TRANSPORT_RECONNECTING),this._disconnect(!0),this._connect().then(function(){return this.authenticate()}.bind(this)).then(function(){return this._isReconnecting=!1,this.emit(_.TRANSPORT_RECONNECTED),!0}.bind(this))}.bind(this);o.init(t,{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(function(){this._stateMask=0,this._isReconnecting=!1,this.emit(_.TRANSPORT_DISCONNECTED)}.bind(this))}},T.prototype._connect=function(){return 1&this._stateMask?u.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new u(function(t,e){this._connectionObserver.once(_.CONNECTION_ONLINE,function(){this._performConnect().then(t,e)}.bind(this))}.bind(this))},T.prototype._performConnect=function(){return this._endpointsProvider(this.toPublic()).then(this._connectToEndpoints.bind(this)).catch(function(t){var e=t&&t.error?t.error:t;return this.emit(_.TRANSPORT_CONNECTION_FAILED,{error:e}),u.reject(e)}.bind(this))},T.prototype._connectToEndpoints=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)&&t[n]){var r=t[n];g.test(r)&&(r+="/"),e[n]=r}this._endpoints=e,this.emit(_.TRANSPORT_ENDPOINTS_RESOLVED,{endpoints:i({},this._endpoints)});var o=function(){return this._stateMask|=1,this.emit(_.TRANSPORT_CONNECTED),u.resolve(!0)}.bind(this);return t.dealer?this._dealer.connect(e.dealer).then(o):o()},T.prototype._disconnect=function(t){return this._stateMask=0,this._dealer.disconnect(),t||this.emit(_.TRANSPORT_DISCONNECTED),!0},T.prototype._refreshToken=function(t){if(!this._refreshTokenPromise){if(!t&&Date.now()<this._lastTokenExpiry)return u.resolve(this._lastToken);var e=function(){this._refreshTokenPromise=null}.bind(this);this._refreshTokenPromise=this._tokenProvider().then(this._parseProvidedToken),this._refreshTokenPromise.then(e,e)}return this._refreshTokenPromise},T.prototype._parseProvidedToken=function(t){var e,n;if(Array.isArray(t)?(e=t[0],n=parseInt(t[1]||3540,10)):(e=t,n=3540),!e)throw this._lastToken=null,this._lastTokenExpiry=0,new TypeError("Token provider returned an invalid token: "+e);return this._lastToken=e,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(_.TRANSPORT_ACCESS_TOKEN,{token:e}),e},T.prototype._authenticateWithToken=function(t){return this._endpoints.dealer?this._dealer.authenticate(t):u.resolve(!0)},T.prototype._tryExpandSpecialURL=function(t){var e=this._endpoints;return t.replace(m,function(t,n){if(!e.hasOwnProperty(n))throw new TypeError("Cannot replace endpoint @"+n+"; Endpoint undefined.");return e[n]})},T.prototype._processRequestArgs=function(t,e){return new u(function(n){var r=t,o=e||{},a={algo:"exp",maxRetries:2};m.test(r)&&(r=this._tryExpandSpecialURL(r),"authorize"in o||(o.authorize=!0)),o.forcePolyfill=o.responseType in this._forcePolyfillTypes,o.requestMode||(o.requestMode=this._requestMode),"retry"in o&&i(a,o.retry),o.connectionObserver=this._connectionObserver,"metadata"in o||(o.metadata=null),n({url:r,args:o,backoffStrategy:a})}.bind(this))},T.prototype._setAuthHeader=function(t,e){if(!t.authorize)return u.resolve(t);var n=function(){return this._refreshToken(e).then(function(e){return t.headers||(t.headers={}),t.headers.Authorization="Bearer "+e,t})}.bind(this);return 4&this._stateMask?n():new u(function(t,e){this.once("authenticated",function(){n().then(t,e)})}.bind(this))},T.prototype._sendRetriedRequest=function(t){var e=t.backoffStrategy,n=!1,r=function(){return this._setAuthHeader(t.args,n)}.bind(this),i=this._connectionObserver,a=function(){return(i.isOnline()?r():new u(function(e,n){t.args.allowOffline?r().then(e,n):i.once(_.CONNECTION_ONLINE,function(){r().then(e,n)})})).then(function(){return"fetch"===t.args.requestMode&&this._Fetch.isSupported()?this._Fetch.request(t.url,t.args):this._HTTP.request(t.url,t.args)}.bind(this)).then(function(r){var i;if(r.headers&&(i=r.headers.get("Retry-After")),r.status===h.UNAUTHORIZED&&!t.args.ignoreUnauthorized)return n=!0,u.reject(r);if("function"==typeof e.condition&&(e.condition(r,d)||i)){var o=parseInt(i,10);return E.test(i)?r.retryAfter=new Date(i).getTime()-Date.now():o>0&&(r.retryAfter=1e3*o),u.reject(r)}return r})}.bind(this);return o.init(a,e).catch(this._handleRetriedRequestError).then(function(e){return e.metadata=t.args.metadata,t.args.rejectNotOk&&!e.ok?u.reject(e):e})},T.prototype._handleRetriedRequestError=function(t){return t instanceof p?u.resolve(t):u.reject(t)},T.prototype._sendFireAndForgetRequest=function(t){return"function"==typeof e.fetch?e.fetch(t,{mode:"no-cors"}).catch(function(){}):e.Image?(new e.Image).src=t:this.request(t,{requestMode:"xhr",method:"GET",authorize:!1,ignoreResponseBody:!0}),u.resolve(new p(t,0))},T.prototype._sendRequest=function(t,e){return this._processRequestArgs(t,e).then(function(t){return t.args.forget?this._sendFireAndForgetRequest(t.url):this._sendRetriedRequest(t)}.bind(this))},T.prototype.getEndpoints=function(){return i({},this._endpoints)},T.prototype.getInitTime=function(){return this._initTime},T.prototype.getLastToken=function(){return this._lastToken},T.prototype.getConnectionId=function(){return this._dealer.getConnectionId()},T.prototype.isConnected=function(){return!!(1&this._stateMask)},T.prototype.isAuthenticated=function(){return!!(4&this._stateMask)},T.prototype.isOnline=function(){return this._connectionObserver.isOnline()},T.prototype.forceTokenRefresh=function(){return this._refreshToken(!0).then(function(){return!0})},T.prototype.connect=function(){return this._activated=!0,this._connect()},T.prototype.disconnect=function(){if(!this._activated)return u.resolve(!1);this._activated=!1;var t=this.isConnected()?_.TRANSPORT_BEFORE_ONLINE_DISCONNECT:_.TRANSPORT_BEFORE_OFFLINE_DISCONNECT,e=[];return this.emitSync(t,{awaitPromise:function(t){e.push(t)}}),u.all(e).then(this._disconnect.bind(this,!1))},T.prototype.forceDisconnect=function(){return this._activated?(this._activated=!1,this._disconnect(),u.resolve(!0)):u.resolve(!1)},T.prototype.authenticate=function(){return this._authenticationPromise||(this._authenticationPromise=o.init(function(){return this._refreshToken().then(this._authenticateWithToken.bind(this))}.bind(this),{algo:"exp",maxRetries:2,baseTime:500}).then(this._onAuthenticated).catch(this._onAuthenticationFailed)),this._authenticationPromise},T.prototype.request=function(t,e){var n=this._sendRequest.bind(this,t,e);return this._connectionObserver.isOnline()&&(!m.test(t)||1&this._stateMask)?n():new u(function(t,e){this.once("connected",function(){n().then(t,e)})}.bind(this))},T.prototype.matchMessages=function(t,e){if(!t)throw new TypeError('Dealer message "matcher" cannot be null.');if("function"!=typeof e)throw new TypeError("Dealer message callback cannot be null.");var n=function(n){var r=n.data;r.uri&&r.uri.match(t)&&e(r)};n.__matchMessagesExp=t,e.__matchMessagesWrapper=n,this.on(_.INTERNAL_DEALER_MESSAGE,n)},T.prototype.unmatchMessages=function(t,e){if("function"!=typeof e)throw new TypeError("Dealer message callback cannot be null.");var n=e.__matchMessagesWrapper;return n.__matchMessagesExp===t&&(this.removeListener(_.INTERNAL_DEALER_MESSAGE,n),!0)},T.prototype.handlePushRequests=function(t,e){if(!t)throw new TypeError('Dealer push request "matcher" cannot be null.');if("function"!=typeof e)throw new TypeError("Dealer push request callback cannot be null.");var n=function(n){var r=n.data;r.message_ident&&r.message_ident.match(t)&&u.resolve(e(r)).then(n.reply)};n.__matchRequestExp=t,e.__matchRequestWrapper=n,this.on(_.INTERNAL_DEALER_REQUEST,n)},T.prototype.unhandlePushRequests=function(t,e){if("function"!=typeof e)throw new TypeError("Dealer push request callback cannot be null.");var n=e.__matchRequestWrapper;return n.__matchRequestWrapper===t&&(this.removeListener(_.INTERNAL_DEALER_REQUEST,n),!0)},T.prototype.toPublic=function(){return new c(this)},T.prototype.hasOwnerRef=function(t){return this._ownerRef===t},t.exports=T}).call(this,n("pCvA"))},cDf5:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},cON5:function(t,e,n){"use strict";var r=n("ovh1");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},cPgy:function(t,e,n){"use strict";var r=n("EFBM"),i=n("JHUG"),o=n("lIgl"),a=n("inC2").Event,s=n("Fqzz"),u=n("TBe3"),c=n("8vwS"),l=n("oErA"),f=n("asuC"),p=l.forTag("EventSender"),h=200,d=3e5,_=18e5;function y(t){var e=t||{};this._transport=e.transport,this._upload=this._upload.bind(this),this._shouldRetry=this._shouldRetry.bind(this),this._uploadWaiting=!1,this._sequenceIdGenerator=r.create(),this._uploader=i.create({enableDebugInfo:e.enableDebugInfo,suppressPersist:e.suppressPersist,transport:this._transport}),this._contextCreators=e.context||[];for(var n=0,o=this._contextCreators.length;n<o;n++)if("function"!=typeof this._contextCreators[n])throw new Error("The context creator at index "+n+" is not a function");this._contextCreators.push(s),this._contextCreators.push(u),e.clientId&&this._contextCreators.push(c(e.clientId)),this._refreshing=!1,this._events=[],this._backoffBaseTime=e.baseTime||h,this._backoffCeiling=e.ceiling||d,this._backoffMaxDuration=e.maxDuration||_,this._transport.on(a.TRANSPORT_BEFORE_ONLINE_DISCONNECT,this._onBeforeDisconnect.bind(this))}y.create=function(t){return new y(t)},y.prototype._onBeforeDisconnect=function(t){t.awaitPromise(this._uploader.lastUpload(this._events.splice(0)))},y.prototype._shouldRetry=function(){return this._transport.isOnline()&&!this._refreshing},y.prototype._initFlush=function(){var t=this._backoffBaseTime,e=!1;return this._uploader.shouldBackoff()&&(t=this._backoffCeiling,e=!0),o.init(this._upload,{algo:"exp",baseTime:t,ceiling:this._backoffCeiling,maxDuration:this._backoffMaxDuration,backoffInitial:e,retryPredicate:this._shouldRetry})},y.prototype._waitForConnection=function(){return new f(function(t){this._transport.once(a.TRANSPORT_CONNECTION_ONLINE,t)}.bind(this))},y.prototype.flush=function(){return this._transport.isOnline()||this._ongoingUpload||(this._ongoingUpload=this._waitForConnection()),this._ongoingUpload?(this._uploadWaiting||(this._uploadWaiting=!0,this._ongoingUpload=this._ongoingUpload.then(function(){return this._ongoingUpload=!1,this._uploadWaiting=!1,this.flush()}.bind(this))),this._ongoingUpload):this._events.length?(this._ongoingUpload=this._initFlush().then(function(t){return this._ongoingUpload=void 0,t}.bind(this)).catch(function(){return this._ongoingUpload=void 0,this._transport.isOnline()?(this._refreshing||(p.warn("The events in the queue could not be uploaded. Throwing away "+this._events.length+" events."),this._events=[]),{nack:this._events,backoff:this._uploader.shouldBackoff()}):this.flush()}.bind(this)),this._ongoingUpload):f.resolve({nack:this._events,backoff:this._uploader.shouldBackoff()})},y.prototype._upload=function(){return this._uploader.upload(this._events.splice(0)).then(function(t){if(t.nack.length)throw this._events=t.nack.concat(this._events),new Error("Backoff requested");return t}.bind(this))},y.prototype.log=function(t,e){var n={sequence_id:this._sequenceIdGenerator.getSequenceId(),sequence_number:this._sequenceIdGenerator.nextSequenceNumber(t.name),event_name:t.name};n.fragments={message:t.data};for(var r=0,i=this._contextCreators.length;r<i;r++){var o=this._contextCreators[r].call(this);n.fragments[o.name]=o.data}this._events.push(n),!1!==e&&this.flush()},y.prototype.refresh=function(){return this._sequenceIdGenerator.reset(),this._refreshing=!0,this.flush().then(function(){return this._transport.forceTokenRefresh().then(function(t){return this._refreshing=!1,t}.bind(this))}.bind(this)).catch(function(t){return p.warn("Could not flush using cached token",t),this._refreshing=!1,!0}.bind(this))},t.exports=y},cifS:function(t,e,n){"use strict";function r(t){return{type:t.type,value:t.value}}Object.defineProperty(e,"__esModule",{value:!0}),e.propertyMapFromDefaults=function(t){void 0===t&&(t=[]);for(var e=Object.create(null),n=0,r=t;n<r.length;n++){var i=r[n];i.boolSpec?e[i.name]={type:"bool",value:i.boolSpec.default}:i.intSpec?e[i.name]={type:"int",value:i.intSpec.default}:i.enumSpec&&(e[i.name]={type:"enum",value:i.enumSpec.default})}return e},e.propertyMapFromResolved=function(t){void 0===t&&(t=[]);for(var e=Object.create(null),n=0,r=t;n<r.length;n++){var i=r[n],o=i.groupId;i.boolValue?e[i.name]={type:"bool",value:i.boolValue.value,groupId:o}:i.intValue?e[i.name]={type:"int",value:i.intValue.value,groupId:o}:i.enumValue&&(e[i.name]={type:"enum",value:i.enumValue.value,groupId:o})}return e},e.propertyMapToValueObject=function(t){for(var e=Object.create(null),n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e[i]=t[i].value}return e},e.mergePropertyMaps=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Object.create(null),i=0,o=t;i<o.length;i++){var a=o[i];if(a)for(var s=0,u=Object.keys(a);s<u.length;s++){var c=u[s],l=r(a[c]);if(n[c]&&n[c].type!==l.type)throw new TypeError("Can't overwrite property \""+c+'" from '+n[c].type+" to "+l.type);n[c]=l}}return n},e.getUniquePropertyGroupIds=function(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var i=t[r[n]].groupId;void 0!==i&&(e[i]=!0)}return Object.keys(e)}},cmty:function(t,e,n){"use strict";t.exports={WIDEVINE:"com.widevine.alpha",PLAYREADY:"com.microsoft.playready",PLAYREADY_HARDWARE:"com.microsoft.playready.hardware",INVALID_SPOTIFY_KEY:"com.spotify.invalid"}},cnbf:function(t,e,n){"use strict";n.r(e),n.d(e,"__DO_NOT_USE__ActionTypes",function(){return o}),n.d(e,"applyMiddleware",function(){return _}),n.d(e,"bindActionCreators",function(){return l}),n.d(e,"combineReducers",function(){return u}),n.d(e,"compose",function(){return d}),n.d(e,"createStore",function(){return a});var r=n("Rblx"),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t,e,n){var i;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var s=t,u=e,c=[],l=c,f=!1;function p(){l===c&&(l=c.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function d(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return p(),l.push(t),function(){if(e){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,p();var n=l.indexOf(t);l.splice(n,1)}}}function _(t){if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=s(u,t)}finally{f=!1}for(var e=c=l,n=0;n<e.length;n++)(0,e[n])();return t}return _({type:o.INIT}),(i={dispatch:_,subscribe:d,getState:h,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");s=t,_({type:o.REPLACE})}})[r.a]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(h())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t},i}function s(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var a,u=Object.keys(n);try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<u.length;o++){var c=u[o],l=n[c],f=t[c],p=l(f,e);if(void 0===p){var h=s(c,e);throw new Error(h)}i[c]=p,r=r||p!==f}return r?i:t}}function c(t,e){return function(){return e(t.apply(this,arguments))}}function l(t,e){if("function"==typeof t)return c(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"==typeof i&&(n[r]=c(i,e))}return n}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){f(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map(function(t){return t(i)});return h({},n,{dispatch:r=d.apply(void 0,o)(n.dispatch)})}}}},ct8n:function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation"),r=!0}return t.apply(this,arguments)}}}).call(this,n("pCvA"))},cujW:function(t,e,n){"use strict";n.r(e);e.default=function(t,e){}},cwxh:function(t,e,n){"use strict";(function(e){var r=n("uDox").forTag("eme_polyfills.tester"),i=n("XXzu"),o=n("sqiZ");t.exports={install:function(){var t=e.navigator;return t&&t.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration?(r.log("Using native EME implementation."),"native"):e.HTMLMediaElement&&e.HTMLMediaElement.prototype.webkitGenerateKeyRequest?(r.log('Detected "webkit" Prefixed EME v0.1b. Polyfilling.'),o.setup("webkit"),"v0.1b-webkit"):e.HTMLMediaElement&&e.HTMLMediaElement.prototype.generateKeyRequest?(r.log("Detected Unprefixed EME v0.1b. Polyfilling."),o.setup(),"v0.1b"):e.MSMediaKeys?(r.log("Detected MS IE EME. Polyfilling."),i.setup(),"ms-ie"):(r.warn("Detected no EME APIs."),null)}}}).call(this,n("pCvA"))},czHv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleItemCache=void 0;var r=function(){function t(t){this.storage=t}return t.prototype.get=function(t){if("string"!=typeof t)throw new Error("key must be a string");var e=this.storage.getItem(t);if("string"==typeof e)return JSON.parse(e)},t.prototype.set=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");var n=JSON.stringify(e);this.storage.setItem(t,n)},t}(),i=function(){function t(t,e){this.cache=new r(t),this.cacheKey="com.spotify.single.item.cache:"+e}return t.prototype.get=function(t){if("string"!=typeof t)throw new Error("key must be a string");var e=this.cache.get(this.cacheKey);if(e&&e.key===t)return e.value},t.prototype.set=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");var n={key:t,value:e};this.cache.set(this.cacheKey,n)},t}();e.SingleItemCache=i},czhI:function(t,e,n){t.exports=n("TDIH")},d5gj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TYPE=void 0;var r="spotifyvideo://";e.TYPE=r;var i=function(){function t(){}return t.create=function(t){return""+r+t},t}();e.default=i},d7mV:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({OFF:0,CONTEXT:1,TRACK:2})},d8l3:function(t,e,n){"use strict";(function(e){var n,r=function(){};n="true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?function(t){return e.Proxy&&"function"!=typeof e.Proxy.create&&"function"==typeof e.Proxy?new e.Proxy(t,{get:function(t,e){if(!t.hasOwnProperty(e))throw new ReferenceError("Unknown enum value "+e);return t[e]},set:r,delete:r}):t}:function(t){return t},t.exports=n}).call(this,n("pCvA"))},dSvp:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"VideoContextPlayerCoordinator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"VideoContextPlayerCoordinatorFactory",{enumerable:!0,get:function(){return o.default}});var i=r(n("96yp")),o=r(n("aA3r"))},dUnE:function(t,e,n){"use strict";var r=n("AWLF"),i=n("ErGS"),o=n("q4vS");t.exports=function(t){return t.HTTP=i,t.WebSocket=o,r.create(t)}},dbjm:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("E6vx");function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return Object(r.i)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e)}},dcjB:function(t,e,n){"use strict";var r=n("7JHm").counterDefaults;function i(t){var e=t||{};this._curve=e.curve||e.algo||r.curve,this._baseTime=e.baseTime||r.baseTime,this._ceiling=e.ceiling||r.ceiling,this._jitter=!(!1===e.jitter)}i.prototype.getTime=function(t){var e;switch(this._curve){case"static":e=1;break;case"logarithmic":case"log":e=Math.log(t);break;case"exponential":case"exp":e=Math.pow(Math.E,t);break;case"linear":case"lin":default:e=t+1}var n,r,i=e*this._baseTime|0;return this._ceiling&&(i=Math.min(i,this._ceiling)),this._jitter?0|(n=i)-(r=n/5)/2+Math.random()*r:i},t.exports=i},diFf:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("+kNY"),a=n("8Pwi"),s=n("qt0y"),u=n("uDox").forTag("playback.logger"),c=n("6POh");function l(t){this._transport=t.transport,this._transportLogger=t.logger,this._player=t.player,this._currentTrackingData=null,this._sequenceId=0,this._sequenceSessionStorage={},this._init()}r(l,i),l.create=function(t){return new l(t)},l.prototype._init=function(){var t=this._player;t.on(a.PLAYER_LOAD,this._onPlayerLoad.bind(this)),t.on(a.PLAYER_ERROR,this._onError.bind(this,!1)),t.on(a.PLAYER_WARNING,this._onError.bind(this,!0)),t.on(a.PLAYER_PRELOADING_ERROR,this._onError.bind(this,!1)),t.on(a.PLAYER_TRACKING_DATA_CREATED,this._onTrackingDataCreated.bind(this)),t.on(a.PLAYER_TRACKING_DATA_FINALIZED,this._onTrackingDataFinalized.bind(this)),t.on(a.PLAYER_PLAYBACK_START,this._onPlaybackStart.bind(this))},l.prototype._emitError=function(t,e){this.emit(a.LOGGER_ERROR,{error:t,data:e})},l.prototype._onError=function(t,e){var n=e.error,r=this._currentTrackingData;if(r&&!r.noLog){var i=n&&n.debug||{};i.position=e.position;var o={track:e.track||{},debug:i,preloading:!!e.preloading,session_id:this._sessionId,playback_id:r.playbackId||null,player_play_id:e.playId||null,http_status_code:"status"in n?n.status:null,license_server:n.licenseServer||null};this._logError(n.code||s.UNKNOWN,n,o,t)}},l.prototype._onPlayerLoad=function(t){var e=t.logData;if(e)if(e.impressionURLs)for(var n=e.impressionURLs.length;n--;)this._logImpression(e.impressionURLs[n]);else e.impressionURL&&this._logImpression(e.impressionURL)},l.prototype._onPlaybackStart=function(t){var e=t.data;e.noLog||e.noStats||this._logPlaybackStart(e)},l.prototype._onTrackingDataCreated=function(t){var e=t.data;e.noLog?this._currentTrackingData=null:(this._currentTrackingData=e,this._setSessionId(),e.noTSV||this._setSequenceId())},l.prototype._setSessionId=function(){this._sessionId=this._transport.getInitTime().toString()},l.prototype._setSequenceId=function(){this._sessionId&&(this._sequenceId=this._getSequenceId(this._sessionId))},l.prototype._onTrackingDataFinalized=function(t){var e=t.data;if(!e.noLog){var n=this._sessionId!==this._transport.getInitTime().toString();if(n&&this._setSessionId(),e.playbackId&&!e.noTSV){if(n&&this._setSequenceId(),!e.playIntended&&!e.played)return void this._rollbackSequenceId(this._sessionId);this._logTrackStreamVerification(e)}e.noStats||this._logPlaybackStats(e)}},l.prototype._logTrackStreamVerification=function(t){var e={play_track:t.currentTrackUri,playback_id:t.playbackId,ms_played:t.msPlayed,session_id:this._sessionId,sequence_id:this._sequenceId,next_playback_id:t.nextPlaybackId};u.debug("Logged TrackStreamVerification",e),this._transportLogger.logTrackStreamVerification(e).catch(function(n){var r=new o(s.TSV_SENDING_FAILED,n.message||"Unknown reason.");this._logError(r.code,n,e),this._emitError(r,t)}.bind(this))},l.prototype._logPlaybackStats=function(t){var e={play_track:t.currentTrackUri,file_id:t.fileId,playback_id:t.playbackId,internal_play_id:t.internalPlayId,memory_cached:t.memoryCached,persistent_cached:t.persistentCached,audio_format:t.audiocodec,video_format:t.videocodec,manifest_id:t.fileId,isProtected:t.isProtected,key_system:t.keySystem,key_system_impl:t.keySystemImpl,urls_json:JSON.stringify(t.urls),start_time:t.loadTime,end_time:t.stopTime,external_start_time:t.externalLoadTime,ms_play_latency:t.msPlayLatency,ms_init_latency:t.msInitLatency,ms_head_latency:t.msHeadLatency,ms_manifest_latency:t.msManifestLatency,ms_resolve_latency:t.msResolveLatency,ms_license_session_latency:t.msLicenseSessionLatency,ms_license_generation_latency:t.msLicenseGenerationLatency,ms_license_request_latency:t.msLicenseRequestLatency,ms_license_update_latency:t.msLicenseUpdateLatency,ms_played:t.msPlayed,ms_nominal_played:t.msPlayed,ms_file_duration:t.msFileDuration,ms_actual_duration:t.msActualDuration,ms_start_position:t.startPosition,ms_end_position:t.position,ms_seek_rebuffer:t.msSeekRebuffering,ms_seek_rebuffer_longest:t.maxMsSeekRebuffering,ms_stall_rebuffer:t.msStalled,ms_stall_rebuffer_longest:t.maxMsStalled,n_stalls:t.nStalls,n_seekback:t.nSeeksBackward,n_seekforward:t.nSeeksForward,start_bitrate:t.startBitrate,time_weighted_bitrate:t.timeWeightedBitrate,reason_start:t.reasonStart,reason_end:t.reasonEnd,initially_paused:!t.playIntended,had_error:t.hadError,n_warnings:t.nWarnings,n_navigator_offline:t.nOffline,session_id:this._sessionId,sequence_id:this._sequenceId};u.info("Logging PlaybackStats"),this._transportLogger.logJSSDKPlaybackStats(e).catch(function(n){var r=new o(s.PLAYBACK_STATS_SENDING_FAILED,n.message||"Unknown reason.");this._logError(r.code,n,e),this._emitError(r,t)}.bind(this))},l.prototype._logPlaybackStart=function(t){var e={play_track:t.currentTrackUri,file_id:t.fileId,playback_id:t.playbackId,session_id:this._sessionId,ms_start_position:t.startPosition,initially_paused:!t.playIntended};u.info("Logging PlaybackStart"),this._transportLogger.logJSSDKPlaybackStart(e).catch(function(n){var r=new o(s.PLAYBACK_START_SENDING_FAILED,n.message||"Unknown reason.");this._logError(r.code,n,e),this._emitError(r,t)}.bind(this))},l.prototype._getSequenceId=function(t){var e=this._sequenceSessionStorage[t];return e||(e=0),e+1>=9007199254740991&&(e=0),this._sequenceSessionStorage[t]=e+1,e},l.prototype._rollbackSequenceId=function(t){var e=this._sequenceSessionStorage[t];e&&(this._sequenceSessionStorage[t]=Math.max(e-1,0))},l.prototype._logImpression=function(t){this._transport.request(t,{forget:!0}).catch(function(t){u.warn("Unable to send impression request",t)})},l.prototype._logError=function(t,e,n,r){var i="";e&&((i=e.stack)||(i=e.toString()));var o={source:"playback",source_version:c.tagged,type:t,message:e&&e.message,stack:i,json_data:n,json_data_version:"1.0.0"};r?this._transportLogger.logJSSDKWarning(o).catch(function(t){u.warn("Failed to log warning",o,t)}):this._transportLogger.logJSSDKError(o).catch(function(t){u.warn("Failed to log error",o,t)})},t.exports=l},du5n:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("WshP")),o=function(){function t(){this.sessionEvents=[]}return t.prototype.onBuffering=function(t,e,n,r){this.sessionEvents.push({timestamp:r,type:i.default.BUFFERING,data:{type:e,playWhenReady:t,position:n}})},t.prototype.onEncryptionKeyLoaded=function(t,e){this.sessionEvents.push({timestamp:e,type:i.default.ENCRYPTION_KEY_LOADED,data:{encryptionType:t}})},t.prototype.onDurationChanged=function(t,e){this.sessionEvents.push({timestamp:e,type:i.default.DURATION_CHANGED,data:{duration:t}})},t.prototype.onManifestLoaded=function(t){this.sessionEvents.push({timestamp:t,type:i.default.MANIFEST_LOADED,data:void 0})},t.prototype.onFatalError=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.FATAL_ERROR,data:{error:t,position:e}})},t.prototype.onRecoverableError=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.RECOVERABLE_ERROR,data:{error:t,position:e}})},t.prototype.onPlaybackCreated=function(t,e,n,r){this.sessionEvents.push({timestamp:r,type:i.default.CREATED,data:{playbackIdentity:t,initialPosition:e}})},t.prototype.onEndingPlayback=function(t,e){this.sessionEvents.push({timestamp:e,type:i.default.NEW_SESSION_LOADED,data:{playbackRequest:t}})},t.prototype.onPlaybackEnded=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.ENDED,data:{reason:t,position:e}})},t.prototype.onReady=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.READY,data:{playWhenReady:t,position:e}})},t.prototype.onResumed=function(t,e){this.sessionEvents.push({timestamp:e,type:i.default.RESUMED,data:{position:t}})},t.prototype.onPaused=function(t,e){this.sessionEvents.push({timestamp:e,type:i.default.PAUSED,data:{position:t}})},t.prototype.onSeeking=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.SEEKING,data:{fromPosition:t,toPosition:e}})},t.prototype.onAudioFormatChanged=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.AUDIO_FORMAT_CHANGED,data:{format:t,position:e}})},t.prototype.onVideoFormatChanged=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.VIDEO_FORMAT_CHANGED,data:{format:t,position:e}})},t.prototype.onVolumeChanged=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.VOLUME_CHANGED,data:{volume:t,position:e}})},t.prototype.onManifestLoading=function(t){this.sessionEvents.push({timestamp:t,type:i.default.MANIFEST_LOADING,data:void 0})},t.prototype.onEncryptionKeyLoading=function(t){this.sessionEvents.push({timestamp:t,type:i.default.ENCRYPTION_KEY_LOADING,data:void 0})},t.prototype.onBytesTransferred=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.BYTES_TRANSFERRED,data:{bytes:t,timeMs:e}})},t.prototype.onSubtitleChanged=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.SUBTITLE_CHANGED,data:{subtitle:t,position:e}})},t.prototype.onFullscreenChanged=function(t,e,n){this.sessionEvents.push({timestamp:n,type:i.default.FULLSCREEN_CHANGED,data:{fullscreen:t,position:e}})},t.prototype.onDroppedVideoFrames=function(t,e){this.sessionEvents.push({timestamp:e,type:i.default.DROPPED_FRAMES,data:{droppedFrames:t}})},t}();e.default=o},"e+GP":function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},e363:function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r=n(5),i=n(1),o=i.toHex,a=i.ceilHeapSize,s=n(6),u=function(t){for(t+=9;t%64>0;t+=1);return t},c=function(t,e){var n=new Int32Array(t,e+320,5),r=new Int32Array(5),i=new DataView(r.buffer);return i.setInt32(0,n[0],!1),i.setInt32(4,n[1],!1),i.setInt32(8,n[2],!1),i.setInt32(12,n[3],!1),i.setInt32(16,n[4],!1),r},l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(e=e||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=e,this._padMaxChunkLen=u(e),this._heap=new ArrayBuffer(a(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new r({Int32Array:Int32Array},{},this._heap)}return t.prototype._initState=function(t,e){this._offset=0;var n=new Int32Array(t,e+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},t.prototype._padChunk=function(t,e){var n=u(t),r=new Int32Array(this._heap,0,n>>2);return function(t,e){var n=new Uint8Array(t.buffer),r=e%4,i=e-r;switch(r){case 0:n[i+3]=0;case 1:n[i+2]=0;case 2:n[i+1]=0;case 3:n[i+0]=0}for(var o=1+(e>>2);o<t.length;o++)t[o]=0}(r,t),function(t,e,n){t[e>>2]|=128<<24-(e%4<<3),t[14+(2+(e>>2)&-16)]=n/(1<<29)|0,t[15+(2+(e>>2)&-16)]=n<<3}(r,t,e),n},t.prototype._write=function(t,e,n,r){s(t,this._h8,this._h32,e,n,r||0)},t.prototype._coreCall=function(t,e,n,r,i){var o=n;this._write(t,e,n),i&&(o=this._padChunk(n,r)),this._core.hash(o,this._padMaxChunkLen)},t.prototype.rawDigest=function(t){var e=t.byteLength||t.length||t.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,r=this._maxChunkLen;for(n=0;e>n+r;n+=r)this._coreCall(t,n,r,e,!1);return this._coreCall(t,n,e-n,e,!0),c(this._heap,this._padMaxChunkLen)},t.prototype.digest=function(t){return o(this.rawDigest(t).buffer)},t.prototype.digestFromString=function(t){return this.digest(t)},t.prototype.digestFromBuffer=function(t){return this.digest(t)},t.prototype.digestFromArrayBuffer=function(t){return this.digest(t)},t.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},t.prototype.append=function(t){var e=0,n=t.byteLength||t.length||t.size||0,r=this._offset%this._maxChunkLen,i=void 0;for(this._offset+=n;e<n;)i=Math.min(n-e,this._maxChunkLen-r),this._write(t,e,i,r),e+=i,(r+=i)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),r=0);return this},t.prototype.getState=function(){var t=void 0;if(this._offset%this._maxChunkLen)t=this._heap.slice(0);else{var e=new Int32Array(this._heap,this._padMaxChunkLen+320,5);t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}return{offset:this._offset,heap:t}},t.prototype.setState=function(t){return this._offset=t.offset,20===t.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(t.heap)):this._h32.set(new Int32Array(t.heap)),this},t.prototype.rawEnd=function(){var t=this._offset,e=t%this._maxChunkLen,n=this._padChunk(e,t);this._core.hash(n,this._padMaxChunkLen);var r=c(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),r},t.prototype.end=function(){return o(this.rawEnd().buffer)},t}();t.exports=l,t.exports._core=r},function(t,e){for(var n=new Array(256),r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);t.exports.toHex=function(t){for(var e=new Uint8Array(t),r=new Array(t.byteLength),i=0;i<r.length;i++)r[i]=n[e[i]];return r.join("")},t.exports.ceilHeapSize=function(t){var e=0;if(t<=65536)return 65536;if(t<16777216)for(e=1;e<t;e<<=1);else for(e=16777216;e<t;e+=16777216);return e},t.exports.isDedicatedWorkerScope=function(t){var e="WorkerGlobalScope"in t&&t instanceof t.WorkerGlobalScope,n="SharedWorkerGlobalScope"in t&&t instanceof t.SharedWorkerGlobalScope,r="ServiceWorkerGlobalScope"in t&&t instanceof t.ServiceWorkerGlobalScope;return e&&!n&&!r}},function(t,e,n){t.exports=function(){var t=n(0),e=function(t,n,r,i,o){var a=new self.FileReader;a.onloadend=function(){if(a.error)return o(a.error);var s=a.result;n+=a.result.byteLength;try{t.append(s)}catch(t){return void o(t)}n<i.size?e(t,n,r,i,o):o(null,t.end())},a.readAsArrayBuffer(i.slice(n,n+r))},r=!0;return self.onmessage=function(n){if(r){var i=n.data.data,o=n.data.file,a=n.data.id;if(void 0!==a&&(o||i)){var s=n.data.blockSize||4194304,u=new t(s);u.resetState();var c=function(t,e){t?self.postMessage({id:a,error:t.name}):self.postMessage({id:a,hash:e})};i&&function(t,e,n){try{n(null,t.digest(e))}catch(t){return n(t)}}(u,i,c),o&&e(u,0,s,o,c)}}},function(){r=!1}}},function(t,e,n){var r=n(4),i=n(0),o=n(7),a=n(2),s=n(1).isDedicatedWorkerScope,u="undefined"!=typeof self&&s(self);i.disableWorkerBehaviour=u?a():function(){},i.createWorker=function(){var t=r(2),e=t.terminate;return t.terminate=function(){URL.revokeObjectURL(t.objectURL),e.call(t)},t},i.createHash=o,t.exports=i},function(t,e,n){function r(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw t};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\((/\\*.*?\\*/)?s?.*?("+i+").*?\\)";function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,e,r){var s={};s[r]=[];var u=e.toString(),c=u.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var l,f=c[1],p=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");l=p.exec(u);)"dll-reference"!==l[3]&&s[r].push(l[3]);for(p=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");l=p.exec(u);)t[l[2]]||(s[r].push(l[1]),t[l[2]]=n(l[1]).m),s[l[2]]=s[l[2]]||[],s[l[2]].push(l[4]);return s}function u(t){return Object.keys(t).reduce(function(e,n){return e||t[n].length>0},!1)}t.exports=function(t,e){e=e||{};var i={main:n.m},o=e.all?{main:Object.keys(i)}:function(t,e){for(var n={main:[e]},r={main:[]},i={main:{}};u(n);)for(var o=Object.keys(n),a=0;a<o.length;a++){var c=o[a],l=n[c].pop();if(i[c]=i[c]||{},!i[c][l]&&t[c][l]){i[c][l]=!0,r[c]=r[c]||[],r[c].push(l);for(var f=s(t,t[c][l],c),p=Object.keys(f),h=0;h<p.length;h++)n[p[h]]=n[p[h]]||[],n[p[h]]=n[p[h]].concat(f[p[h]])}}return r}(i,t),a="";Object.keys(o).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;o[t][e];)e++;o[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map(function(e){return JSON.stringify(e)+": "+i[t][e].toString()}).join(",")+"});\n"}),a=a+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map(function(t){return JSON.stringify(t)+": "+i.main[t].toString()}).join(",")+"})(self);";var c=new window.Blob([a],{type:"text/javascript"});if(e.bare)return c;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),f=new window.Worker(l);return f.objectURL=l,f}},function(t,e){t.exports=function(t,e,n){"use asm";var r=new t.Int32Array(n);function i(t,e){t=t|0;e=e|0;var n=0,i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=0,p=0,h=0,d=0,_=0,y=0;o=r[e+320>>2]|0;s=r[e+324>>2]|0;c=r[e+328>>2]|0;f=r[e+332>>2]|0;h=r[e+336>>2]|0;for(n=0;(n|0)<(t|0);n=n+64|0){a=o;u=s;l=c;p=f;d=h;for(i=0;(i|0)<64;i=i+4|0){y=r[n+i>>2]|0;_=((o<<5|o>>>27)+(s&c|~s&f)|0)+((y+h|0)+1518500249|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=_;r[t+i>>2]=y}for(i=t+64|0;(i|0)<(t+80|0);i=i+4|0){y=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;_=((o<<5|o>>>27)+(s&c|~s&f)|0)+((y+h|0)+1518500249|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=_;r[i>>2]=y}for(i=t+80|0;(i|0)<(t+160|0);i=i+4|0){y=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;_=((o<<5|o>>>27)+(s^c^f)|0)+((y+h|0)+1859775393|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=_;r[i>>2]=y}for(i=t+160|0;(i|0)<(t+240|0);i=i+4|0){y=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;_=((o<<5|o>>>27)+(s&c|s&f|c&f)|0)+((y+h|0)-1894007588|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=_;r[i>>2]=y}for(i=t+240|0;(i|0)<(t+320|0);i=i+4|0){y=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;_=((o<<5|o>>>27)+(s^c^f)|0)+((y+h|0)-899497514|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=_;r[i>>2]=y}o=o+a|0;s=s+u|0;c=c+l|0;f=f+p|0;h=h+d|0}r[e+320>>2]=o;r[e+324>>2]=s;r[e+328>>2]=c;r[e+332>>2]=f;r[e+336>>2]=h}return{hash:i}}},function(t,e){var n=this,r=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(r=new self.FileReaderSync);var i=function(t,e,n,r,i,o){var a=void 0,s=o%4,u=(i+s)%4,c=i-u;switch(s){case 0:e[o]=t[r+3];case 1:e[o+1-(s<<1)|0]=t[r+2];case 2:e[o+2-(s<<1)|0]=t[r+1];case 3:e[o+3-(s<<1)|0]=t[r]}if(!(i<u+(4-s))){for(a=4-s;a<c;a=a+4|0)n[o+a>>2|0]=t[r+a]<<24|t[r+a+1]<<16|t[r+a+2]<<8|t[r+a+3];switch(u){case 3:e[o+c+1|0]=t[r+c+2];case 2:e[o+c+2|0]=t[r+c+1];case 1:e[o+c+3|0]=t[r+c]}}};t.exports=function(t,e,o,a,s,u){if("string"==typeof t)return function(t,e,n,r,i,o){var a=void 0,s=o%4,u=(i+s)%4,c=i-u;switch(s){case 0:e[o]=t.charCodeAt(r+3);case 1:e[o+1-(s<<1)|0]=t.charCodeAt(r+2);case 2:e[o+2-(s<<1)|0]=t.charCodeAt(r+1);case 3:e[o+3-(s<<1)|0]=t.charCodeAt(r)}if(!(i<u+(4-s))){for(a=4-s;a<c;a=a+4|0)n[o+a>>2]=t.charCodeAt(r+a)<<24|t.charCodeAt(r+a+1)<<16|t.charCodeAt(r+a+2)<<8|t.charCodeAt(r+a+3);switch(u){case 3:e[o+c+1|0]=t.charCodeAt(r+c+2);case 2:e[o+c+2|0]=t.charCodeAt(r+c+1);case 1:e[o+c+3|0]=t.charCodeAt(r+c)}}}(t,e,o,a,s,u);if(t instanceof Array)return i(t,e,o,a,s,u);if(n&&n.Buffer&&n.Buffer.isBuffer(t))return i(t,e,o,a,s,u);if(t instanceof ArrayBuffer)return i(new Uint8Array(t),e,o,a,s,u);if(t.buffer instanceof ArrayBuffer)return i(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e,o,a,s,u);if(t instanceof Blob)return function(t,e,n,i,o,a){var s=void 0,u=a%4,c=(o+u)%4,l=o-c,f=new Uint8Array(r.readAsArrayBuffer(t.slice(i,i+o)));switch(u){case 0:e[a]=f[3];case 1:e[a+1-(u<<1)|0]=f[2];case 2:e[a+2-(u<<1)|0]=f[1];case 3:e[a+3-(u<<1)|0]=f[0]}if(!(o<c+(4-u))){for(s=4-u;s<l;s=s+4|0)n[a+s>>2|0]=f[s]<<24|f[s+1]<<16|f[s+2]<<8|f[s+3];switch(c){case 3:e[a+l+1|0]=f[l+2];case 2:e[a+l+2|0]=f[l+1];case 1:e[a+l+3|0]=f[l]}}}(t,e,o,a,s,u);throw new Error("Unsupported data type.")}},function(t,e,n){var r=n(0),i=n(1).toHex,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._rusha=new r,this._rusha.resetState()}return t.prototype.update=function(t){return this._rusha.append(t),this},t.prototype.digest=function(t){var e=this._rusha.rawEnd().buffer;if(!t)return e;if("hex"===t)return i(e);throw new Error("unsupported digest encoding")},t}();t.exports=function(){return new o}}])},t.exports=r()},e5jZ:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"eRm+":function(t,e,n){"use strict";function r(t){this._headers={},this._init(t)}r.prototype._init=function(t){if(t)for(var e=t.split("\r\n"),n=0;n<e.length;n++){var r=e[n],i=r.indexOf(": ");if(i>0){var o=r.substring(0,i).toLowerCase(),a=r.substring(i+2);this._headers[o]=a}}},r.prototype.get=function(t){return this._headers[t.toLowerCase()]||null},r.prototype.has=function(t){return this._headers.hasOwnProperty(t.toLowerCase())},t.exports=r},eSJY:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=n("jT1e"),a=n("hBZP"),s=r(n("bzhS")),u=n("yWAF"),c=r(n("WnZh")),l=r(n("S0cF")),f=r(n("OlH2")),p=n("gMC6"),h=n("Jaz+"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},y=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},v=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},m=6e6,g=function(t){function e(e,n){var r=t.call(this)||this;return r.transformUrl=function(t,e){return void 0===e&&(e=[]),e.reduce(function(e,n){return n.isPlayable(t)?n.createAssetUri(t):e},t)},r.handleTimeUpdateWhenPlaying=function(t){return function(e){r.state.isPlaying&&t(e)}},r.configuration=r.assignDefaultConfiguration(e),r.playbackSessionConfiguration=n,r.playbackEventsObserver=r.playbackSessionConfiguration.initiatePlaybackEventsObserver(r),e.containerElement&&(r.containerElement=e.containerElement),e.containerElementClass&&(r.containerElementClass=e.containerElementClass),r.checkContainerElementByClass=function(){if(r.containerElementClass){var t=document.getElementsByClassName(r.containerElementClass)[0];t&&(t.appendChild(r.node),r.containerElementMutationObserver.disconnect())}},r.containerElementMutationObserver=new MutationObserver(r.checkContainerElementByClass),r.videoElementConfig=_({},{controls:!1,style:"",width:640},e.videoElementConfig),r.videoElementEventHandlers=[{event:"ended",handler:r.handleEnded},{event:"durationchange",handler:r.handleDurationchange},{event:"timeupdate",handler:r.handleTimeUpdate},{event:"volumechange",handler:r.handleVolumechange},{event:"playing",handler:r.handlePlaying},{event:"pause",handler:r.handlePause},{event:"canplay",handler:r.handleCanplay},{event:"seeking",handler:r.handleSeeking},{event:"seeked",handler:r.handleSeeked},{event:"loadedmetadata",handler:r.handleLoadedMetadata}],r.shakaPlayerEventHandlers=[{event:"error",handler:r.handleShakaError},{event:"adaptation",handler:r.handleAdaptation},{event:"buffering",handler:r.onBufferingStateChange},{event:"drmsessionupdate",handler:r.onEncryptionKeyLoaded}],r}return d(e,t),e.prototype.assignDefaultConfiguration=function(t){return _({},{manifestUrlTemplate:null,widevineLicenseUrl:"",subtitlesEnabled:!0,videoPlaybackSessionLoggingEnabled:!0},t)},e.prototype.validatePlaybackRequest=function(t){if(!t)throw new Error("Missing playbackRequest");if(!t.mediaUrl)throw new Error("mediaUrl must be set");if(t.initialPosition<0)throw new Error("initialPosition cannot be negative");if("boolean"!=typeof t.isRoyaltyMedia)throw new Error("Missing or wrong isRoyaltyMedia value");return t},e.prototype.playWithOptions=function(t,e){var n=this;return new Promise(function(r){var i=n.validatePlaybackRequest(_({},t,e)),o=s.default.create().toString().replace(new RegExp("-","g"),"");n.session=_({sessionId:o},i),n.node=document.createElement("video"),void 0!==n.videoElementConfig.controls&&(n.node.controls=n.videoElementConfig.controls),void 0!==n.videoElementConfig.style&&(n.node.style.cssText=n.videoElementConfig.style),void 0!==n.videoElementConfig.width&&(n.node.width=n.videoElementConfig.width),void 0!==n.videoElementConfig.height&&(n.node.height=n.videoElementConfig.height),n.containerElement?n.containerElement.appendChild(n.node):n.containerElementClass&&(n.containerElementMutationObserver.observe(document.documentElement,{childList:!0,subtree:!0}),n.checkContainerElementByClass()),n.node.setAttribute("preload","auto"),n.node.setAttribute("data-sessionId",n.session.sessionId);var a=new h.TimeObservable;n.node.addEventListener("timeupdate",n.handleTimeUpdateWhenPlaying(a.handleTimeUpdate));var u=(0,p.retrieveEndvideoMetadata)(n.session.metadata||{})[p.FEATURE_IDENTIFIER];n.playbackEventsObserver.initiateObservers(n.session,u||"",n.playbackSessionConfiguration),n.playbackSessionConfiguration.endVideoTracker&&n.playbackSessionConfiguration.endVideoTracker.init(n,_({},n.configuration,n.session)),n.playbackEventsObserver.onPlaybackCreated(_({},n.session),e.initialPosition,a),n.playerBufferInterval=0,n.playerTimeUpdateInterval=0,n.state=n.getDefaultState(e),n.latencyStartTimes={},n.setVolume(t.volume),n.player=new l.default(n.node),n.player.configure({abr:{defaultBandwidthEstimate:m},drm:n.configuration.drm}),n.player.getNetworkingEngine().registerRequestFilter(n.networkRequestFilter.bind(n)),n.player.getNetworkingEngine().registerResponseFilter(n.networkResponseFilter.bind(n));var c=n.transformUrl(n.session.mediaUrl,n.playbackSessionConfiguration.mediaExtensions);n.playerLoadPromise=n.player.load(c,e.initialPosition),n.playerLoadPromise.then(function(){if(n.set({isLoaded:!0,keySystem:n.player.keySystem()}),n.configuration.subtitlesEnabled){var t=n.player.getTextTracks().map(function(t){return t.language});if(n.playbackSessionConfiguration.events){var e=n.playbackSessionConfiguration.events,r=e.eventDispatcher,i=e.Event;r.dispatchEvent(new i(i.TYPES.VIDEO_LOADED,{subtitleCodes:t}))}}}).catch(function(t){n.handleError("player-load",{type:"error",detail:t})}),n.startListening(),n.setPaused(!e.playWhenReady),r(n)})},e.prototype.startListening=function(){var t=this;document.addEventListener("fullscreenchange",this.onFullScreenChange.bind(this)),this.videoElementEventHandlers.forEach(function(e){t.node.addEventListener(e.event,e.handler.bind(t))}),this.player&&this.shakaPlayerEventHandlers.forEach(function(e){t.player.addEventListener(e.event,e.handler.bind(t))})},e.prototype.stopListening=function(){var t=this;document.removeEventListener("fullscreenchange",this.onFullScreenChange),this.videoElementEventHandlers.forEach(function(e){t.node.removeEventListener(e.event,e.handler)}),this.player&&this.shakaPlayerEventHandlers.forEach(function(e){t.player.removeEventListener(e.event,e.handler)})},e.prototype.onFullScreenChange=function(){this.handleFullScreenChange(document.fullscreenElement)},e.prototype.handleFullScreenChange=function(t){if(t){var e="[data-sessionId='"+this.session.sessionId+"']";(t.matches(e)||t.querySelector(e))&&(this.set({fullscreen:!0}),this.playbackEventsObserver.onFullscreenChanged(this.node.currentTime,!0))}else this.state.fullscreen&&(this.set({fullscreen:!1}),this.playbackEventsObserver.onFullscreenChanged(this.node.currentTime,!1))},e.prototype.getDefaultState=function(t){var e=t.playWhenReady,n=t.initialPosition;return{time:(new Date).getTime(),isAd:"true"===(0,u.path)(["metadata",p.IS_ADVERTISMENT],this.session),playWhenReady:e,isStarted:!1,isPlaying:!1,isPaused:!e,isEnded:!1,isError:!1,isBuffering:!1,isLoaded:!1,canPlay:!1,isSeeking:!1,seekingFrom:0,timeBuffering:0,readyTimeBuffering:0,isMuted:this.node.muted||0===this.node.volume,duration:this.node.duration||-1,currentTime:this.node.currentTime||n,progress:0,volume:this.node.muted?0:this.node.volume,bitrate:0,currentAudioFormat:null,currentVideoFormat:null,stats:{},endReason:o.EndVideoReasonEnd.END_UNKNOWN,hasInitiallySeeked:!1,hasInitiallyReadied:!1,currentVariantId:null,progressPercentages:[]}},e.prototype.networkRequestFilter=function(t,e){return y(this,void 0,void 0,function(){var n,r,i;return v(this,function(o){switch(o.label){case 0:return t!==f.default.net.NetworkingEngine.RequestType.LICENSE&&t!==f.default.net.NetworkingEngine.RequestType.MANIFEST?[2]:(this.latencyStartTimes[t]=Date.now(),this.configuration.getToken?(n=e.headers,[4,this.configuration.getToken()]):[3,2]);case 1:n.Authorization=o.sent(),o.label=2;case 2:return t===f.default.net.NetworkingEngine.RequestType.MANIFEST&&(this.configuration.getToken&&this.configuration.getWebgateHeaders&&(r=this.configuration.getWebgateHeaders(),i=r.reduce(function(t,e){return t[e[0]]=e[1],t},{}),e.headers=_({},e.headers,i)),this.playbackEventsObserver.onManifestLoading()),t===f.default.net.NetworkingEngine.RequestType.LICENSE&&this.playbackEventsObserver.onEncryptionKeyLoading(),[2]}})})},e.prototype.networkResponseFilter=function(t,e){var n;if(e&&e.data&&e.data.byteLength&&e.timeMs&&this.playbackEventsObserver.onBytesTransferred(e.data.byteLength,e.timeMs),(t===f.default.net.NetworkingEngine.RequestType.MANIFEST||t===f.default.net.NetworkingEngine.RequestType.LICENSE)&&this.latencyStartTimes[t]){var r=t===f.default.net.NetworkingEngine.RequestType.MANIFEST?"manifestLatency":"keyLatency",i=Date.now()-this.latencyStartTimes[t];this.set(((n={})[r]=i,n))}},e.prototype.emitEndedEvent=function(t,e){var n=0,r=this.getStats();r&&r.droppedFrames&&(n=r.droppedFrames),n>0&&this.playbackEventsObserver.onDroppedVideoFrames(n),this.playbackEventsObserver.onPlaybackEnded(e,t,n)},e.prototype.handleEnded=function(){this.disablePlayTimers(),this.state.isEnded||this.emitEndedEvent(o.EndReason.PLAYED_TO_END,this.node.currentTime),this.set({isEnded:!0,endReason:o.EndVideoReasonEnd.END_TRACK_DONE,stats:this.getStats()})},e.prototype.handleDurationchange=function(){var t=this.node.duration,e=this.node.currentTime;this.set({duration:t,progress:this.calculateProgress(e,t),stats:this.getStats()}),this.playbackEventsObserver.onDurationChanged(t)},e.prototype.handleLoadedMetadata=function(){this.playbackEventsObserver.onManifestLoaded()},e.prototype.handleTimeUpdate=function(){if(this.state.isLoaded&&this.state.isStarted){var t=this.lastSeekTime||this.node.currentTime||0,e=this.state.progress,n=this.calculateProgress(t,this.node.duration);this.set({currentTime:t,stats:this.getStats(),progress:n},!0),this.playbackEventsObserver.onTimeUpdate(t),this.emitProgress(n,e),this.state.isSeeking&&(this.set({isSeeking:!1,seekingFrom:null}),this.lastSeekTime=0)}},e.prototype.calculateProgress=function(t,e){var n=null;return e>0&&t>=0&&(n=t/e,n=Math.min(Math.max(n,0),1)),n},e.prototype.emitProgress=function(t,e){var n=this;null!==t&&t>e&&this.state.progressPercentages.forEach(function(r){e<=r&&t>r&&n.playbackEventsObserver.onProgressChanged(r)})},e.prototype.handlePlaying=function(){var t=!this.state.isStarted;this.set({isPlaying:!0,isStarted:!0,isEnded:!1,stats:this.getStats()}),t?this.playbackEventsObserver.onStarted(this.node.currentTime):this.playbackEventsObserver.onResumed(this.node.currentTime)},e.prototype.handlePause=function(){this.set({isPlaying:!1,stats:this.getStats()});var t=this.node.currentTime;t===this.node.duration||this.playbackEventsObserver.onPaused(t)},e.prototype.handleVolumechange=function(){var t=this.node.muted?0:this.node.volume,e=this.node.muted||0===this.node.volume;this.set({volume:t,isMuted:e}),this.playbackEventsObserver.onVolumeChanged(this.node.currentTime,t,e)},e.prototype.handleShakaError=function(t){this.handleError("shaka-event",t)},e.prototype.handleError=function(t,e){this.playbackSessionConfiguration.VideoPlayerErrorKM1&&this.playbackSessionConfiguration.VideoPlayerErrorKM1.log({file_id:(0,u.pathOr)("",["metadata","media.manifest_id"],this.session),uri:(0,u.pathOr)("",["metadata",p.PLAY_TRACK],this.session),playback_id:(0,u.pathOr)("",["metadata",p.PLAYBACK_ID],this.session),local_time:(new Date).getTime(),name:t,message:JSON.stringify({kind:t,type:e.type,detail:e.detail})});var n=this.get(),r={type:""+e.type};e.detail&&void 0!==e.detail.code&&(r.error_code=e.detail.code),e.detail&&void 0!==e.detail.category&&(r.error_category=e.detail.category);var i=this.getStats();r.buffering_time=""+i.bufferingTime,r.dropped_frames=""+i.droppedFrames,r.playback_latency=""+i.playbackLatency,e.detail&&e.detail.category===f.default.util.Error.Category.NETWORK&&e.detail.code===f.default.util.Error.Code.BAD_HTTP_STATUS&&(r.httpStatus=e.detail.data[1],r.responseText=e.detail.data[2],r.responseHeaders=e.detail.data[3]);var a=!1;e.detail&&e.detail.data&&e.detail.data[0]&&e.detail.data[0].includes&&e.detail.data[0].includes("subtitle")&&(a=!0),r.canRecover=a;var s=this.node&&this.node.currentTime?this.node.currentTime:this.state.currentTime,c={kind:t,data:e};a?this.playbackEventsObserver.onRecoverableError(c,s):this.playbackEventsObserver.onFatalError(c,s),this.state.isEnded||a||this.emitEndedEvent(o.EndReason.FATAL_ERROR,s),this.set({isEnded:!a,isError:!0,stats:i,endReason:o.EndVideoReasonEnd.END_TRACK_ERROR},!0),this.emit(o.InternalEvents.CHANGE,r,n,this.get())},e.prototype.handleAdaptation=function(t){if("adaptation"===t.type&&this.player){var e=this.player.getVariantTracks().find(function(t){return t.active});if(e&&(this.set({bitrate:e.bandwidth}),this.state.currentVariantId!==e.id)){var n={bandwidth:e.audioBandwidth,audioCodec:e.audioCodec},r={width:e.width,height:e.height,videoCodec:e.videoCodec,bandwidth:e.videoBandwidth};(0,u.equals)(this.state.currentAudioFormat,n)||this.playbackEventsObserver.onAudioFormatChanged(n,this.node.currentTime),(0,u.equals)(this.state.currentVideoFormat,r)||this.playbackEventsObserver.onVideoFormatChanged(r,this.node.currentTime),this.set({currentVariantId:e.id,currentAudioFormat:n,currentVideoFormat:r})}}},e.prototype.handleCanplay=function(){this.set({canPlay:!0})},e.prototype.handleSeeking=function(){this.state.hasInitiallySeeked?(this.set({isSeeking:!0}),this.playbackEventsObserver.onSeeking(this.state.seekingFrom,this.node.currentTime)):this.set({hasInitiallySeeked:!0})},e.prototype.handleSeeked=function(){this.state.hasInitiallyReadied||this.set({hasInitiallyReadied:!0}),this.playbackEventsObserver.onReady(this.node.currentTime,this.node.duration,!this.state.isPaused),this.set({isSeeking:!1,seekingFrom:null,progress:this.calculateProgress(this.state.currentTime,this.node.currentTime)})},e.prototype.onBufferingStateChange=function(t){if(t.buffering){var e=o.BufferType.INITIAL;this.state.hasInitiallyReadied&&(e=this.state.isSeeking?o.BufferType.SEEK:o.BufferType.STALL),this.set({isBuffering:!0,bufferType:e,lastBufferStart:Date.now(),isPlaying:!1}),this.playbackEventsObserver.onBuffering(this.node.currentTime,this.state.playWhenReady,e)}else this.state.isBuffering&&this.state.bufferType===o.BufferType.STALL&&this.playbackEventsObserver.onReady(this.node.currentTime,this.node.duration,!this.state.isPaused),this.set({isBuffering:!1,bufferType:""})},e.prototype.onEncryptionKeyLoaded=function(){this.playbackEventsObserver.onEncryptionKeyLoaded(this.player.keySystem())},e.prototype.enablePlayTimers=function(){var t=this;if(!this.playerBufferInterval){var e=function(){t.set({timeUpdate:!0}),t.set({timeUpdate:!1},!0)};e(),this.playerTimeUpdateInterval=window.setInterval(e,15e3)}},e.prototype.disablePlayTimers=function(){window.clearInterval(this.playerBufferInterval),window.clearInterval(this.playerTimeUpdateInterval),this.playerBufferInterval=0,this.playerTimeUpdateInterval=0,this.set({isBuffering:!1}),this.set({timeBuffering:0})},e.prototype.getStats=function(){return void 0!==this.player&&this.state.isLoaded?this.player.getStats():{}},e.prototype.getCurrentSubtitleCode=function(){return this.player.isTextTrackVisible()&&this.player.getTextTracks().find(function(t){return t.active})||""},e.prototype.getSubtitleChoice=function(t){var e="",n=t.indexOf("-x-cc")>0;if(!t)return"";for(var r=this.player.getTextTracks(),i=0;i<r.length;i++){var o=r[i].language;if(o===t){e=o;break}this.sameLanguageTagWithOrWithoutCC(o,t,n)&&(e=o),""===e&&this.hasSameLanguage(o,t)&&(e=o)}return e},e.prototype.sameLanguageTagWithOrWithoutCC=function(t,e,n){return!(!t||!e)&&t===(n?e.replace("-x-cc",""):e+"-x-cc")},e.prototype.hasSameLanguage=function(t,e){return!!(t&&t.length>1&&e&&e.length>1)&&t.substring(0,2)===e.substring(0,2)},e.prototype.setPaused=function(t){return t?(this.node.pause(),this.disablePlayTimers()):(this.node.play(),this.enablePlayTimers()),this.node.autoplay=!t,this.set({isPaused:t}),this},e.prototype.get=function(t){return t?this.state[t]:c.default.clone(this.state)},e.prototype.set=function(t,e){var n=this.get();return c.default.extend(this.state,t),this.state.time=(new Date).getTime(),e||this.emit(o.InternalEvents.CHANGE,void 0,n,this.get()),this},e.prototype.resume=function(){return this.setPaused(!1)},e.prototype.pause=function(){return this.setPaused(!0)},e.prototype.seekTo=function(t){var e=t;t<0&&(e=0);var n=this.node.duration||0;return t>n&&(e=n),t<.1&&(e=.1),this.lastSeekTime=e,this.set({currentTime:this.node.currentTime},!0),this.set({isSeeking:!0,seekingFrom:this.node.currentTime,currentTime:e,hasInitiallySeeked:!0}),this.node.currentTime=e,this},e.prototype.setVolume=function(t){var e=Math.pow(t,3);return this.set({volume:e}),this.node.volume=e,this},e.prototype.setAudioDisabled=function(t){return this.node.muted=t,this},e.prototype.setPreferredSubtitle=function(t){var e=this.getSubtitleChoice(t),n=this.getCurrentSubtitleCode();if(void 0!==this.player){if(e!==n){if(this.player.selectTextLanguage(e),this.player.configure({preferredTextLanguage:e}),this.player.setTextTrackVisibility(!!e),this.playbackSessionConfiguration.events){var r=this.playbackSessionConfiguration.events,i=r.eventDispatcher,o=r.Event;i.dispatchEvent(new o(o.TYPES.VIDEO_SUBTITLE_CHANGE,{subtitleCode:e}))}this.playbackEventsObserver.onSubtitleChanged(this.node.currentTime,{languageTag:e})}}else this.playbackSessionConfiguration.logWarn&&this.playbackSessionConfiguration.logWarn("Setting subtitles is only supported when using the ABR player");return this},e.prototype.newSessionLoaded=function(t){this.state.isEnded||this.playbackEventsObserver.onEndingPlayback(_({},t))},e.prototype.stop=function(t){return y(this,void 0,void 0,function(){var e,n,r,i,a,s;return v(this,function(u){switch(u.label){case 0:if(e=this.node&&this.node.currentTime?this.node.currentTime:this.state.currentTime,this.disablePlayTimers(),this.state.isEnded||this.emitEndedEvent(o.EndReason.REQUESTED,e),n=this.getStats(),this.set({isEnded:!0,endReason:t,stats:n}),this.stopListening(),void 0===this.player)return[3,5];n&&n.estimatedBandwidth&&(m=n.estimatedBandwidth),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.playerLoadPromise];case 2:return u.sent(),this.player.unload(),this.playbackSessionConfiguration.events&&(r=this.playbackSessionConfiguration.events,i=r.eventDispatcher,a=r.Event,i.dispatchEvent(new a(a.TYPES.VIDEO_UNLOADED))),[3,4];case 3:return s=u.sent(),this.handleError("player-unload",{type:"error",detail:s}),[3,4];case 4:this.player.getNetworkingEngine().clearAllRequestFilters(),this.player.getNetworkingEngine().clearAllResponseFilters(),this.containerElementMutationObserver.disconnect(),u.label=5;case 5:return[2]}})})},e.prototype.emitForPercentages=function(t){this.set({progressPercentages:Array.from(new Set(this.state.progressPercentages.concat(t))).slice().sort()})},e.prototype.clearEmittedPercentages=function(){this.set({progressPercentages:[]})},e.prototype.getNode=function(){return this.node},Object.defineProperty(e.prototype,"muted",{get:function(){return this.state.isMuted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.state.volume},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"started",{get:function(){return this.state.isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.state.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this.state&&this.state.isEnded},enumerable:!0,configurable:!0}),e}(a.EventEmitter);e.default=g},eXcQ:function(t,e,n){"use strict";t.exports={CLOSE:4e3,TIMEOUT:4001}},"eef+":function(t,e,n){var r=n("WI9V");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},eoLT:function(t,e,n){(function(t){e.fetch=s(t.fetch)&&s(t.ReadableStream),e.writableStream=s(t.WritableStream),e.abortController=s(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var n;function r(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){n=null}}else n=null;return n}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==t.ArrayBuffer,a=o&&s(t.ArrayBuffer.prototype.slice);function s(t){return"function"==typeof t}e.arraybuffer=e.fetch||o&&i("arraybuffer"),e.msstream=!e.fetch&&a&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&s(r().overrideMimeType),e.vbArray=s(t.VBArray),n=null}).call(this,n("pCvA"))},ep0v:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=!0,n=(0,o.createHash)();return function t(e,n){switch((0,i.default)(n)){case"boolean":!function(t,e){t("boolean:".concat(e))}(e,n);break;case"number":!function(t,e){t("number:".concat(e))}(e,n);break;case"string":!function(t,e){t("string:".concat(e.length,":").concat(e))}(e,n);break;case"object":if(null===n){a(e);break}if(Array.isArray(n)){!function(e,n){e("array:".concat(n.length,":"));var r=!0,i=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;void 0===c?a(e):t(e,c)}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}(e,n);break}if("function"==typeof n.toJSON){t(e,n.toJSON());break}!function(e,n){var r=Object.keys(n).filter(function(t){return void 0!==n[t]});r.sort(),e("object:".concat(r.length,":"));var i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;e("".concat(c,":")),t(e,n[c])}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}(e,n)}}(function(t){n.update(t),e=!1},t),e?void 0:n.digest("hex")};var i=r(n("e+GP")),o=n("e363");function a(t){t("null")}},ewx7:function(t,e,n){"use strict";var r=n("8/eb");t.exports=r({CONNECTION_ONLINE:"online",CONNECTION_OFFLINE:"offline",DEALER_AUTHENTICATED:"authenticated",DEALER_AUTHENTICATION_FAILED:"authentication_failed",DEALER_CONNECTED:"connected",DEALER_CONNECTION_ID:"connection_id",DEALER_ERROR:"error",DEALER_DISCONNECTED:"disconnected",DEALER_MESSAGE:"message",DEALER_REQUEST:"request",INTERNAL_DEALER_MESSAGE:"__dealer_message",INTERNAL_DEALER_REQUEST:"__dealer_request",PRODUCT_STATE_CHANGED:"product_state_changed",TRANSPORT_ACCESS_TOKEN:"access_token",TRANSPORT_AUTHENTICATED:"authenticated",TRANSPORT_AUTHENTICATION_FAILED:"authentication_failed",TRANSPORT_BEFORE_OFFLINE_DISCONNECT:"before_offline_disconnect",TRANSPORT_BEFORE_ONLINE_DISCONNECT:"before_online_disconnect",TRANSPORT_CONNECTED:"connected",TRANSPORT_CONNECTION_ERROR:"connection_error",TRANSPORT_CONNECTION_FAILED:"connection_failed",TRANSPORT_CONNECTION_ID:"connection_id",TRANSPORT_CONNECTION_OFFLINE:"connection_offline",TRANSPORT_CONNECTION_ONLINE:"connection_online",TRANSPORT_DEALER_MESSAGE:"dealer_message",TRANSPORT_DISCONNECTED:"disconnected",TRANSPORT_ENDPOINTS_RESOLVED:"endpoints_resolved",TRANSPORT_LOGGED_OUT:"logged_out",TRANSPORT_SHORT_SESSION_DISCONNECTED:"short_session_disconnected",TRANSPORT_RECONNECTED:"reconnected",TRANSPORT_RECONNECTING:"reconnecting",WINDOW_BEFORE_UNLOAD:"beforeunload"})},"f/Q/":function(t,e,n){"use strict";var r=n("LObV");function i(t){this._limit=t||100,this._list=null,this._map=null,this.clear()}i.prototype.get=function(t){var e=this._map[t];if(!e)return null;var n=this._list;return n.remove(e),n.append(e),e.value},i.prototype.set=function(t,e){if(!t)throw new TypeError("Cache key can't be empty!");var n=this._list,i=this._map;if(n.length>=this._limit){var o=n.first;i[o.key]=null,n.remove(o)}var a=i[t];a?(n.remove(a),a.value=e):(a=new r.Node(e)).key=t,n.append(a),i[t]=a},i.prototype.remove=function(t){var e=this._map,n=e[t];return n?(this._list.remove(n),e[t]=null,n.value):null},i.prototype.size=function(){return this._list.length},i.prototype.clear=function(){this._list=new r,this._map={}},t.exports=i},f1wx:function(t,e,n){"use strict";var r=n("d8l3");t.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},f66B:function(t,e,n){var r=n("V0bL"),i=n("73GF"),o=n("wQ5h"),a=n("0Msv"),s=n("VkDQ"),u=n("WuMz"),c=Date.prototype.getTime;function l(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,n,p){var h=p||{};return!(h.strict?!o(e,n):e!==n)||(!e||!n||"object"!=typeof e&&"object"!=typeof n?h.strict?o(e,n):e==n:function(e,n,o){var p,h;if(typeof e!=typeof n)return!1;if(l(e)||l(n))return!1;if(e.prototype!==n.prototype)return!1;if(i(e)!==i(n))return!1;var d=a(e),_=a(n);if(d!==_)return!1;if(d||_)return e.source===n.source&&s(e)===s(n);if(u(e)&&u(n))return c.call(e)===c.call(n);var y=f(e),v=f(n);if(y!==v)return!1;if(y||v){if(e.length!==n.length)return!1;for(p=0;p<e.length;p++)if(e[p]!==n[p])return!1;return!0}if(typeof e!=typeof n)return!1;try{var m=r(e),g=r(n)}catch(e){return!1}if(m.length!==g.length)return!1;for(m.sort(),g.sort(),p=m.length-1;p>=0;p--)if(m[p]!=g[p])return!1;for(p=m.length-1;p>=0;p--)if(!t(e[h=m[p]],n[h],o))return!1;return!0}(e,n,h))}},fBgj:function(t,e,n){"use strict";var r=n("vdEC"),i=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=i(n("e+GP")),s=i(n("S+Ue")),u=r(n("mXGw")),c=i(n("uv3J")),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};e.default=function(t,e){return function(n){if("function"!=typeof t)throw new Error("mapResolverToProps must be a function");if(null===e||"object"!==(0,a.default)(e)||!("blockRendering"in e))throw new Error('"blockRendering" option is required');var r,i=e.blockRendering,o=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=t.getMappedProps(),t.handleActivate=function(){t.setState(t.getMappedProps())},t}return l(r,e),r.prototype.componentDidMount=function(){this.requireResolver().addListener(s.default.Event.ACTIVATE,this.handleActivate)},r.prototype.componentWillUnmount=function(){this.requireResolver().removeListener(s.default.Event.ACTIVATE,this.handleActivate)},r.prototype.getMappedProps=function(){var e=this.requireResolver();if(e.isActive||!i)try{return t(e,this.props.passThroughProps)||{}}catch(t){s.default.swallowException(t)}return{}},r.prototype.requireResolver=function(){var t=this.props.resolver;if(!t)throw new Error("You need to wrap this component in a RemoteConfigProvider");return t},r.prototype.render=function(){return!this.requireResolver().isActive&&i?null:u.createElement(n,f({},this.props.passThroughProps,this.state))},r}(u.Component),p=function(t){return u.createElement(c.default.Consumer,null,function(e){return u.createElement(o,{passThroughProps:t,resolver:e})})};return p.displayName="WithRemoteConfig("+((r=n).displayName||r.name||"Component")+")",p}}},fFKA:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.TimeUnit=void 0,e.TimeUnit=r,function(t){t[t.MILLISECOND=1]="MILLISECOND",t[t.SECOND=1e3]="SECOND",t[t.MINUTE=6e4]="MINUTE",t[t.HOUR=36e5]="HOUR"}(r||(e.TimeUnit=r={})),function(t){function e(e,n){var r=1!==e?"s":"";switch(n){case t.HOUR:return e+" hour"+r;case t.MINUTE:return e+" minute"+r;case t.SECOND:return e+" second"+r;case t.MILLISECOND:return e+" millisecond"+r;default:throw new TypeError("Unknown TimeUnit "+n)}}t.stringify=function(n,r){void 0===r&&(r=[t.HOUR,t.MINUTE,t.SECOND]);for(var i=n,o=[],a=0,s=r;a<s.length;a++){var u=s[a],c=Math.floor(i/u);c>0&&(o.push(e(c,u)),i-=c*u)}if(i>0&&o.push(e(i,t.MILLISECOND)),o.length>=2){var l=o.pop();o.push(o.pop()+" and "+l)}return o.join(", ")}}(r||(e.TimeUnit=r={}))},fFdx:function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)})}}},fTkg:function(t,e,n){"use strict";var r="function"==typeof Object.defineProperty,i={value:!1,writable:!0};function o(t,e){if(this.type=t,e)for(var n in e)e.hasOwnProperty(n)&&"type"!==n&&(this[n]=e[n]);r?(Object.defineProperty(this,"_prevented",i),Object.defineProperty(this,"_stopped",i),Object.defineProperty(this,"_immediateStopped",i),Object.defineProperty(this,"defaultPrevented",{get:function(){return this._prevented}.bind(this),set:function(t){return t}})):(this.defaultPrevented=!1,this._prevented=!1,this._stopped=!1,this._immediateStopped=!1)}o.wasPropagationStopped=function(t){return!!t._stopped},o.wasImmediatePropagationStopped=function(t){return!!t._immediateStopped},o.prototype.preventDefault=function(){this._prevented=!0,r||(this.defaultPrevented=!0)},o.prototype.stopPropagation=function(){this._stopped=!0},o.prototype.stopImmediatePropagation=function(){this._immediateStopped=!0},t.exports=o},fVVT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyOpenClassName=e.portalClassName=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n("mXGw"),a=d(o),s=d(n("xARA")),u=d(n("W0B4")),c=d(n("W7aI")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("0TdX")),f=n("s4Wf"),p=d(f),h=n("NGR8");function d(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var y=e.portalClassName="ReactModalPortal",v=e.bodyOpenClassName="ReactModal__Body--open",m=void 0!==s.default.createPortal,g=function(){return m?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function E(t){return t()}var b=function(t){function e(){var t,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=i=_(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),i.removePortal=function(){!m&&s.default.unmountComponentAtNode(i.node),E(i.props.parentSelector).removeChild(i.node)},i.portalRef=function(t){i.portal=t},i.renderPortal=function(t){var n=g()(i,a.default.createElement(c.default,r({defaultStyles:e.defaultStyles},t)),i.node);i.portalRef(n)},_(i,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),i(e,[{key:"componentDidMount",value:function(){f.canUseDOM&&(m||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!m&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(t){return{prevParent:E(t.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(t,e,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;t.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(t.isOpen||i)&&!m&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var t=this.portal.state,e=Date.now(),n=t.isOpen&&this.props.closeTimeoutMS&&(t.closesAt||e+this.props.closeTimeoutMS);n?(t.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-e)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&m?(!this.node&&m&&(this.node=document.createElement("div")),g()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(t){l.setElement(t)}}]),e}();b.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(p.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},b.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},b.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(b),e.default=b},"fwl+":function(t,e,n){"use strict";var r=n("ovh1");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},fyAB:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,function(t){t.END_APPLOAD="appload",t.END_UNKNOWN="unknown",t.END_TRACK_DONE="trackdone",t.END_TRACK_ERROR="trackerror",t.END_PLAY="endplay",t.END_UNEXPECTED_EXIT="unexpected-exit",t.END_UNEXPECTED_EXIT_WHILE_PAUSED="unexpected-exit-while-paused"}(r||(r={}));var i=r;e.default=i},"g+31":function(t,e,n){"use strict";(function(e,r,i){var o=n("upWy");function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;m.WritableState=v;var c=n("nrnY");c.inherits=n("wfEq");var l,f={deprecate:n("ct8n")},p=n("n428"),h=n("pRMk").Buffer,d=i.Uint8Array||function(){},_=n("xTpk");function y(){}function v(t,e){s=s||n("A/eZ"),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(R,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),R(t,e))}(t,n,r,e,i);else{var a=T(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(t,n),r?u(E,t,n,a,i):E(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(t){if(s=s||n("A/eZ"),!(l.call(m,this)||this instanceof s))return new m(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),p.call(this)}function g(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function E(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),R(t,e)}function b(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,g(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(g(t,e,!1,e.objectMode?1:c.length,c,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var n=T(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(m,p),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===m&&t&&t._writableState instanceof v}})):l=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=y),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n)),e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else g(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,R(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=_.destroy,m.prototype._undestroy=_.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n("5IsQ"),n("oPUo").setImmediate,n("pCvA"))},g3mZ:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("Q0s3");function a(t){return JSON.parse(JSON.stringify(t))}function s(t){if(i.call(this),!t)throw new TypeError("Invalid argument `options`.");if(!t.id)throw new TypeError("Argument `options.id` is required.");if(!t.name||!t.model||!t.type)throw new TypeError("Incomplete `options` value.");this._id=t.id,this._type=t.type,this._brand=t.brand,this._model=t.model,this._name=t.name,this._platformIdentifier=t.platform_identifier,this._platformVersion=t.platform_version,this._metadata=t.metadata||{},this._capabilities=t.capabilities||{manifest_formats:[]}}r(s,i),s.create=function(t){return new s(t)},s.prototype.getId=function(){return this._id},s.prototype.setCapability=function(t,e){switch(t){case"manifest_formats":throw new TypeError('Cannot change capability "manifest_formats"');default:return this._capabilities[t]=e,this.emit(o.DEVICE_DESCRIPTOR_CHANGED,{descriptor:this.toJSON()}),!0}},s.prototype.getCapability=function(t){switch(t){case"manifest_formats":throw new TypeError("Use `descriptor.getManifestFormats()`.");default:return this._capabilities[t]}},s.prototype.setName=function(t){return this._name=t,this.emit(o.DEVICE_DESCRIPTOR_CHANGED,{descriptor:this.toJSON()}),!0},s.prototype.getName=function(){return this._name},s.prototype.getPlatformIdentifier=function(){return this._platformIdentifier||["Partner",this._brand,this._model].join(" ")},s.prototype.getPlatformVersion=function(){return this._platformVersion},s.prototype.getManifestFormats=function(){return this._capabilities.manifest_formats||[]},s.prototype.appendManifestFormat=function(){var t=Array.prototype.slice.call(arguments),e=this._capabilities.manifest_formats;Array.isArray(e)&&e.push.apply(e,t)},s.prototype.toJSON=function(){return{id:this._id,type:this._type,brand:this._brand,model:this._model,name:this._name,platform_identifier:this._platformIdentifier,platform_version:this._platformVersion,metadata:a(this._metadata),capabilities:a(this._capabilities)}},s.prototype.toTrackPlaybackJSON=function(){return{device_id:this._id,device_type:this._type,brand:this._brand,model:this._model,name:this._name,platform_identifier:this._platformIdentifier,platform_version:this._platformVersion,metadata:a(this._metadata),capabilities:a(this._capabilities)}},t.exports=s},"gD/h":function(t,e,n){"use strict";(function(e){var r=n("/ub/"),i=n("asuC"),o=n("F9Td"),a=n("FtDD"),s=n("qt0y"),u=n("FSw7"),c=n("cmty");function l(t){this._keySystem=t.keySystem,this._keySystemSettings=u[this._keySystem],this._abrManager=t.abrManager,this._mediaType="audio",this._uri=t.uri,this._fileId=t.fileId,this._format=t.format,this._isAd=t.isAd,this._transport=t.transport,this._resolver=t.resolver,this._resolvedURL=t.resolvedURL,this._fallbackURLs=[],this._resolvedURLs=[],this._logData=t.logData||{},this._codec=t.codec||l.PROTECTED_CODEC,this._bypassResolve=!!this._resolvedURL,this._noManifest=t.noManifest||!1,this._preloadedManifest=t.preloadedManifest||null,this._disableCache=t.disableCache,this._emitWarning=t.emitWarning||function(){},this._protection=null,this._psshBox=null,this._fragments=null,this._duration=0,this._frontPaddingDuration=0,this._endPaddingDuration=0,this._initFragment=null,this._headFragment=null,this._fetching=[],this._loaded=!1,this._lastResolveTimestamp=0,this._lastResolveToken=null,this._licenseEndpoint=t.licenseEndpoint||null}l.create=function(t){return new l(t||{})},l.UNPROTECTED_CODEC="audio/mpeg",l.PROTECTED_CODEC='audio/mp4; codecs="mp4a.40.2"',l.prototype.resolve=function(t){if(this._bypassResolve)return t&&(t.resolveLatency=0),i.resolve({lid:null,uri:this._resolvedURL,protection:!!this._preloadedManifest||!this._noManifest});clearTimeout(this._lastResolveToken);var e=function(){return this._lastResolveTimestamp=Date.now(),this._resolver.getCDNURL(this._uri,this._fileId,this._keySystem).then(function(e){return t&&(t.resolveLatency=Date.now()-this._lastResolveTimestamp),e}.bind(this))}.bind(this),n=Date.now()-this._lastResolveTimestamp;return(n<1001?new i(function(t,r){this._lastResolveToken=setTimeout(function(){e().then(t,r)},1001-n)}.bind(this)):e()).then(function(t){this._resolvedURLs=[];for(var e=0,n=t.uris.length;e<n;e++){var r=t.uris[e].split("?")[0];this._resolvedURLs.push(r)}return this._fallbackURLs=t.uris,this._resolvedURL=this._fallbackURLs.shift(),t}.bind(this)).catch(function(t){return t&&(t.track=this.toLogJSON()),i.reject(t)}.bind(this))},l.prototype._parsePSSHBox=function(t){for(var n=r.decode(t),i=new e.Uint8Array(n.length),o=0,a=n.length;o<a;o++)i[o]=n.charCodeAt(o);return i},l.prototype._getManifest=function(t){if(this._noManifest)return t&&(t.manifestLatency=0),i.resolve(null);if(this._preloadedManifest)return t&&(t.manifestLatency=0),i.resolve(this._preloadedManifest);var e=Date.now();return this._resolver.getManifest(this._fileId,this._keySystem).then(function(n){return t&&(t.manifestLatency=Date.now()-e),n})},l.prototype._calculateFragments=function(t){var e=t.offset;this._initFragment={init:!0,cacheBuffer:!this._disableCache,bufferURL:null,buffer:null,byteStart:0,byteEnd:e-1,codec:this._codec};for(var n=t.segments,r=t.timescale,i=0,o=n.length,a=new Array(o),s=0,u=0,c=o;u<c;u++){var l=n[u],f=l[0],p=l[1],h=p/r;a[u]={cacheBuffer:!u&&!this._disableCache,bufferURL:null,buffer:null,byteStart:e,byteEnd:e+(f-1),timeStart:i,timeEnd:i+h,codec:this._codec},e+=f,s+=p,i+=h}var d=a[a.length-1].byteEnd;a[a.length-1].isLastFragment=!0,this._fragments=a,this._duration=s/r,this._frontPaddingDuration=1024/44100,this._endPaddingDuration=(1024-d%1024+2048)/r},l.prototype._calculateFragmentsV1=function(t){var e=t.offset;this._initFragment={init:!0,cacheBuffer:!this._disableCache,buffer:null,byteStart:0,byteEnd:e-1,codec:this._codec};for(var n=t.references,r=t.timescale,i=0,o=n.length,a=new Array(o),s=0,u=0,c=o;u<c;u++){var l=n[u],f=l.duration/r;a[u]={cacheBuffer:!u&&!this._disableCache,buffer:null,byteStart:e,byteEnd:e+(l.size-1),timeStart:i,timeEnd:i+f,codec:this._codec},e+=l.size,s+=l.duration,i+=f}a[a.length-1].isLastFragment=!0,this._fragments=a,this._duration=s/r},l.prototype.getFragmentLength=function(){return 10},l.prototype.getLicenseEndpoint=function(){return this._licenseEndpoint},l.prototype.getBufferForFragment=function(t){if(!t)return null;if(t.buffer)return i.resolve({audio:{bufferURL:t.bufferURL,buffer:t.buffer,codec:this._codec,bandwidth:null}});if(!this._resolvedURL)return i.reject(new a(s.FILE_NOT_RESOLVED,"Cannot fetch buffer: No resolved URL"));var e=i.defer();this._startFetching(e.resolve);var n,r=t.byteEnd+1-t.byteStart,u=t.byteStart+"-"+t.byteEnd,c=t.timeStart+"-"+t.timeEnd,l=this._resolvedURL;return this._transport.request(l,{method:"GET",responseType:"arraybuffer",headers:{Range:"bytes="+u},timing:!0,canceller:e.promise,retry:{condition:function(t,e){if(0===t.status)return t.offline;var n=t.getStatusFamily();return n===e.CONNECTION_ERROR||n===e.SERVER_ERROR||!(n!==e.SUCCESS||!t.body)&&t.body.byteLength!==r}}}).then(function(a){switch(this._endFetching(e.resolve),a.status){case 0:if(a.offline)return i.reject(new o(s.FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{time_range:c,byte_range:u}));var f=new o(s.FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0);return n=!1,this._resolvedURL!==l?n=!0:this._fallbackURLs.length&&this._resolvedURL===l&&(n=!0,this._resolvedURL=this._fallbackURLs.shift()),f.debug.has_fallback=n,n?(this._emitWarning(f,this.toLogJSON()),this.getBufferForFragment(t)):i.reject(f);case 200:case 206:if(!a.body)return i.reject(new o(s.FRAGMENT_REQUEST_EMPTY_RESPONSE,"Empty response for successful buffer.",a.status,{time_range:c,byte_range:u}));var p=a.body;if(p.byteLength!==r)return i.reject(new o(s.FRAGMENT_REQUEST_UNEXPECTED_LENGTH,"Received buffer of unexpected length.",a.status,{time_range:c,byte_range:u,received_length:p.byteLength,expected_length:r}));if(t.cacheBuffer&&p&&p.byteLength){t.bufferURL=l,t.buffer=p;var h=t.sliceInto;if(h&&h.length)for(var d=0,_=t.sliceInto.length;d<_;d++){var y=h[d];y.fragment&&y.fragment.cacheBuffer&&(y.fragment.bufferURL=l,y.fragment.buffer=p.slice(y.start,y.end))}}return this._abrManager.sample(p.byteLength,a.timing.completed),{audio:{bufferURL:l,buffer:p,codec:this._codec,bandwidth:8e3*p.byteLength/a.timing.completed}};case 403:return this.resolve().then(function(){return this.getBufferForFragment(t)}.bind(this));default:return n=!1,this._resolvedURL!==l?n=!0:this._fallbackURLs.length&&this._resolvedURL===l&&(n=!0,this._resolvedURL=this._fallbackURLs.shift()),n?this.getBufferForFragment(t):i.reject(new o(s.FRAGMENT_REQUEST_FAILED_WITH_STATUS,"Buffer request failed with status "+a.status,a.status,{time_range:c,byte_range:u}))}}.bind(this))},l.prototype._startFetching=function(t){this._fetching.push(t)},l.prototype._endFetching=function(t){var e=this._fetching.indexOf(t);-1!==e&&this._fetching.splice(e,1)},l.prototype.getURI=function(){return this._uri},l.prototype.getResolvedURLs=function(){return this._resolvedURLs},l.prototype.getFileId=function(){return this._fileId},l.prototype.getFormat=function(){return this._format},l.prototype.getCalculatedDuration=function(){return this._duration},l.prototype.getResolvedURL=function(){return this._resolvedURL},l.prototype.getLogData=function(){return this._logData},l.prototype.getKeySystem=function(){return this._keySystem},l.prototype.getMediaType=function(){return this._mediaType},l.prototype.getInitParams=function(){var t={keySystem:this._keySystem,initDataType:this._protection,initData:this._psshBox,licenseServer:null};return i.resolve(t)},l.prototype.isAd=function(){return!!this._isAd},l.prototype.isProtected=function(){return!!this._protection&&!!this._psshBox},l.prototype.setLogData=function(t){return this._logData=t,this},l.prototype.load=function(t){var n=t||{};return this._loaded?(n.resolveLatency=0,n.manifestLatency=0,i.resolve(this)):i.all([this.resolve(n),this._getManifest(n)]).spread(function(t,n){if(this._loaded=!0,!t.protection||!n)return this;if(this._keySystem===c.INVALID_SPOTIFY_KEY)return this._protection=n.protection||"cenc",this._psshBox=new e.Uint8Array,this;var r,o=this._keySystemSettings.pssh_field.audio,u=n[o];if(!u){if("pssh_widevine"!==o)return(r=new a(s.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format.")).track=this.toLogJSON(),i.reject(r);u=n.pssh}if(this._protection=n.protection||"cenc",this._psshBox=this._parsePSSHBox(u||"AAAAT3Bzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAAC8IARIQjkdvXv0rqMqeUvuJdEQ6BxoHc3BvdGlmeSIQU5XxcNx4EeWn2APhWavFng=="),n.segments)this._calculateFragments(n);else{if(!n.references)return(r=new a(s.FILE_MALFORMED_SEEKTABLE,"Malformed seektable.")).track=this.toLogJSON(),i.reject(r);this._calculateFragmentsV1(n)}return this}.bind(this))},l.prototype.getInitFragment=function(){return this._initFragment},l.prototype.getFirstFragment=function(){return this._fragments[0]},l.prototype.getHeadFragment=function(){var t=this._initFragment,e=this._fragments[0];return this._headFragment||(this._headFragment={init:!0,cacheBuffer:!0,bufferURL:null,buffer:null,byteStart:t.byteStart,byteEnd:e.byteEnd,codec:this._codec,sliceInto:[{fragment:t,start:0,end:e.byteStart},{fragment:e,start:e.byteStart,end:void 0}]}),this._headFragment},l.prototype.clearCachedBuffers=function(){this._headFragment&&(this._headFragment=null),this._initFragment&&(this._initFragment.buffer=null),this._fragments&&this._fragments[0]&&(this._fragments[0].buffer=null)},l.prototype.getPlayableCodecs=function(){return[this.isProtected()?this._codec:l.UNPROTECTED_CODEC]},l.prototype.getFragmentForTime=function(t){if(null===this._fragments)return null;var e=null;if(0===t||.01===t)e=this._fragments[0];else for(var n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart<=t&&this._fragments[n].timeEnd>=t){e=this._fragments[n];break}return e},l.prototype.getFragmentAfterTime=function(t){if(null===this._fragments)return null;var e=null;if(0===t||.01===t)e=this._fragments[1];else for(var n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart>t){e=this._fragments[n];break}return e},l.prototype.abort=function(){this._fetching.forEach(function(t){"function"==typeof t&&t(!0)}),this._fetching=[]},l.prototype.toLogJSON=function(){return{uri:this._uri,fileId:this._fileId,format:this._format,resolved_url:this._resolvedURL}},t.exports=l}).call(this,n("pCvA"))},gHi2:function(t,e,n){"use strict";var r=n("rAIa"),i=n("kwMy"),o=n("1ANC"),a=n("G5gT").Event,s=n("asuC");t.exports=function(t){var e=t||{},n=o(e.xresolve),u=i({providers:{endpoints:function(t){return n(t).then(function(t){var n=e.endpoints;if(n)for(var r in n)n.hasOwnProperty(r)&&n[r]&&(t[r]=n[r]);return t.dealer=null,t})},token:function(){return new s(function(t){e.getToken(function(e,n){t(void 0===n?e:[e,n])})})}}});u.on(a.TRANSPORT_CONNECTED,function(){e.noAuthentication||u.authenticate()}),e.transport=u;var c=r.create(e);return u.connect(),c}},gLbv:function(t,e,n){"use strict";t.exports=function(){return{name:"context_time",data:{timestamp:Date.now()}}}},gMC6:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.createPlaybackMetadata=R,e.retrieveEndvideoMetadata=A,e.getLastTimestamp=function(t,e){return t.filter(function(t){return t.type===e}).reduce(function(t,e){return e.timestamp},S)},e.getFirstTimestamp=function(t,e){return t.filter(function(t){return t.type===e}).reduce(function(t,e){return t===S?e.timestamp:t},S)},e.computeRange=function(t,e){if(!Number.isFinite(t)||!Number.isFinite(e))return 0;var n=e-t;return!Number.isFinite(n)||n<0?0:Math.round(1e3*n)},e.handlePlayingPosition=e.interruptedWhilePlaying=e.endedWhilePlaying=e.seekingWhilePlaying=e.startedPlaying=e.retrieveEndVideoReasonStart=e.retrieveReasonStart=e.bytesTransferred=e.fullscreen=e.seeking=e.manifestLoaded=e.subtitles=e.encryptionKeyLoading=e.encryptionKeyLoaded=e.videoFormat=e.audioFormat=e.duration=e.ready=e.created=e.paused=e.newSessionLoaded=e.droppedFrames=e.ended=e.resumed=e.createMetadataWithEndVideoPrefix=e.addEndVideoPrefix=e.DEFAULT_INVALID_TIME=e.ENDVIDEO_KEYS=e.IS_ADVERTISMENT=e.COMMAND_INITIATED_TIME_MS=e.PROVIDER=e.PLAY_TRACK=e.REFERRER=e.FILE_ID=e.PLAY_CONTEXT=e.VIEW_URI=e.GAIA_DEV_ID=e.FEATURE_VERSION=e.REFERRER_VERSION=e.FEATURE_IDENTIFIER=e.REASON_START=e.PLAYBACK_ID=e.END_VIDEO_PREFIX=void 0;var i=n("yWAF"),o=n("WnZh"),a=r(n("WshP")),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},u="endvideo_";e.END_VIDEO_PREFIX=u;var c="playback_id";e.PLAYBACK_ID=c;var l="reason_start";e.REASON_START=l;var f="feature_identifier";e.FEATURE_IDENTIFIER=f;var p="referrer_version";e.REFERRER_VERSION=p;var h="feature_version";e.FEATURE_VERSION=h;var d="gaia_dev_id";e.GAIA_DEV_ID=d;var _="view_uri";e.VIEW_URI=_;var y="play_context";e.PLAY_CONTEXT=y;var v="file_id";e.FILE_ID=v;var m="referrer";e.REFERRER=m;var g="play_track";e.PLAY_TRACK=g;var E="provider";e.PROVIDER=E;var b="command_initiated_time_ms";e.COMMAND_INITIATED_TIME_MS=b,e.IS_ADVERTISMENT="is_advertisement";var T=[c,l,f,h,p,v,d,_,y,m,g,E,b];e.ENDVIDEO_KEYS=T;var S=-1;function R(t){var e,n=(0,i.pathOr)("",["track","playback_id"],t),r=(0,i.pathOr)("",["track","track","metadata","media.manifest_id"],t),o=(0,i.pathOr)("",["track","play_origin","feature_identifier"],t),a=(0,i.pathOr)("",["track","play_origin","feature_version"],t),s=(0,i.pathOr)("",["track","play_origin","view_uri"],t),u=(0,i.pathOr)("",["track","play_origin","referrer_identifier"],t),T=(0,i.pathOr)("",["track","play_origin","device_identifier"],t),S=(0,i.pathOr)("",["track","track","provider"],t),R=(0,i.pathOr)("unknown",["start_reason"],t),w=(0,i.pathOr)("",["track","context_uri"],t),O=(0,i.pathOr)("",["track","track","uri"],t),A=(0,i.pathOr)(-1,["logging_params","command_initiated_time"],t);return(e={})[c]=n,e[f]=o,e[p]=a,e[h]=a,e[_]=s,e[m]=u,e[d]=T,e[E]=S,e[l]=R,e[y]=w,e[g]=O,e[b]=A,e[v]=r,e}e.DEFAULT_INVALID_TIME=S;var w=(0,o.addKeysPrefix)(T)(u);e.addEndVideoPrefix=w;var O=(0,i.compose)(w,R);function A(t){return(0,i.toPairs)(t).filter(function(t){return t[0].includes(u)}).reduce(function(t,e){var n,r=e[0],o=e[1];return s({},t,((n={})[(0,i.replace)(u,"",r)]=o,n))},{})}e.createMetadataWithEndVideoPrefix=O;var I=function(t){return t.type===a.default.RESUMED};e.resumed=I;var N=function(t){return t.type===a.default.ENDED};e.ended=N,e.droppedFrames=function(t){return t.type===a.default.DROPPED_FRAMES},e.newSessionLoaded=function(t){return t.type===a.default.NEW_SESSION_LOADED};var C=function(t){return t.type===a.default.PAUSED};e.paused=C,e.created=function(t){return t.type===a.default.CREATED},e.ready=function(t){return t.type===a.default.READY},e.duration=function(t){return t.type===a.default.DURATION_CHANGED},e.audioFormat=function(t){return t.type===a.default.AUDIO_FORMAT_CHANGED},e.videoFormat=function(t){return t.type===a.default.VIDEO_FORMAT_CHANGED},e.encryptionKeyLoaded=function(t){return t.type===a.default.ENCRYPTION_KEY_LOADED},e.encryptionKeyLoading=function(t){return t.type===a.default.ENCRYPTION_KEY_LOADING},e.subtitles=function(t){return t.type===a.default.SUBTITLE_CHANGED},e.manifestLoaded=function(t){return t.type===a.default.MANIFEST_LOADED};var P=function(t){return t.type===a.default.SEEKING};e.seeking=P,e.fullscreen=function(t){return t.type===a.default.FULLSCREEN_CHANGED},e.bytesTransferred=function(t){return t.type===a.default.BYTES_TRANSFERRED};var L=function(t){return t[l]||""};e.retrieveReasonStart=L;var k=(0,i.compose)(L,A);e.retrieveEndVideoReasonStart=k,e.startedPlaying=function(t){return function(e){return I(e)&&!t}},e.seekingWhilePlaying=function(t){return function(e){return P(e)&&t}},e.endedWhilePlaying=function(t){return function(e){return N(e)&&t}},e.interruptedWhilePlaying=function(t){return function(e){return(P(e)||C(e)||N(e))&&t}},e.handlePlayingPosition=function(t,e){var n=t.data;return s({},e,{playing:!0,playingPosition:n.position})}},gVxV:function(t,e,n){"use strict";function r(t){this.data_=t,this.position_=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r.prototype.atEnd=function(){return this.position_===this.data_.length},r.prototype.readLine=function(){return this.readRegexReturnCapture_(/(.*?)(\n|$)/gm,1)},r.prototype.readWord=function(){return this.readRegexReturnCapture_(/[^ \t\n]*/gm,0)},r.prototype.skipWhitespace=function(){this.readRegex(/[ \t]+/gm)},r.prototype.readRegex=function(t){var e=this.indexOf_(t);return this.atEnd()||null==e||e.position!==this.position_?null:(this.position_+=e.length,e.results)},r.prototype.readRegexReturnCapture_=function(t,e){if(this.atEnd())return null;var n=this.readRegex(t);return n?n[e]:null},r.prototype.indexOf_=function(t){t.lastIndex=this.position_;var e=t.exec(this.data_);return null==e?null:{position:e.index,length:e[0].length,results:e}};var i=r;e.default=i},gY3k:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("asuC"),o=n("tCOP"),a=n("YD67"),s=n("qG8n"),u=n("8Pwi"),c=n("qt0y"),l=n("cmty"),f=n("cwxh"),p=n("FSw7"),h=n("7xV0"),d=n("liw5"),_=n("uDox").forTag("playback.eme_manager"),y=/([^;]+)(?:;\s?codecs="(.*)")?/;function v(t){s.call(this),this._transport=t.transport,this._noServerCertificate=t.noServerCertificate,this._preferredKeySystems=t.preferredKeySystems||[l.WIDEVINE,l.PLAYREADY,l.PLAYREADY_HARDWARE],this._configFilter=d(t.disallowRobustnessValues||[]),this._emeImpl=t.emeImpl,this._keySystemDeferred=i.defer(),this._configuration=i.defer(),this._keySystemSettings=null,this._keySessions=[],this._configs=[]}r(v,s),v.create=function(t){return new i(function(e){var n=f.install();if(!n)throw new o(c.EME_API_NOT_SUPPORTED,"Platform does not support navigator.requestMediaKeySystemAccess").fatal();t.emeImpl=n,e(new v(t).init())})},v.prototype._prepareConfiguration=function(t){var e=t.getConfiguration();_.info("KeySystem configured as ",e.label),e.audioCapabilities&&e.audioCapabilities.length||this._appendProbableMediaCapabilities(t.keySystem,e);var n={keySystem:t.keySystem,keySystemImpl:this._emeImpl,audioFormats:this._parseCapabilities(e.audioCapabilities),videoFormats:this._parseCapabilities(e.videoCapabilities)};return this._keySystemSettings=p[t.keySystem],this._configuration.resolve(n),n},v.prototype._parseCapabilities=function(t){if(!t)return[];for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(i&&i.contentType){var o=i.contentType.match(y);e.push({contentType:i.contentType,mimeType:o[1],codec:o[2]})}}return e},v.prototype._appendProbableMediaCapabilities=function(t,n){for(var r=this._configs,i=0,o=r.length;i<o;i++){var a,s,u,c,f=r[i],p={audioCapabilities:[],videoCapabilities:[]},h=!1;if(f.audioCapabilities&&f.audioCapabilities.length)for(h=!1,a=0,s=f.audioCapabilities.length;a<s;a++)c=(u=f.audioCapabilities[a]).contentType,e.MediaSource.isTypeSupported(c)&&(p.audioCapabilities.push(u),h=!0);if(f.videoCapabilities&&f.videoCapabilities.length)for(h=!1,a=0,s=f.videoCapabilities.length;a<s;a++)(-1===(c=(u=f.videoCapabilities[a]).contentType).indexOf("webm")||t!==l.PLAYREADY&&t!==l.PLAYREADY_HARDWARE)&&e.MediaSource.isTypeSupported(c)&&(p.videoCapabilities.push(u),h=!0);if(h)return n.audioCapabilities=p.audioCapabilities,void(n.videoCapabilities=p.videoCapabilities)}},v.prototype._trySetServerCertificate=function(t,e){return this._transport.request(t+"/v1/application-certificate",{authorize:!0,responseType:"arraybuffer",retry:{condition:function(t,e){return t.getStatusFamily()===e.SERVER_ERROR}}}).then(function(t){return e.setServerCertificate(t.body)}).then(function(){return this}.bind(this)).catch(function(t){return _.warn("Error from setting server certificate",t),this}.bind(this))},v.prototype._extractPlayReadyChallenge=function(t,n){var r=null,i=String.fromCharCode.apply(null,new e.Uint16Array(t));if(-1===i.indexOf("PlayReadyKeyMessage"))return _.info("Using unextracted PlayReady message."),t;var a=(new e.DOMParser).parseFromString(i,"application/xml");if(a.getElementsByTagName("Challenge")[0])try{r=atob(a.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue);var s=a.getElementsByTagName("name"),l=a.getElementsByTagName("value");if(s.length!==l.length)throw new o(c.EME_HEADER_KEY_VALUE_MISMATCH,"Mismatched header <name>/<value> pair in key message")}catch(t){this.emit(u.EME_LICENSE_REQUEST_ERROR,{playId:n,error:t}),r=null}else this.emit(u.EME_LICENSE_REQUEST_ERROR,{playId:n,error:new o(c.EME_HEADER_KEY_VALUE_MISMATCH,"Mismatched header <name>/<value> pair in key message")});return r},v.prototype._onMessage=function(t,e){t.timeMap.generate.end=Date.now(),_.info("Got EME message event with type",e.messageType);var n=e.message;n&&t.keySystem===l.PLAYREADY&&(n=this._extractPlayReadyChallenge(n,t.playId)),n?(t.timeMap.request.start=Date.now(),this._transport.request(t.licenseServer,{method:"POST",payload:n,responseType:"arraybuffer",retry:{condition:function(t,e){return 400!==t.status&&402!==t.status&&403!==t.status&&(!t.body||t.getStatusFamily()!==e.SUCCESS)}}}).then(this._handleLicenseResponse.bind(this,t))):_.info("Ignoring message event: no valid request payload")},v.prototype._handleLicenseResponse=function(t,n){var r,i=function(e){e.playId=t.playId,e.licenseServer=t.licenseServer,this.emit(u.EME_LICENSE_REQUEST_ERROR,{playId:t.playId,error:e})}.bind(this);if(t.timeMap.request.end=Date.now(),200!==n.status){var s;try{var l=String.fromCharCode.apply(String,new e.Uint8Array(n.body));s=JSON.parse(l).errorMsg}catch(t){}402===n.status?this.emit(u.EME_LICENSE_REQUEST_CAPPED,{playId:t.playId,error:new a(c.CAPPING_USER_IS_CAPPED,"User is capped.")}):400===n.status&&"widevine error"===s?((r=new o(c.EME_LICENSE_REQUEST_WIDEVINE_ERROR,"Widevine license server failed to parse request.")).status=n.status,r.shouldRefreshEndpoint=!0,r.fatal(),i(r)):((r=new o(c.EME_LICENSE_REQUEST_FAILED_WITH_STATUS,"License request failed ("+(s||"unknown")+")")).status=n.status,r.shouldRefreshEndpoint=400===n.status||403===n.status,i(r))}else{if(!n.body)return(r=new o(c.EME_LICENSE_REQUEST_EMPTY_RESPONSE,"Empty license response body")).status=n.status,void i(r);try{t.timeMap.update.start=Date.now(),t.keySession.update(n.body).catch(function(t){i(new o(c.EME_LICENSE_UPDATE_FAILED,t.message||"License update failed."))}),_.info("KeySession updated.")}catch(t){i(new o(c.EME_LICENSE_UPDATE_FAILED,t.message||"License update failed."))}}},v.prototype._saveSession=function(t){this._keySessions.push(t)},v.prototype.destroySessions=function(){for(var t=[],e=this._keySessions,n=0,r=e.length;n<r;n++)try{var o=e[n],a=o.keySession;a.removeEventListener(u.KEY_SESSION_MESSAGE,o.onMessageListener),a.removeEventListener(u.KEY_SESSION_STATUSES_CHANGE,o.onKeyStatusChangeListener);var s=i.resolve(a.close()).catch(function(t){_.warn("Failed to close KeySession",t)});t.push(s),o.keySession=null,o.onMessageListener=null,o.onKeyStatusChangeListener=null,_.info("Closed KeySession")}catch(t){_.warn("Failed to close KeySession",t)}return this._keySessions=[],i.all(t)},v.prototype.init=function(){for(var t=this._keySystemDeferred,n=e.navigator,r={},a=[],s=[],u=0,f=h.length;u<f;u++){var p=h[u];this._configFilter.test(p.label)||s.push(p)}for(var d in this._configs=s,l)Object.prototype.hasOwnProperty.call(l,d)&&a.push(n.requestMediaKeySystemAccess(l[d],s).then(function(t){r[t.keySystem]=t}).catch(function(){}));return i.all(a).then(this._selectKeySystem.bind(this,r)).then(function(t){return t?this._testMediaKeys(t):i.reject(new o(c.EME_NO_SUPPORTED_KEYSYSTEM,"No supported keysystem was found."))}.bind(this)).then(function(e){return this._prepareConfiguration(e),t.resolve(e),this}.bind(this)).catch(function(e){var n=e.code||c.EME_NO_SUPPORTED_KEYSYSTEM,r=e.message||"No supported keysystem";return t.reject(new o(n,r).fatal()),t.promise})},v.prototype._selectKeySystem=function(t){for(var e=this._preferredKeySystems,n=0,r=e.length;n<r;n++){var i=e[n];if(i in t)return t[i]}return null},v.prototype._testMediaKeys=function(t){return new i(function(e){e(t.createMediaKeys())}).then(function(e){if(!e)return i.reject(new o(c.EME_MEDIA_KEYS_NOT_SUPPORTED,"Cannot create MediaKeys from KeySystemAccess").fatal());try{if(!e.createSession())throw new Error("")}catch(t){return i.reject(new o(c.EME_MEDIA_KEY_SESSION_NOT_SUPPORTED,t.message||"Cannot create MediaKeySession from KeySystemAccess").fatal())}return t},function(t){return _.error(t.name),i.reject(new o(c.EME_MEDIA_KEYS_NOT_SUPPORTED,t.message||"Unknown error").fatal())})},v.prototype.createMediaKeys=function(t){return this._keySystemDeferred.promise.then(function(t){return t.createMediaKeys()}).then(function(e){return i.all([t.setMediaKeys(e),e])}).spread(function(e,n){if(!t.mediaKeys)throw new o(c.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,"Failed to set MediaKeys on HTMLMediaElement");return this._configuration.promise.then(function(){var t=this._keySystemSettings;return this._noServerCertificate||!t.withCertificate?this:this._trySetServerCertificate(t.licenseServer,n)}.bind(this))}.bind(this))},v.prototype.removeMediaKeys=function(t){return i.resolve(t.setMediaKeys(null)).then(function(){return this}.bind(this))},v.prototype.getKeySystemInfo=function(){return this._configuration.promise},v.prototype.getKeySystemImpl=function(){return this._emeImpl},v.prototype.createSessionWithParams=function(t){return new i(function(e,n){_.info("Creating KeySession",t.keySystem);var r=t.mediaKeys.createSession(),a={generate:{start:0,end:0},request:{start:0,end:0},update:{start:0,end:0}},s=this._onMessage.bind(this,{keySystem:t.keySystem,keySession:r,licenseServer:t.licenseServer||this._keySystemSettings.licenseServer,playId:t.playId,timeMap:a});r.addEventListener(u.KEY_SESSION_MESSAGE,s);var l=function(){_.info("KeyStatus change"),a.update.end=Date.now(),e({elapsed:{generate:Math.max(a.generate.end-a.generate.start,0),request:Math.max(a.request.end-a.request.start,0),update:Math.max(a.update.end-a.update.start,0)}})};r.addEventListener(u.KEY_SESSION_STATUSES_CHANGE,l),this._saveSession({keySession:r,onMessageListener:s,onKeyStatusChangeListener:l}),_.info("Generating KeySession request",t.keySystem),a.generate.start=Date.now(),i.resolve(r.generateRequest(t.initDataType,t.initData.buffer)).catch(function(t){if(t){var e;switch(t.name){case"NotSupportedError":e=c.EME_NOT_SUPPORTED_ERROR;break;case"InvalidStateError":e=c.EME_INVALID_STATE_ERROR;break;default:e=c.EME_UNKNOWN_ERROR}n(new o(e,t.message||"Unknown error message."))}})}.bind(this))},t.exports=v}).call(this,n("pCvA"))},guUT:function(t,e,n){"use strict";var r=n("ovh1"),i=n("4OlW"),o=n("e5jZ"),a=n("bRtl"),s=n("Rzld"),u=n("hUM7");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},hBZP:function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,console&&console.warn}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):d(i,i.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=d(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},hP7U:function(t,e,n){"use strict";var r=n("24EC"),i=n("ZQMo").supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},hUM7:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"hbV+":function(t,e,n){"use strict";function r(t,e,n){Error.call(this),this.message=e,this.code=t,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="RequestError",t.exports=r},heVN:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)},p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},p.clearImmediate=h}function h(t){delete c[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{h(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("pCvA"),n("5IsQ"))},i0F7:function(t,e,n){"use strict";var r=n("ovh1");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},iARw:function(t,e,n){"use strict";var r=n("U3MV");function i(t,e,n){Error.call(this,t);var i=n||{};this.code=t||r.DEALER_ERROR,this.raw=i,this.wsReason=i.reason||null,this.wsCode=i.code||null}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="DealerError",t.exports=i},iIYa:function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}n.r(e);var i=r();i.withExtraArgument=r,e.default=i},iIvD:function(t,e,n){"use strict";t.exports={CLOSE:4e3,TIMEOUT:4001}},iKG6:function(t,e,n){"use strict";t.exports=function(t){var e=t;return"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(e=n("RIcX")(t,{value:{type:"string",nullable:!0}})),{name:"context_correlation_id",data:e}}},iNmH:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},iTMk:function(t,e,n){"use strict";function r(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}n.r(e),e.default=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});if("object"==typeof e||"object"==typeof n){var i=r(e),o=r(n);return i!==e||o!==n?t(i,o):Object.keys(Object.assign({},e,n)).every(function(r){return t(e[r],n[r])})}return!1}},icRp:function(t,e,n){"use strict";function r(t,e){Error.call(this,e),this.code=t,this.message=e,this.unrecoverable=!1,this.listPlayerIgnore=!1,this.debug={}}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="PlaybackError",r.prototype.fatal=function(){return this.unrecoverable=!0,this},t.exports=r},ikOk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,_=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116;function v(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case p:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case h:case c:return t;default:return e}}case y:case _:case o:return e}}}function m(t){return v(t)===p}e.typeOf=v,e.AsyncMode=f,e.ConcurrentMode=p,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=h,e.Fragment=a,e.Lazy=y,e.Memo=_,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===p||t===u||t===s||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===_||t.$$typeof===c||t.$$typeof===l||t.$$typeof===h)},e.isAsyncMode=function(t){return m(t)||v(t)===f},e.isConcurrentMode=m,e.isContextConsumer=function(t){return v(t)===l},e.isContextProvider=function(t){return v(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return v(t)===h},e.isFragment=function(t){return v(t)===a},e.isLazy=function(t){return v(t)===y},e.isMemo=function(t){return v(t)===_},e.isPortal=function(t){return v(t)===o},e.isProfiler=function(t){return v(t)===u},e.isStrictMode=function(t){return v(t)===s},e.isSuspense=function(t){return v(t)===d}},inC2:function(t,e,n){"use strict";e.Event=n("aU8I"),e.Method=n("rrCd"),e.StatusCode=n("TRFn"),e.StatusFamily=n("pifV");var r=n("iIvD");e.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,e.Endpoints,e.EndpointsProvider,e.TokenProvider,e.SessionProviders,e.SessionConfig,e.HTTPURI,e.HTTPArgs,e.HTTPResponse,e.DealerMessage,e.ClientEventData},isbb:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("wJTk"),s=n("Q0s3"),u=n("4zCw"),c=n("mPnL"),l=n("CweX").areDevicesEqual,f="https://@webgate/connect-state",p=/connect-state\/v1\/cluster$/,h=/^([a-zA-Z0-9_%:-]{1,40}).*$/;function d(t){if(!t.track)return!1;var e=a.from(t.track.uri||{type:"ad"});return e.type===a.Type.AD||e.type===a.Type.INTERRUPTION}function _(t){i.call(this),this._descriptor=t.descriptor,this._transport=t.transport,this._endpoint=t.endpoint||f,this._autoregister=!("autoregister"in t)||t.autoregister,this._connectionId=null,this._localDeviceId=null,this._localObserverDeviceId=null,this._lastActiveDevice=null,this._lastKnownPlayerState=null,this._lastKnownDevices=[],this._localDevice=null,this._fetchedInitialState=!1,this._awaitingAcknowledgment={},this._descriptorPromise=null,this._acknowledgementMaps=[],this._lastProcessedTimestamp=0,this._clusterProcessingToken=0,this._awaitResponseWithAck=this._awaitResponseWithAck.bind(this),this._init()}r(_,i),_.create=function(t){return new _(t)},_.prototype._init=function(){this._transport.on(this._transport.EVENT_CONNECTION_ID,this._onConnectionId.bind(this)),this._transport.matchMessages(p,this._onClusterMessage.bind(this)),this._descriptorPromise=o.resolve(this._descriptor).then(function(t){return this._localDeviceId=t.id,this._localObserverDeviceId=("hobs_"+this._localDeviceId).replace(h,"$1"),!0}.bind(this))},_.prototype._onConnectionId=function(t){this._connectionId=t.id,this._autoregister&&this.register()},_.prototype._onClusterMessage=function(t){var e=t.payloads[0];if(e){if(e.ack_id){var n=e.ack_id,r=this._awaitingAcknowledgment[n];if(r)r.resolve(!0);else for(var i=this._acknowledgementMaps,o=0,a=i.length;o<a;o++)i[o][n]=1}this._parseCluster(e.cluster)}},_.prototype._makeEndpoint=function(t,e,n){return this._descriptorPromise.then(function(){var r=this._localDeviceId,i=n;return i||(i=this._lastActiveDevice?this._lastActiveDevice.id:this._localDeviceId),"@local"===i&&(i=r),[this._endpoint,t,e,"from",r,"to",i].join("/")}.bind(this))},_.prototype._sendPlayerCommand=function(t,e,n){var r=n||{};return r.endpoint=t,this._makeEndpoint("v1","player/command",e).then(function(t){return this._sendRequest("POST",t,{command:r})}.bind(this)).then(this._awaitResponseWithAck)},_.prototype._sendConnectCommand=function(t,e,n){var r="volume"===t?"PUT":"POST";return this._makeEndpoint("v1","connect/"+t,e).then(function(t){return this._sendRequest(r,t,n||{})}.bind(this)).then(this._awaitResponseWithAck)},_.prototype._sendRequest=function(t,e,n){var r=this._acknowledgementMaps,i={};r.push(i);var a=function(){var t=r.indexOf(i);-1!==t&&r.splice(t,1)};return this._transport.request(e,{method:t,payload:n?JSON.stringify(n):void 0,responseType:"json",retry:{condition:function(t,e){var n=t.getStatusFamily();return n===e.SERVER_ERROR||n===e.CONNECTION_ERROR}}}).then(function(t){return t.map=i,a(),t},function(t){return a(),o.reject(t)})},_.prototype._awaitResponseWithAck=function(t){if(404===t.status)return o.reject(new c(u.CONNECTAPI_CLIENT_NO_DEVICE,"No such device."));if(200===t.status&&t.body&&t.body.ack_id){var e=t.body.ack_id;if(t.map&&t.map[e])return o.resolve(!0);var n=o.defer();return this._awaitingAcknowledgment[e]=n,n.promise}return o.resolve(200===t.status)},_.prototype._parseCluster=function(t){if(t){var e=parseInt(t.timestamp,10);this._lastProcessedTimestamp>e||(this._lastProcessedTimestamp=e,this._parseClusterDevices(t),this._parseClusterPlayerState(t))}},_.prototype._parseClusterDevices=function(t){var e=this._lastActiveDevice;this._lastActiveDevice=null,this._lastKnownDevices=[],this._localDevice=null;var n=[];for(var r in t.devices)t.devices.hasOwnProperty(r)&&n.push(r);if(n.sort(),n.length)for(var i=t.active_device_id,o=0,a=n.length;o<a;o++){var u=t.devices[n[o]],c=this._formatClusterDevice(u,i);this._lastKnownDevices.push(c),c.is_active&&(this._lastActiveDevice=c),c.local&&(this._localDevice=c)}if(!this._fetchedInitialState||!l(this._lastActiveDevice,e)){var f=t.player_state,p=f&&f.track&&!d(f);this.emit(s.CONNECT_API_DEVICE_STATE_CHANGED,{deviceState:this._lastActiveDevice,hasOrphanedState:!this._lastActiveDevice&&p,disappeared:!!e&&!this._lastActiveDevice})}this.emit(s.CONNECT_API_DEVICES_CHANGED,{devices:this._lastKnownDevices,localDevice:this._localDevice})},_.prototype._formatClusterDevice=function(t,e){var n={};if(t&&Array.isArray(t.metadata))for(var r=0,i=t.metadata.length;r<i;r++){var o=t.metadata[r];n[o.type]=o.metadata}var a=t.capabilities||{};return{hidden:!1,id:t.device_id,is_active:t.device_id===e,is_controllable:!!a.is_controllable,is_observable:!!a.is_observable,local:t.device_id===this._localDeviceId,metadata:n,name:t.name,type:(t.device_type||"unknown").toLowerCase(),version:t.device_software_version,volume:a.disable_volume?-1:t.volume/65535}},_.prototype._parseClusterPlayerState=function(t){this._lastKnownPlayerState=null;var e=t.active_device_id,n=e&&t.devices[e],r=t.player_state;r&&r.track&&(n&&n.capabilities&&!n.capabilities.is_observable?r=null:(n||(r.is_paused=!0,r.restrictions&&(delete r.restrictions.disallow_resuming_reasons,r.restrictions.disallow_pausing_reasons=["already_paused"])),r.duration=parseInt(r.duration,10),r.position=parseInt(r.position,10),r.position_as_of_timestamp=parseInt(r.position_as_of_timestamp,10),r.timestamp=parseInt(r.timestamp,10),r.next_tracks=r.next_tracks||[],r.prev_tracks=r.prev_tracks||[]),this._lastKnownPlayerState=r);var i=!n&&!!this._lastKnownPlayerState;i&&r&&d(r)&&(this._lastKnownPlayerState=null,i=!1),this.emit(s.CONNECT_API_PLAYER_STATE_CHANGED,{playerState:this._lastKnownPlayerState,orphaned:i})},_.prototype._register=function(){this._fetchedInitialState=!1;var t=this._endpoint+"/v1/devices/"+this._localObserverDeviceId;return this._transport.request(t,{method:"PUT",headers:{"X-Spotify-Connection-Id":this._connectionId,Accept:"application/json"},payload:JSON.stringify({member_type:"CONNECT_STATE",device:{device_info:{capabilities:{can_be_player:!1,hidden:!0}}}}),responseType:"json"}).then(function(t){429===t.status?this.emit(s.CONNECT_API_MAX_SUBSCRIPTIONS_REACHED,{error:new c(u.CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED,"Max connections reached")}):200===t.status&&(this.emit(s.CONNECT_API_REGISTERED),t.body&&(this._parseCluster(t.body),this._fetchedInitialState=!0))}.bind(this))},_.prototype.register=function(){return this._connectionId?this._descriptorPromise.then(this._register.bind(this)):o.reject(new c(u.CONNECTAPI_CLIENT_NO_CONNECTION_ID,"Cannot register: no connection id."))},_.prototype.deregister=function(){var t=this._endpoint+"/v1/devices/"+this._localObserverDeviceId;return this._transport.request(t,{method:"DELETE",responseType:"json"}).then(function(t){200===t.status&&this.emit(s.CONNECT_API_DEREGISTERED)}.bind(this))},_.prototype.getDevices=function(){return this._fetchedInitialState?o.resolve({devices:this._lastKnownDevices,localDevice:this._localDevice}):new o(function(t){this.once(s.CONNECT_API_DEVICE_STATE_CHANGED,function(){t({devices:this._lastKnownDevices,localDevice:this._localDevice})})}.bind(this))},_.prototype.getActiveDevice=function(){return this._fetchedInitialState?o.resolve(this._lastActiveDevice):new o(function(t){this.once(s.CONNECT_API_DEVICE_STATE_CHANGED,function(e){t(e.deviceState)})}.bind(this))},_.prototype.getContextPlayerState=function(){return this._fetchedInitialState?o.resolve(this._lastKnownPlayerState):new o(function(t){this.once(s.CONNECT_API_PLAYER_STATE_CHANGED,function(e){t(e.playerState)})}.bind(this))},_.prototype.play=function(t,e){return t?this._sendPlayerCommand("play",e,t):o.reject(new c(u.CONNECTAPI_CLIENT_INVALID_ARGUMENTS,"Descriptor is required for play commands"))},_.prototype.updateCurrentContext=function(t,e){var n=e||{};return this.getContextPlayerState().then(function(e){return e?e.session_id?e.context_url||n.forceNonUpdateable?this._sendPlayerCommand("update_context",t,{context:{url:e.context_url||"context://"+e.context_uri},session_id:e.session_id}):o.resolve(!1):o.reject(new c(u.CONNECTAPI_CLIENT_NO_SESSION_ID,"The current state does not have a session id")):o.reject(new c(u.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"))}.bind(this))},_.prototype.setQueue=function(t,e){return this._sendPlayerCommand("set_queue",e,t)},_.prototype.togglePlay=function(t){return this.getContextPlayerState().then(function(e){return e?e.is_paused?this.resume(t):this.pause(t):o.reject(new c(u.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"))}.bind(this))},_.prototype.transfer=function(t,e){var n={transfer_options:{restore_paused:"restore"}};return e&&"initially_paused"in e&&(n.transfer_options.restore_paused=e.initially_paused?"pause":"resume"),this._sendConnectCommand("transfer",t||"@local",n)},_.prototype.pause=function(t){return this._sendPlayerCommand("pause",t)},_.prototype.resume=function(t){return this._sendPlayerCommand("resume",t)},_.prototype.nextTrack=function(t){return this._sendPlayerCommand("skip_next",t)},_.prototype.previousTrack=function(t){return this._sendPlayerCommand("skip_prev",t)},_.prototype.seek=function(t,e){return isNaN(t)||t<0?o.reject(new c(u.CONNECT_API_CLIENT_INVALID_POSITION,"Invalid position.")):this._sendPlayerCommand("seek_to",e,{value:t})},_.prototype.setShuffle=function(t,e){return this._sendPlayerCommand("set_shuffling_context",e,{value:!!t})},_.prototype.toggleShuffle=function(t){return this.getContextPlayerState().then(function(e){if(!e)return o.reject(new c(u.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));var n=e.options&&e.options.shuffling_context;return this.setShuffle(!n,t)}.bind(this))},_.prototype.setRepeatingContext=function(t,e){return this._sendPlayerCommand("set_repeating_context",e,{value:!!t})},_.prototype.setRepeatingTrack=function(t,e){return this._sendPlayerCommand("set_repeating_track",e,{value:!!t})},_.prototype.setVolume=function(t,e){if(isNaN(t)||t<0)return o.reject(new c(u.CONNECT_API_CLIENT_INVALID_VOLUME,"Invalid volume."));var n=Math.round(65535*t);return this._sendConnectCommand("volume",e,{volume:n})},t.exports=_},jGCg:function(t,e,n){"use strict";var r=n("qt0y");function i(t,e){Error.call(this,e),this.code=t||r.STORAGE_ERROR,this.message=e||"Storage Error",this.status=-1,this.fileId="",this.debug={},this.canPlayNext=!0}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="StorageError",t.exports=i},jIGx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("TZip");e.createUniversalReporter=function(t){return r.EventSenderReporter.create(t)}},jT1e:function(t,e,n){"use strict";var r=n("63Ad"),i=n("vdEC");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"VideoPlaybackEvents",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return o.BufferType}}),Object.defineProperty(e,"EndReason",{enumerable:!0,get:function(){return o.EndReason}}),Object.defineProperty(e,"InternalEvents",{enumerable:!0,get:function(){return o.InternalEvents}}),Object.defineProperty(e,"EndVideoTracker",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"EndVideoLoggerFactory",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"EndVideoReasonEnd",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"VideoPlaybackSessionLogger",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ProductStatesStreamingRulesProvider",{enumerable:!0,get:function(){return l.default}});var o=i(n("WshP")),a=r(n("T2JW")),s=r(n("UZV1")),u=r(n("fyAB")),c=r(n("I0CK")),l=r(n("76WR"))},jXlj:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("qg8E")),r(n("TZip")),r(n("a9Ck"));var i=n("R3KX");e.Timer=i.Timer},jmIn:function(t,e,n){"use strict";var r=16,i=Array.prototype.slice;function o(t,e,n){this.tag=t,this.description=e,this._predicate=n,this._tagParts=t.split("."),this._tagText="["+t+"]","true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?this._enabled=!0:this._enabled=!1,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}o.prototype.matchesTag=function(t){var e=Array.isArray(t)?t:t.split("."),n=this._tagParts;if(e.length>n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(("*"!==e[r]||!n[r])&&e[r]!==n[r])return!1;return!0},o.prototype.setLevel=function(t){var e=0;switch(t){case"error":e=r;break;case"warn":e=24;break;case"info":e=28;break;case"debug":e=30;break;case"log":default:e=31}this._level=e},o.prototype.enable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!0)},o.prototype.disable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!1)},o.prototype.log=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||1&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"log",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.debug=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||2&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"debug",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.info=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||4&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"info",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.warn=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||8&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"warn",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.error=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||this._level&r))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"error",tag:this.tag,args:t});if(this._predicate(e))return}},t.exports=o},jnqd:function(t,e,n){"use strict";(function(e){var n,r=function(){};n="true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?function(t){return e.Proxy&&"function"!=typeof e.Proxy.create&&"function"==typeof e.Proxy?new e.Proxy(t,{get:function(t,e){if(!t.hasOwnProperty(e))throw new ReferenceError("Unknown enum value "+e);return t[e]},set:r,delete:r}):t}:function(t){return t},t.exports=n}).call(this,n("pCvA"))},jwNz:function(t,e,n){"use strict";var r=n("8ZXl"),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},k8xr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("2O7x"),i=n("UK3a");e.default=new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handleShowEvent=function(t){for(var n in e.callbacks)(0,i.hasOwnProp)(e.callbacks,n)&&e.callbacks[n].show(t)},this.handleHideEvent=function(t){for(var n in e.callbacks)(0,i.hasOwnProp)(e.callbacks,n)&&e.callbacks[n].hide(t)},this.register=function(t,n){var r=(0,i.uniqueId)();return e.callbacks[r]={show:t,hide:n},r},this.unregister=function(t){t&&e.callbacks[t]&&delete e.callbacks[t]},this.callbacks={},i.canUseDOM&&(window.addEventListener(r.MENU_SHOW,this.handleShowEvent),window.addEventListener(r.MENU_HIDE,this.handleHideEvent))}},kCN1:function(t,e,n){"use strict";var r=Array.prototype.slice;function i(t,e,n){t[e]=function(){var t=r.call(arguments),i=this[n];return t.length<=1?i[e].call(i,t[0]):i[e].apply(i,t)}}t.exports={delegate:i,delegateAll:function(t,e){for(var n in e)e.hasOwnProperty(n)&&i(t,n,e[n])}}},kK6u:function(t,e,n){"use strict";(function(e){var r=n("qW4K"),i=e.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(e,"__dbgLoggerRegistry",{value:i}):e.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(t){return!(!i.loggingPredicate||!i.loggingPredicate(t))}var u="log";t.exports={intercept:function(t){if("function"!=typeof t)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=t},unintercept:function(){i.loggingPredicate=null},list:function(t){var e,n,r,i=Object.keys(o);if(i.sort(),t){var a=[];for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(t){u=t;for(var e=a.length;e--;){var n=a[e];n&&n.setLevel(t)}},enableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].enable()},disableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].disable()},forTag:function(t,e){var n,i;if("string"==typeof t?(n=t.toLowerCase(),i=e):(n=t.tag,i=t.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(t){var e=t.toLowerCase();if(o.hasOwnProperty(e)&&o[e]){var n=o[e];o[e]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},kSI5:function(t,e,n){"use strict";var r=n("8ZXl"),i=Array.prototype.forEach,o=Object.create,a=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&a(Object(t),e)}),e}},kah5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},kluZ:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},kmUF:function(t,e,n){"use strict";var r=n("asuC"),i=n("rIo0"),o=n("qt0y"),a="@webgate/melody/v1/license_url";function s(t){this._transport=t.transport,this._sdk=t.sdk||{name:"",version:""},this._securityLevel=t.securityLevel,this._urls={},this._init()}s.prototype._init=function(){this._transport.on(this._transport.EVENT_CONNECTION_ID,function(){this._urls={}}.bind(this))},s.prototype.get=function(t,e){var n=t+":"+e,s=this._urls[n];if(s&&s.expires>Date.now()+6e4)return r.resolve(s.uri);var u=[a,"?keysystem=",t,"&mediatype=",e,"&sdk_name=",this._sdk.name,"&sdk_version=",this._sdk.version].join("");return this._transport.request(u,{responseType:"json",retry:{condition:function(t,e){var n=t.getStatusFamily();return n===e.SERVER_ERROR||n===e.CONNECTION_ERROR}}}).then(function(t){var e,a=t.body;return 200===t.status?(a.expires*=1e3,a.uri="@webgate/"+a.uri,this._securityLevel&&(a.uri+=[-1!==a.uri.indexOf("?")?"&":"?","sl=",this._securityLevel].join("")),this._urls[n]=a,a.uri):(400===t.status&&a&&"deprecated-version"===a.code?((e=new i(o.LICENSE_RESOLVER_DEPRECATED_VERSION,"This version of the SDK is no longer supported. Please upgrade")).canPlayNext=!1,e.fatal()):e=new i(o.LICENSE_RESOLVER_CANT_RESOLVE_URL,"License URL endpoint responded with status "+t.status),e.status=t.status,r.reject(e))}.bind(this))},s.prototype.remove=function(t,e){this._urls[t+":"+e]=null},t.exports=s},kwMy:function(t,e,n){"use strict";var r=n("YyRf"),i=n("7tRA"),o=n("8KUm");t.exports=function(t){return t.HTTP=i,t.Fetch=o,r.create(t)}},kxHp:function(t,e,n){n("+IV6");var r=n("AQPL");function i(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},l8e1:function(t,e,n){"use strict";function r(t,e){this.code=t,this.message=e,this.status=-1,this.debug={}}r.prototype=new Error,r.prototype.constructor=new r,r.prototype.name="HarmonyError",r.prototype.fatal=function(){return this.unrecoverable=!0,this},t.exports=r},lIgl:function(t,e,n){"use strict";var r=n("7JHm").backoffDefaults,i=n("asuC"),o=n("dcjB"),a=Array.prototype.slice;function s(t,e){var n=e||{};this._fn=t,this._resolver=i.defer(),this._maxDuration=n.maxDuration||r.maxDuration,this._maxRetries="maxRetries"in n?n.maxRetries:r.maxRetries,this._maxTime=n.maxTime||r.maxTime,this._retryPredicate=n.retryPredicate||r.retryPredicate,this._ts=0,this._callCount=0,this._backoffInitial=n.backoffInitial,this._tickInterval=null,this._isRunning=!1,this._counter=new o({curve:n.curve||n.algo,baseTime:n.baseTime,ceiling:n.ceiling}),this._backoffInitial&&(this._maxRetries+=1),this._tick=this._tick.bind(this)}s.init=function(t,e){return new s(t,e).start()},s.prototype.getResolver=function(){return this._resolver.promise},s.prototype.start=function(t){return!this._fn&&t&&(this._fn=t),this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(this._tick,this._counter.getTime(0))):this._tick()),this._resolver.promise},s.prototype.stop=function(){clearTimeout(this._tickInterval),this._isRunning=!1,this._destroy()},s.prototype._destroy=function(){this._fn=null,this._resolver=null},s.prototype._failure=function(t){if(t&&"retryAfter"in t)this._retryAfter(t);else{var e=this._counter.getTime(this._callCount);this._shouldRetry(e,t)?(this._callCount++,this._tickInterval=setTimeout(this._tick,e)):(this._resolver.reject(t),this._destroy())}},s.prototype._retryAfter=function(t){this._callCount++,this._tickInterval=setTimeout(this._tick,t.retryAfter)},s.prototype._success=function(){this._resolver.resolve.apply(null,a.call(arguments)),this._destroy()},s.prototype._shouldRetry=function(t,e){var n=Date.now()-this._ts+t;return this._callCount<this._maxRetries&&t<this._maxTime&&n<this._maxDuration&&this._retryPredicate(e)},s.prototype._tick=function(){this._fn().then(this._success.bind(this)).catch(this._failure.bind(this))},t.exports=s},lSNA:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},lfWw:function(t,e,n){"use strict";function r(t){var e={},n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]=s}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}function i(t){return t.replace(/([A-Z])/g,function(t){return"_"+t}).toUpperCase()}function o(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&r!==e&&(n[r]=t[r]);return n}t.exports={createActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},{namedParameters:!1,splitOutput:!1,mapNameToConstant:function(t){if(e.typePrefix){var n=t.charAt(0).toUpperCase()+t.slice(1);return i(e.typePrefix+n)}return i(t)}},e),o={};return function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}(t,function(t,e){var r=Object.keys(e),i=e.resolve;o[t]=function(t,e,n,r){var i=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s={},u=!0,c=!1,l=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;s[h]=n.namedParameters?o[0][h]:o.shift()}}catch(t){c=!0,l=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw l}}return r&&(s.resolve=r),Object.assign({},{type:n.mapNameToConstant(t)},s)};return i.key=n.mapNameToConstant(t),i}(t,r,n,i)}),n.splitOutput?{constants:r(Object.keys(t).map(n.mapNameToConstant)),actions:o}:o},createActionMiddleware:function(){return function(t){var e=t.dispatch;return t.getState,function(t){return function(n){if(!n.resolve)return t(n);var r=o(n,"resolve");e(r);var i=o(r,"type"),a=n.resolve(i);return Promise.resolve(a).then(function(t){var n=Object.assign({},r,{type:r.type+"_SUCCESS",payload:t});e(n)}).catch(function(t){var n=Object.assign({},r,{type:r.type+"_FAIL",error:t});e(n)})}}}}}},liw5:function(t,e,n){"use strict";var r={EMPTY:"-no-robustness",SW_CRYPTO:"-sw-crypto",SW_DECODE:"-sw-decode",HW_CRYPTO:"-hw-crypto",HW_DECODE:"-hw-decode",HW_ALL:"-hw-all"};t.exports=function(t){var e=["--ensure-no-match--"];if(t&&t.length)for(var n=t.length;n--;)r.hasOwnProperty(t[n])&&e.push(r[t[n]]);return new RegExp("("+e.join("|")+")$")}},llpb:function(t,e,n){"use strict";(function(t){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("7C+0"),a=function(){};function s(t){return"string"==typeof t?c(t):t}function u(t,e){var n=t[e];if(!n)throw new Error("Unknown type "+e);return n}function c(t){return new l(t)}e.TType=a,e.name=c;var l=function(t){function e(e){var n=t.call(this)||this;return n.name=e,n._failMsg="is not a "+e,n}return i(e,t),e.prototype.getChecker=function(t,n){var r=this,i=u(t,this.name),o=i.getChecker(t,n);return i instanceof S||i instanceof e?o:function(t,e){return!!o(t,e)||e.fail(null,r._failMsg,0)}},e}(a);e.TName=l,e.lit=function(t){return new f(t)};var f=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n.name=JSON.stringify(e),n._failMsg="is not "+n.name,n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this;return function(t,e){return t===n.value||e.fail(null,n._failMsg,-1)}},e}(a);e.TLiteral=f,e.array=function(t){return new p(s(t))};var p=function(t){function e(e){var n=t.call(this)||this;return n.ttype=e,n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this.ttype.getChecker(t,e);return function(t,e){if(!Array.isArray(t))return e.fail(null,"is not an array",0);for(var r=0;r<t.length;r++)if(!n(t[r],e))return e.fail(r,null,1);return!0}},e}(a);e.TArray=p,e.tuple=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new h(t.map(function(t){return s(t)}))};var h=function(t){function e(e){var n=t.call(this)||this;return n.ttypes=e,n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this.ttypes.map(function(n){return n.getChecker(t,e)}),r=function(t,e){if(!Array.isArray(t))return e.fail(null,"is not an array",0);for(var r=0;r<n.length;r++)if(!n[r](t[r],e))return e.fail(r,null,1);return!0};return e?function(t,e){return!!r(t,e)&&(t.length<=n.length||e.fail(n.length,"is extraneous",2))}:r},e}(a);e.TTuple=h,e.union=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new d(t.map(function(t){return s(t)}))};var d=function(t){function e(e){var n=t.call(this)||this;n.ttypes=e;var r=e.map(function(t){return t instanceof l||t instanceof f?t.name:null}).filter(function(t){return t}),i=e.length-r.length;return r.length?(i>0&&r.push(i+" more"),n._failMsg="is none of "+r.join(", ")):n._failMsg="is none of "+i+" types",n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this,r=this.ttypes.map(function(n){return n.getChecker(t,e)});return function(t,e){for(var i=e.unionResolver(),o=0;o<r.length;o++)if(r[o](t,i.createContext()))return!0;return e.resolveUnion(i),e.fail(null,n._failMsg,0)}},e}(a);e.TUnion=d,e.enumtype=function(t){return new _(t)};var _=function(t){function e(e){var n=t.call(this)||this;return n.members=e,n.validValues=new Set,n._failMsg="is not a valid enum value",n.validValues=new Set(Object.keys(e).map(function(t){return e[t]})),n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this;return function(t,e){return!!n.validValues.has(t)||e.fail(null,n._failMsg,0)}},e}(a);e.TEnumType=_,e.enumlit=function(t,e){return new y(t,e)};var y=function(t){function e(e,n){var r=t.call(this)||this;return r.enumName=e,r.prop=n,r._failMsg="is not "+e+"."+n,r}return i(e,t),e.prototype.getChecker=function(t,e){var n=this,r=u(t,this.enumName);if(!(r instanceof _))throw new Error("Type "+this.enumName+" used in enumlit is not an enum type");var i=r.members[this.prop];if(!r.members.hasOwnProperty(this.prop))throw new Error("Unknown value "+this.enumName+"."+this.prop+" used in enumlit");return function(t,e){return t===i||e.fail(null,n._failMsg,-1)}},e}(a);e.TEnumLiteral=y,e.iface=function(t,e){return new v(t,function(t){return Object.keys(t).map(function(e){return function(t,e){return e instanceof m?new g(t,e.ttype,!0):new g(t,s(e),!1)}(e,t[e])})}(e))};var v=function(t){function e(e,n){var r=t.call(this)||this;return r.bases=e,r.props=n,r.propSet=new Set(n.map(function(t){return t.name})),r}return i(e,t),e.prototype.getChecker=function(t,e){var n=this,r=this.bases.map(function(n){return u(t,n).getChecker(t,e)}),i=this.props.map(function(n){return n.ttype.getChecker(t,e)}),a=new o.NoopContext,s=this.props.map(function(t,e){return!t.isOpt&&!i[e](void 0,a)}),c=function(t,e){if("object"!=typeof t||null===t)return e.fail(null,"is not an object",0);for(var o=0;o<r.length;o++)if(!r[o](t,e))return!1;for(o=0;o<i.length;o++){var a=n.props[o].name,u=t[a];if(void 0===u){if(s[o])return e.fail(a,"is missing",1)}else if(!i[o](u,e))return e.fail(a,null,1)}return!0};return e?function(t,e){if(!c(t,e))return!1;for(var r in t)if(!n.propSet.has(r))return e.fail(r,"is extraneous",2);return!0}:c},e}(a);e.TIface=v,e.opt=function(t){return new m(s(t))};var m=function(t){function e(e){var n=t.call(this)||this;return n.ttype=e,n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this.ttype.getChecker(t,e);return function(t,e){return void 0===t||n(t,e)}},e}(a);e.TOptional=m;var g=function(t,e,n){this.name=t,this.ttype=e,this.isOpt=n};e.TProp=g,e.func=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new E(new T(e),s(t))};var E=function(t){function e(e,n){var r=t.call(this)||this;return r.paramList=e,r.result=n,r}return i(e,t),e.prototype.getChecker=function(t,e){return function(t,e){return"function"==typeof t||e.fail(null,"is not a function",0)}},e}(a);e.TFunc=E,e.param=function(t,e,n){return new b(t,s(e),Boolean(n))};var b=function(t,e,n){this.name=t,this.ttype=e,this.isOpt=n};e.TParam=b;var T=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n}return i(e,t),e.prototype.getChecker=function(t,e){var n=this,r=this.params.map(function(n){return n.ttype.getChecker(t,e)}),i=new o.NoopContext,a=this.params.map(function(t,e){return!t.isOpt&&!r[e](void 0,i)}),s=function(t,e){if(!Array.isArray(t))return e.fail(null,"is not an array",0);for(var i=0;i<r.length;i++){var o=n.params[i];if(void 0===t[i]){if(a[i])return e.fail(o.name,"is missing",1)}else if(!r[i](t[i],e))return e.fail(o.name,null,1)}return!0};return e?function(t,e){return!!s(t,e)&&(t.length<=r.length||e.fail(r.length,"is extraneous",2))}:s},e}(a);e.TParamList=T;var S=function(t){function e(e,n){var r=t.call(this)||this;return r.validator=e,r.message=n,r}return i(e,t),e.prototype.getChecker=function(t,e){var n=this;return function(t,e){return!!n.validator(t)||e.fail(null,n.message,0)}},e}(a);e.BasicType=S,e.basicTypes={any:new S(function(t){return!0},"is invalid"),number:new S(function(t){return"number"==typeof t},"is not a number"),object:new S(function(t){return"object"==typeof t&&t},"is not an object"),boolean:new S(function(t){return"boolean"==typeof t},"is not a boolean"),string:new S(function(t){return"string"==typeof t},"is not a string"),symbol:new S(function(t){return"symbol"==typeof t},"is not a symbol"),void:new S(function(t){return null==t},"is not void"),undefined:new S(function(t){return void 0===t},"is not undefined"),null:new S(function(t){return null===t},"is not null"),never:new S(function(t){return!1},"is unexpected")},void 0!==t&&(e.basicTypes.Buffer=new S(function(e){return t.isBuffer(e)},"is not a Buffer"));for(var R=function(t){e.basicTypes[t.name]=new S(function(e){return e instanceof t},"is not a "+t.name)},w=0,O=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,ArrayBuffer];w<O.length;w++)R(O[w])}).call(this,n("qykS").Buffer)},lphy:function(t,e,n){(function(t,r){var i;!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,f=26,p=38,h=700,d=72,_=128,y="-",v=/^xn--/,m=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,T=Math.floor,S=String.fromCharCode;function R(t){throw new RangeError(E[t])}function w(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function O(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+w((t=t.replace(g,".")).split("."),e).join(".")}function A(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function I(t){return w(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+S(t)}).join("")}function N(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,n){var r=0;for(t=n?T(t/h):t>>1,t+=T(t/e);t>b*f>>1;r+=c)t=T(t/b);return T(r+(b+1)*t/(t+p))}function P(t){var e,n,r,i,o,a,s,p,h,v,m,g=[],E=t.length,b=0,S=_,w=d;for((n=t.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&R("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<E;){for(o=b,a=1,s=c;i>=E&&R("invalid-input"),((p=(m=t.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:c)>=c||p>T((u-b)/a))&&R("overflow"),b+=p*a,!(p<(h=s<=w?l:s>=w+f?f:s-w));s+=c)a>T(u/(v=c-h))&&R("overflow"),a*=v;w=C(b-o,e=g.length+1,0==o),T(b/e)>u-S&&R("overflow"),S+=T(b/e),b%=e,g.splice(b++,0,S)}return I(g)}function L(t){var e,n,r,i,o,a,s,p,h,v,m,g,E,b,w,O=[];for(g=(t=A(t)).length,e=_,n=0,o=d,a=0;a<g;++a)(m=t[a])<128&&O.push(S(m));for(r=i=O.length,i&&O.push(y);r<g;){for(s=u,a=0;a<g;++a)(m=t[a])>=e&&m<s&&(s=m);for(s-e>T((u-n)/(E=r+1))&&R("overflow"),n+=(s-e)*E,e=s,a=0;a<g;++a)if((m=t[a])<e&&++n>u&&R("overflow"),m==e){for(p=n,h=c;!(p<(v=h<=o?l:h>=o+f?f:h-o));h+=c)w=p-v,b=c-v,O.push(S(N(v+w%b,0))),p=T(w/b);O.push(S(N(p,0))),o=C(n,E,r==i),n=0,++r}++n,++e}return O.join("")}s={version:"1.4.1",ucs2:{decode:A,encode:I},decode:P,encode:L,toASCII:function(t){return O(t,function(t){return m.test(t)?"xn--"+L(t):t})},toUnicode:function(t){return O(t,function(t){return v.test(t)?P(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n("RoC8")(t),n("pCvA"))},lrHd:function(t,e,n){"use strict";(function(e){var r=n("wfH0"),i=e.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(e,"__dbgLoggerRegistry",{value:i}):e.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(t){return!(!i.loggingPredicate||!i.loggingPredicate(t))}var u="log";t.exports={intercept:function(t){if("function"!=typeof t)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=t},unintercept:function(){i.loggingPredicate=null},list:function(t){var e,n,r,i=Object.keys(o);if(i.sort(),t){var a=[];for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(t){u=t;for(var e=a.length;e--;){var n=a[e];n&&n.setLevel(t)}},enableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].enable()},disableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].disable()},forTag:function(t,e){var n,i;if("string"==typeof t?(n=t.toLowerCase(),i=e):(n=t.tag,i=t.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(t){var e=t.toLowerCase();if(o.hasOwnProperty(e)&&o[e]){var n=o[e];o[e]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"m+JC":function(t,e,n){"use strict";var r=n("asuC"),i=n("ReJW"),o=n("diFf"),a=n("H7on"),s=n("m1wg"),u=n("ZjTY"),c=n("kmUF"),l=n("19zf");t.exports={createACMEPlayer:function(t,e){return new r(function(n,r){if(t){var f=e||{};if(f.logger){var p=f.createPlayer||null,h=f.videoPlayerContainer||null,d=s.create(),_=new a(t),y=new u(t),v=(f.sdkId||"").split(":"),m=new c({transport:t,sdk:{name:v[0]||"",version:v[1]||""},securityLevel:f.securityLevel});f.ensureEMERobustness&&(f.disallowRobustnessValues||(f.disallowRobustnessValues=[]),f.disallowRobustnessValues.push(l.EMPTY));var g={transport:t,createPlayer:p,videoPlayerContainer:h,tracker:d,audioResolver:_,videoResolver:y,licenseURLResolver:m,trackCacheSize:f.trackCacheSize,disallowRobustnessValues:f.disallowRobustnessValues,synthesizeEnded:f.synthesizeEnded,noServerCertificate:f.noServerCertificate,preferredKeySystems:f.preferredKeySystems,newElementPerTrack:f.newElementPerTrack,newBufferPerTrack:!("newBufferPerTrack"in f)||f.newBufferPerTrack,newMediaKeysPerTrack:f.newMediaKeysPerTrack,clearBufferOnSeek:f.clearBufferOnSeek,rebufferOnQuotaExceeded:f.rebufferOnQuotaExceeded,disableCache:f.disableCache,cubicVolume:f.cubicVolume,disallowProtectedTracks:f.disallowProtectedTracks,disableBufferAbort:f.disableBufferAbort};i.create(g).then(function(e){return{player:e,logger:o.create({transport:t,player:e,logger:f.logger})}}).then(n,r)}else r(new TypeError("Argument `options.logger` is required."))}else r(new TypeError("Argument transport is required."))})}}},m0LI:function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},m1wg:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("1VzI"),a=n("7xuQ"),s=n("8Pwi"),u=n("uDox").forTag("playback.tracker"),c=31e3;function l(t){var e=t||{};this._playedThreshold=e.playedThreshold||c,this._playedThresholdReached=!1,this._trackingData=null,this._totalStreamTime=0}r(l,i),l.create=function(t){return new l(t)},l.prototype.getMSPlayed=function(){return this._trackingData.msPlayed},l.prototype._checkPlayedThreshold=function(){var t=this._trackingData;!t||!this._playedThreshold||this._playedThresholdReached||t.msPlayed<this._playedThreshold||(this._playedThresholdReached=!0,this.emit(s.TRACKER_PLAYED_THRESHOLD_REACHED,{played:t.msPlayed,threshold:this._playedThreshold}))},l.prototype.trackLoadStart=function(t,e,n,r){var i=o.create();this._trackingData=i,this._playedThresholdReached=!1,i.fileId=e,i.currentTrackUri=t,i.loadTime=Date.now(),i.internalPlayId=n,i.externalLoadTime=r.externalLoadTime||0,i.displayTrack=r.displayTrack||a.EMPTY,i.playContext=r.playContext||a.EMPTY,i.reasonStart=r.reason||a.UNKNOWN,i.sourceStart=r.source||a.UNKNOWN;var u=r.referrer||{};i.referrer=u.name||a.UNKNOWN,i.referrerVersion=u.version||a.UNKNOWN,i.referrerVendor=u.vendor||a.UNKNOWN;var c=r.format||{};c.codec&&(i.audiocodec=c.codec.toLowerCase()),c.bitrate&&(i.bitrate=c.bitrate),i.gaiaDevId=r.deviceId||"none",i.playbackId=r.playbackId||null,i.noLog="noLog"in r&&r.noLog,i.noTSV="noTSV"in r&&r.noTSV,i.noStats="noStats"in r&&r.noStats,this.emit(s.TRACKER_TRACKING_DATA_CREATED,{data:i})},l.prototype.trackBufferLoadStart=function(){var t=this._trackingData;t&&(t.bufferLoadStartTime=Date.now())},l.prototype.trackBytesDownloaded=function(t){var e=this._trackingData;e&&(e.totalBytes+=t)},l.prototype.trackLoadDone=function(t){var e=this._trackingData;if(e){var n=Date.now();e.msInitLatency=n-e.bufferLoadStartTime,e.lastPlayStartTime=n,e.localTimeMs=n,e.position=t,e.startPosition=t,e.addStartSegment()}},l.prototype.trackCanPlayThrough=function(){var t=this._trackingData;if(t&&!t.msPlayLatency){var e=Date.now();t.msPlayLatency=e-t.loadTime,t.msHeadLatency=e-t.bufferLoadStartTime}},l.prototype.trackBufferURL=function(t,e){var n=this._trackingData;n&&n.trackBufferURL(t,e)},l.prototype.trackNavigatorOffline=function(){var t=this._trackingData;t&&(t.nOffline+=1)},l.prototype.trackSeekRebuffering=function(t){this._trackingData&&(t>this._trackingData.maxMsSeekRebuffering&&(this._trackingData.maxMsSeekRebuffering=t),this._trackingData.msSeekRebuffering+=t)},l.prototype.trackMsStalled=function(t){var e=this._trackingData;e&&(t>e.maxMsStalled&&(e.maxMsStalled=t),e.msStalled+=t,e.nStalls++)},l.prototype.trackLoadFailed=function(){var t=this._trackingData;t&&(t.msPlayLatency=Date.now()-t.loadTime,t.position=0,t.addStartSegment())},l.prototype.trackStopped=function(t){var e=t||{},n=this._trackingData;if(n&&!n.isFinalized()){var r=Date.now();n.stopTime=r,n.lastPlayStartTime&&(n.addMSPlayed(r-n.lastPlayStartTime),this._checkPlayedThreshold()),n.addEndSegment(),n.sourceEnd=e.source||a.UNKNOWN,n.reasonEnd=e.reason||a.UNKNOWN,n.nextPlaybackId=e.playbackId||a.EMPTY,n.finalize(),this._totalStreamTime+=n.msPlayed,u.info("Tracker data finalized.");var i=n.getPlaybackStats();this.emit(s.TRACKER_TRACKING_DATA_FINALIZED,{data:n,playbackStats:i})}},l.prototype.trackPositionChanged=function(t,e){var n=this._trackingData;if(n){var r=n.position;t!==r&&(n.addEndSegment(),t>r?(n.nSeeksForward++,n.msSeeksForward+=t-r):t<r&&(n.nSeeksBackward++,n.msSeeksBackward+=r-t),e||(n.lastPlayStartTime=Date.now()),n.position=t,n.addStartSegment())}},l.prototype.trackPlaying=function(t){var e=this._trackingData;e&&(e.played||this.emit(s.TRACKER_PLAYBACK_START,{data:e}),e.played=!0,e.lastPlayStartTime=Date.now(),e.position=t)},l.prototype.trackPaused=function(t){var e=this._trackingData;e&&(e.lastPlayStartTime=0,e.position=t)},l.prototype.trackProgress=function(t,e){var n=this._trackingData;if(n){var r=Date.now(),i=0;n.lastPlayStartTime&&(i=r-n.lastPlayStartTime),n.lastPlayStartTime=r,n.addMSPlayed(i),this._checkPlayedThreshold(),n.position=t,e&&n.trackBitrate(e,i)}},l.prototype.trackVideoLoadStart=function(t){var e=this._trackingData;e&&e.registerVideoVariant(t)},l.prototype.trackWarning=function(){var t=this._trackingData;t&&t.nWarnings++},l.prototype.trackOffline=function(){var t=this._trackingData;t&&t.nOffline++},l.prototype.setActualDuration=function(t){var e=this._trackingData;e&&(e.msActualDuration=t)},l.prototype.setKeySystem=function(t){var e=this._trackingData;e&&(e.keySystem=t)},l.prototype.setKeySystemImpl=function(t){var e=this._trackingData;e&&(e.keySystemImpl=t)},l.prototype.setManifestLatency=function(t){var e=this._trackingData;e&&(e.msManifestLatency=t)},l.prototype.setPlayIntended=function(t){this._trackingData&&(this._trackingData.playIntended=!!t)},l.prototype.setKeyLatency=function(t){var e=this._trackingData;e&&(e.msKeyLatency=t)},l.prototype.setMemoryCached=function(t){var e=this._trackingData;e&&(e.memoryCached=!!t)},l.prototype.setPersistentCached=function(t){var e=this._trackingData;e&&(e.persistentCached=!!t)},l.prototype.setProtected=function(t){var e=this._trackingData;e&&(e.isProtected=!!t)},l.prototype.setHadError=function(t){var e=this._trackingData;e&&(e.hadError=!!t)},l.prototype.setLicenseSessionLatency=function(t){var e=this._trackingData;e&&(e.msLicenseSessionLatency=t)},l.prototype.setLicenseGenerationLatency=function(t){var e=this._trackingData;e&&(e.msLicenseGenerationLatency=t)},l.prototype.setLicenseRequestLatency=function(t){var e=this._trackingData;e&&(e.msLicenseRequestLatency=t)},l.prototype.setLicenseUpdateLatency=function(t){var e=this._trackingData;e&&(e.msLicenseUpdateLatency=t)},l.prototype.setResolveLatency=function(t){var e=this._trackingData;e&&(e.msResolveLatency=t)},l.prototype.setCalculatedDuration=function(t){var e=this._trackingData;e&&(e.msFileDuration=t)},l.prototype.setPlayedThreshold=function(t){this._playedThreshold=t||0},t.exports=l},mONU:function(t){t.exports=JSON.parse('{"tagged":"1.7.0-7997611","version":"1.7.0","revision":"7997611"}')},mOoB:function(t,e,n){"use strict";var r=n("uDox").forTag("stream.PlaybackStateObserver"),i=n("asuC"),o=n("PQZM"),a=n("qG8n"),s=n("wJTk"),u=n("Q0s3"),c=n("d7mV"),l=/^disallow_([^]+)_reasons$/;function f(t,e){a.call(this);var n=e||{};this._tpApiClient=t,this._numPreviousTracks=n.numPrevious||2,this._numNextTracks=n.numNextTracks||2,this._state=null,this._init()}o(f,a),f.create=function(t,e){return new f(t,e)},f.prototype._init=function(){this._tpApiClient.on(u.TP_API_STATE_CHANGED,this._onStateChanged.bind(this)),this._tpApiClient.on(u.TP_API_STATE_CLEARED,this._onStateCleared.bind(this))},f.prototype._parseRestrictions=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&"disallow_resuming_reasons"!==r&&"disallow_pausing_reasons"!==r&&(n[r]=t[r]);return e?n.disallow_pausing_reasons=["already_paused"]:n.disallow_resuming_reasons=["not_paused"],n},f.prototype._parseDisallows=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=!(!t[n]||!t[n].length);e[n.replace(l,"$1")]=r}return e},f.prototype._onStateChanged=function(t){var e=t.position,n=t.duration,i=Date.now(),o=t.paused,a=t.stateMachine,s=t.stateRef.state_index,c=a.states,l=c[s],f=this._parseRestrictions(l.restrictions||{},o),p=this._parseDisallows(f);if(l){var h=this,d=function(t,e){return h._getTrackMetadata(a,e,t)},_={current_track:d(n,l),next_tracks:this._getNextStates(l,c).map(d.bind(null,null)),previous_tracks:this._getPreviousStates(l,c).map(d.bind(null,null))};n||(n=_.current_track?_.current_track.duration_ms:0);var y=this._getRepeatSetting(a),v={context:{uri:null,metadata:{}},bitrate:0,position:e,duration:n,paused:o,shuffle:this._getShuffleSetting(a),repeat_mode:y,track_window:_,timestamp:i,restrictions:f,disallows:p},m=a.tracks[l.track];m&&m.metadata&&(m.metadata.context_uri&&(v.context.uri=m.metadata.context_uri),m.metadata.context_description&&(v.context.metadata.context_description=m.metadata.context_description)),this._state=v,this.emit(u.PLAYBACK_STATE_OBSERVER_STATE_CHANGED,{state:this._copyState()})}else r.warn("_onStateChanged called with no current state",t)},f.prototype._onStateCleared=function(){this._state=null,this.emit(u.PLAYBACK_STATE_OBSERVER_STATE_CHANGED,{state:null})},f.prototype._getRepeatSetting=function(t){var e=t.attributes.options;return e.repeating_track?c.TRACK:e.repeating_context?c.CONTEXT:c.OFF},f.prototype._getShuffleSetting=function(t){return t.attributes.options.shuffling_context},f.prototype._getNextStates=function(t,e){for(var n=this._numNextTracks,r=[],i=t;i&&"show_next"in i.transitions&&i.transitions.show_next;){var o=e[i.transitions.show_next.state_index];if(r.push(o),i=o,r.length>=n)break}return r},f.prototype._getPreviousStates=function(t,e){for(var n=this._numPreviousTracks,r=[],i=t;i&&"show_prev"in i.transitions&&i.transitions.show_prev;){var o=e[i.transitions.show_prev.state_index];if(r.unshift(o),i=o,r.length>=n)break}return r},f.prototype._getTrackMetadata=function(t,e,n){var r=t.tracks[e.track];if(!r&&r.metadata)return null;var i=r.metadata,o=r.manifest&&"manifest_ids_video"in r.manifest,a=s.from(i.uri),u=i.linked_from_uri?s.fromString(i.linked_from_uri):null;return{id:a?s.hexToId(a.id):null,uri:i.uri,type:a?a.type:null,linked_from_uri:i.linked_from_uri||null,linked_from:{uri:i.linked_from_uri||null,id:u?s.hexToId(u.id):null},media_type:o?"video":"audio",name:i.name,duration_ms:n||i.duration,artists:i.authors,album:{uri:i.group_uri,name:i.group_name,images:i.images},is_playable:!0}},f.prototype.getCurrentState=function(){if(this._state&&!this._state.paused){var t=Date.now(),e=this._state.position+(t-this._state.timestamp);this._state.position=e,this._state.timestamp=t}return i.resolve(this._copyState())},f.prototype._copyState=function(){return JSON.parse(JSON.stringify(this._state))},t.exports=f},mPnL:function(t,e,n){"use strict";function r(t,e){this.code=t,this.message=e,this.status=-1,this.maxedSubscriptions=!1,this.debug={}}r.prototype=new Error,r.prototype.constructor=new r,r.prototype.name="PlayerAPIClientError",r.prototype.fatal=function(){return this.unrecoverable=!0,this},t.exports=r},mXGw:function(t,e,n){"use strict";t.exports=n("BdB7")},mgOk:function(t,e,n){"use strict";var r=n("asuC"),i=n("pPJX"),o=n("nEgm");t.exports={connectIfOwned:function(t,e){return t.hasOwnerRef(e)?t.connect():r.reject(new o(i.TRANSPORT_LIFECYCLE_DISABLED,"Method `connect` must be called from the Transport instance."))},disconnectIfOwned:function(t,e){return t.hasOwnerRef(e)?t.disconnect():r.reject(new o(i.TRANSPORT_LIFECYCLE_DISABLED,"Method `disconnect` must be called from the Transport instance."))},forceDisconnectIfOwned:function(t,e){return t.hasOwnerRef(e)?t.forceDisconnect():r.reject(new o(i.TRANSPORT_LIFECYCLE_DISABLED,"Method `forceDisconnect` must be called from the Transport instance."))}}},mmnt:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({CONNECT_API:"connect-api",HARMONY:"harmony",PLAYBACK:"playback",TRACK_PLAYBACK:"track-playback",TRANSPORT:"transport"})},mpLd:function(t,e,n){"use strict";(function(e){var n,r=function(){};n="true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?function(t){return e.Proxy&&"function"!=typeof e.Proxy.create&&"function"==typeof e.Proxy?new e.Proxy(t,{get:function(t,e){if(!t.hasOwnProperty(e))throw new ReferenceError("Unknown enum value "+e);return t[e]},set:r,delete:r}):t}:function(t){return t},t.exports=n}).call(this,n("pCvA"))},msiY:function(t,e,n){"use strict";var r=n("asuC"),i=n("1Wwy"),o=n("OiND"),a=n("S6y8"),s=n("qNx8"),u=n("pPJX"),c="https://@webgate/melody",l="unknown",f="",p="0.0.0",h={url:"/v1/logging/client_event"},d={url:"/v1/logging/elapsed_time"},_={url:"/v1/logging/jssdk_error",allowUnauthenticated:!0},y={url:"/v1/logging/jssdk_interval_timer"},v={url:"/v1/logging/jssdk_playback_stats",allowUnauthenticated:!0},m={url:"/v1/logging/jssdk_playback_start"},g={url:"/v1/logging/jssdk_stall",allowUnauthenticated:!0},E={url:"/v1/logging/jssdk_timer"},b={url:"/v1/logging/jssdk_warning",allowUnauthenticated:!0},T={url:"/v1/logging/track_stream_verification"},S={url:"/v1/metric"};function R(t){var e=t||{};if(!t.transport)throw new TypeError("Logger `option.transport` must be a valid transport.");this._transport=e.transport,this._endpoint=e.endpoint||c,this._sdkId=null,this._platformId=null,this._clientVersion=null,this._sdkIdPromise=r.resolve(e.sdkId||"transport:1.0.0"),this._platformPromise=r.resolve(e.platform||"spotify-transport"),this._clientVersionPromise=r.resolve(e.clientVersion||"0.0.0"),this._allowUnauthenticated=e.allowUnauthenticated}R.create=function(t){return new R(t)},R.prototype._getIdentData=function(){return this._platformId&&this._sdkId?r.resolve({platform:this._platformId,sdk_id:this._sdkId,client_version:this._clientVersion}):r.all([this._platformPromise,this._sdkIdPromise,this._clientVersionPromise]).spread(function(t,e,n){return this._platformId=t,this._sdkId=e,this._clientVersion=n,r.resolve({platform:t,sdk_id:e,client_version:n})}.bind(this))},R.prototype._decoratePayload=function(t){return this._getIdentData().then(function(e){return t.sdk_id=e.sdk_id,t.platform=e.platform,t.client_version=e.client_version,t})},R.prototype._sendLog=function(t,e){var n=!this._allowUnauthenticated||!t.allowUnauthenticated||this._transport.isAuthenticated();return this._transport.request(this._endpoint+t.url,{method:"POST",authorize:n,payload:JSON.stringify(e),retry:{maxRetries:5,condition:function(t){return t.status!==i.ACCEPTED}}}).then(function(t){var e=t.status;return e===i.ACCEPTED||r.reject(new s(u.LOGGING_REQUEST_FAILED,"Logging service responded with status "+e,e))})},R.prototype._logErrorVariant=function(t,e,n){var r={sdk_id:null,platform:null,source:e.source||l,source_version:e.source_version||l,type:e.type||l,message:e.message||f,stack:JSON.stringify(e.stack||f),json_data:"json"===n?e.json_data||"{}":JSON.stringify(e.json_data||{}),json_data_version:e.json_data_version||p};return this._decoratePayload(r).then(this._sendLog.bind(this,t))},R.prototype.createStepTimer=function(t){return a.create(t,this)},R.prototype.createIntervalTimer=function(t,e){return o.create(t,e,this)},R.prototype.logClientEvent=function(t,e){if(!t)return r.reject(new TypeError("Logger.logClientEvent `data` cannot be null."));var n={sdk_id:null,platform:null,source:t.source||l,context:t.context||l,event:t.event||l,event_version:t.event_version||f,test_version:t.test_version||f,source_version:t.source_version||l,source_vendor:t.source_vendor||l,json_data:"json"===e?t.json_data||"{}":JSON.stringify(t.json_data||{})};return this._decoratePayload(n).then(this._sendLog.bind(this,h))},R.prototype.logElapsedTime=function(t){if(!t)return r.reject(new TypeError("Logger.logElapsedTime `data` cannot be null."));var e=this._transport,n={sdk_id:null,platform:null,unique_id:t.unique_id||e.getInitTime(),event:t.event||l,elapsed_time:t.elapsed_time||0};return this._decoratePayload(n).then(this._sendLog.bind(this,d))},R.prototype.logJSSDKError=function(t,e){return t?this._logErrorVariant(_,t,e):r.reject(new TypeError("Logger.logJSSDKError `data` cannot be null."))},R.prototype.logJSSDKWarning=function(t,e){return t?this._logErrorVariant(b,t,e):r.reject(new TypeError("Logger.logJSSDKWarning `data` cannot be null."))},R.prototype.logJSSDKPlaybackStats=function(t){if(!t)return r.reject(new TypeError("Logger.logJSSDKPlaybackStats `data` cannot be null."));var e={sdk_id:null,platform:null,play_track:t.play_track,file_id:t.file_id,playback_id:t.playback_id,internal_play_id:t.internal_play_id,memory_cached:t.memory_cached,persistent_cached:t.persistent_cached,audio_format:t.audio_format,video_format:t.video_format,manifest_id:t.manifest_id,protected:t.isProtected,key_system:t.key_system,key_system_impl:t.key_system_impl,urls_json:t.urls_json,start_time:t.start_time,end_time:t.end_time,external_start_time:t.external_start_time,ms_play_latency:t.ms_play_latency,ms_init_latency:t.ms_init_latency,ms_head_latency:t.ms_head_latency,ms_manifest_latency:t.ms_manifest_latency,ms_resolve_latency:t.ms_resolve_latency,ms_license_generation_latency:t.ms_license_generation_latency,ms_license_request_latency:t.ms_license_request_latency,ms_license_session_latency:t.ms_license_session_latency,ms_license_update_latency:t.ms_license_update_latency,ms_played:t.ms_played,ms_nominal_played:t.ms_nominal_played,ms_file_duration:t.ms_file_duration,ms_actual_duration:t.ms_actual_duration,ms_start_position:t.ms_start_position,ms_end_position:t.ms_end_position,ms_seek_rebuffer:t.ms_seek_rebuffer,ms_seek_rebuffer_longest:t.ms_seek_rebuffer_longest,ms_stall_rebuffer:t.ms_stall_rebuffer,ms_stall_rebuffer_longest:t.ms_stall_rebuffer_longest,n_stalls:t.n_stalls,n_seekback:t.n_seekback,n_seekforward:t.n_seekforward,start_bitrate:t.start_bitrate,time_weighted_bitrate:t.time_weighted_bitrate,reason_start:t.reason_start,reason_end:t.reason_end,initially_paused:t.initially_paused,had_error:t.had_error,n_warnings:t.n_warnings,n_navigator_offline:t.n_navigator_offline,session_id:t.sessionId,sequence_id:t.sequenceId};return this._decoratePayload(e).then(this._sendLog.bind(this,v))},R.prototype.logJSSDKPlaybackStart=function(t){if(!t)return r.reject(new TypeError("Logger.logJSSDKPlaybackStart `data` cannot be null."));var e={sdk_id:null,platform:null,play_track:t.play_track,file_id:t.file_id,playback_id:t.playback_id,session_id:t.session_id,ms_start_position:t.ms_start_position,initially_paused:t.initially_paused};return this._decoratePayload(e).then(this._sendLog.bind(this,m))},R.prototype.logJSSDKStall=function(t){if(!t)return r.reject(new TypeError("Logger.logJSSDKStall `data` cannot be null."));var e={sdk_id:null,platform:null,session_id:t.session_id||f,playback_id:t.playback_id||f,play_track:t.play_track||f,file_id:t.file_id||f,byte_offset:t.byte_offset||0,time_offset:t.time_offset||0,ms_stalled:t.ms_stalled||0,timed_out:!!t.timed_out};return this._decoratePayload(e).then(this._sendLog.bind(this,g))},R.prototype.logJSSDKTimer=function(t,e){if(!t)return r.reject(new TypeError("Logger.logJSSDKTimer `data` cannot be null."));if(!Array.isArray(t.breakdown))return r.reject(new TypeError("Logger.logJSSDKTimer `data.breakdown` must be an array."));var n={sdk_id:null,platform:null,timer_name:t.timer_name||f,ms_duration:t.ms_duration||0,breakdown:JSON.stringify(t.breakdown),breakdown_version:t.breakdown_version||p,json_data:"json"===e?t.json_data||"{}":JSON.stringify(t.json_data||{}),json_data_version:t.json_data_version||p};return this._decoratePayload(n).then(this._sendLog.bind(this,E))},R.prototype.logJSSDKIntervalTimer=function(t){if(!t)return r.reject(new TypeError("Logger.logJSSDKIntervalTimer `data` cannot be null."));var e={sdk_id:null,platform:null,timer_name:t.name||f,timer_id:t.id||f,intervals:t.intervals};return this._decoratePayload(e).then(this._sendLog.bind(this,y))},R.prototype.logTrackStreamVerification=function(t){if(!t)return r.reject(new TypeError("Logger.logTrackStreamVerification `data` cannot be null."));var e={sdk_id:null,platform:null,play_track:t.play_track,playback_id:t.playback_id,ms_played:t.ms_played,session_id:t.session_id,sequence_id:t.sequence_id,next_playback_id:t.next_playback_id};return this._decoratePayload(e).then(this._sendLog.bind(this,T))},R.prototype.logMetrics=function(t,e){if(!t&&!e)return r.resolve(!0);var n,i,o=t||[],a=e||[];if(!o.length&&!a.length)return r.resolve(!0);if(!Array.isArray(o)||!Array.isArray(a))return r.reject(new TypeError("Logger.logMetrics `meters` and `timers` must be null or an array."));for(n=0,i=o.length;n<i;n++){var s=o[n];if(!("what"in s&&"result"in s&&"reason"in s))return r.reject(new TypeError("Logger.logMetrics: Invalid meter format in `meters` array."))}for(n=0,i=a.length;n<i;n++){var u=a[n];if(!("what"in u&&"duration"in u))return r.reject(new TypeError("Logger.logMetrics: Invalid timer format in `timers` array."))}var c={sdk_id:null,platform:null,meters:o,timers:a};return this._decoratePayload(c).then(this._sendLog.bind(this,S))},t.exports=R},n3pV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createConfigurationAppliedEvent=function(t){return{name:"ConfigurationApplied",data:t}},e.createDefaultConfigurationAppliedEvent=function(t){return{name:"DefaultConfigurationApplied",data:t}}},n428:function(t,e,n){t.exports=n("hBZP").EventEmitter},nAES:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({DEALER_CONNECTION_ERROR:"DEALER_CONNECTION_ERROR",DEALER_AUTHENTICATION_FAILED:"DEALER_AUTHENTICATION_FAILED",DEALER_ERROR:"DEALER_ERROR",HTTP_REQUEST_FAILED:"HTTP_REQUEST_FAILED",LOGGING_REQUEST_FAILED:"LOGGING_REQUEST_FAILED",TRANSPORT_LIFECYCLE_DISABLED:"TRANSPORT_LIFECYCLE_DISABLED"})},nAMc:function(t,e,n){"use strict";t.exports={FILE_URLS_MP3:"file_urls_mp3",FILE_URLS_EXTERNAL:"file_urls_external",FILE_IDS_MP4:"file_ids_mp4",FILE_IDS_MP4_DUAL:"file_ids_mp4_dual",MANIFEST_IDS_VIDEO:"manifest_ids_video"}},nEgm:function(t,e,n){"use strict";function r(t,e){Error.call(this,t),this.code=t,this.message=e,this.origin=null}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="TransportError",t.exports=r},nLrc:function(t,e,n){"use strict";(function(t){var r=n("63Ad")(n("e+GP"));!function(){var n="undefined"!=typeof window?window:t,i={};for(var o in function(t,e){var n,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o=void 0!==t&&t===this?this:void 0!==e&&null!=e?e:this;function a(){a=function(){},o.Symbol||(o.Symbol=u)}var s,u=(s=0,function(t){return"jscomp_symbol_"+(t||"")+s++});function c(){a();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&i(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return l(this)}}),c=function(){}}function l(t){var e=0;return f(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function f(t){return c(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}function p(t){c();var e=t[Symbol.iterator];return e?e.call(t):l(t)}function h(t,e){if(e){for(var n=o,r=t.split("."),a=0;a<r.length-1;a++){var s=r[a];s in n||(n[s]={}),n=n[s]}(s=e(a=n[r=r[r.length-1]]))!=a&&null!=s&&i(n,r,{configurable:!0,writable:!0,value:s})}}function d(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(t,i)}(t.next())})}(t())}h("Promise",function(t){function e(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c(function(){t.h()})};var a=o.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c(function(){throw t})},e.prototype.c=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.s),reject:t(this.f)}},e.prototype.s=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch((0,r.default)(t)){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.f=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.g=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.u=function(t){var e=this.c();t.nb(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.nb(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.nb=function(t,e){function n(){switch(r.b){case 1:t(r.g);break;case 2:e(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=p(t),o=r.next();!o.done;o=r.next())i(o.value).nb(e,n)})},e.all=function(t){var n=p(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).nb(o(a.length-1),e),r=n.next()}while(!r.done)})},e}),h("Promise.prototype.finally",function(t){return t||function(t){return this.then(function(e){return Promise.resolve(t()).then(function(){return e})},function(e){return Promise.resolve(t()).then(function(){throw e})})}});var _,y="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)_=Object.setPrototypeOf;else{var v;t:{var m={};try{m.__proto__={Pc:!0},v=m.Pc;break t}catch(s){}v=!1}_=v?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var g=_;function E(){this.c=!1,this.a=null,this.w=void 0,this.j=1,this.g=this.P=0,this.b=null}function b(t){if(t.c)throw new TypeError("Generator is already running");t.c=!0}function T(t,e){t.b={qc:e,yd:!0},t.j=t.P||t.g}function S(t,e,n){return t.j=n,{value:e}}function R(t){t.j=0}function w(t,e){t.j=e,t.P=0}function O(t){t.P=0;var e=t.b.qc;return t.b=null,e}function A(t){this.a=new E,this.b=t}function I(t,e,n,r){try{var i=e.call(t.a.a,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.c=!1,i;var o=i.value}catch(e){return t.a.a=null,T(t.a,e),N(t)}return t.a.a=null,r.call(t.a,o),N(t)}function N(t){for(;t.a.j;)try{var e=t.b(t.a);if(e)return t.a.c=!1,{value:e.value,done:!1}}catch(e){t.a.w=void 0,T(t.a,e)}if(t.a.c=!1,t.a.b){if(e=t.a.b,t.a.b=null,e.yd)throw e.qc;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function C(t){this.next=function(e){return b(t.a),t.a.a?e=I(t,t.a.a.next,e,t.a.f):(t.a.f(e),e=N(t)),e},this.throw=function(e){return b(t.a),t.a.a?e=I(t,t.a.a.throw,e,t.a.f):(T(t.a,e),e=N(t)),e},this.return=function(e){return function(t,e){b(t.a);var n=t.a.a;return n?I(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),N(t))}(t,e)},c(),this[Symbol.iterator]=function(){return this}}function P(t,e){return C.prototype=t.prototype,new C(new A(e))}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}E.prototype.f=function(t){this.w=t},E.prototype.return=function(t){this.b={return:t},this.j=this.g},h("WeakMap",function(t){function e(t){if(this.a=(s+=Math.random()+1).toString(),t){a(),c(),t=p(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(t){L(t,o)||i(t,o,{value:{}})}function r(t){var e=Object[t];e&&(Object[t]=function(t){return n(t),e(t)})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var o="$jscomp_hidden_"+Math.random();r("freeze"),r("preventExtensions"),r("seal");var s=0;return e.prototype.set=function(t,e){if(n(t),!L(t,o))throw Error("WeakMap key fail: "+t);return t[o][this.a]=e,this},e.prototype.get=function(t){return L(t,o)?t[o][this.a]:void 0},e.prototype.has=function(t){return L(t,o)&&L(t[o],this.a)},e.prototype.delete=function(t){return!(!L(t,o)||!L(t[o],this.a))&&delete t[o][this.a]},e}),h("Map",function(t){function e(){var t={};return t.ja=t.next=t.head=t}function n(t,e){var n=t.a;return f(function(){if(n){for(;n.head!=t.a;)n=n.ja;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}})}function i(t,e){var n=e&&(0,r.default)(e);"object"==n||"function"==n?s.has(e)?n=s.get(e):(n=""+ ++u,s.set(e,n)):n="p_"+e;var i=t.b[n];if(i&&L(t.b,n))for(var o=0;o<i.length;o++){var a=i[o];if(e!=e&&a.key!=a.key||e===a.key)return{id:n,list:i,index:o,O:a}}return{id:n,list:i,index:-1,O:void 0}}function o(t){if(this.b={},this.a=e(),this.size=0,t){t=p(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(p([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(t){return!1}}())return t;a(),c();var s=new WeakMap;o.prototype.set=function(t,e){var n=i(this,t);return n.list||(n.list=this.b[n.id]=[]),n.O?n.O.value=e:(n.O={next:this.a,ja:this.a.ja,head:this.a,key:t,value:e},n.list.push(n.O),this.a.ja.next=n.O,this.a.ja=n.O,this.size++),this},o.prototype.delete=function(t){return!(!(t=i(this,t)).O||!t.list||(t.list.splice(t.index,1),t.list.length||delete this.b[t.id],t.O.ja.next=t.O.next,t.O.next.ja=t.O.ja,t.O.head=null,this.size--,0))},o.prototype.clear=function(){this.b={},this.a=this.a.ja=e(),this.size=0},o.prototype.has=function(t){return!!i(this,t).O},o.prototype.get=function(t){return(t=i(this,t).O)&&t.value},o.prototype.entries=function(){return n(this,function(t){return[t.key,t.value]})},o.prototype.keys=function(){return n(this,function(t){return t.key})},o.prototype.values=function(){return n(this,function(t){return t.value})},o.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},o.prototype[Symbol.iterator]=o.prototype.entries;var u=0;return o}),h("Set",function(t){function e(t){if(this.a=new Map,t){t=p(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.a.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(p([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done}catch(t){return!1}}()?t:(a(),c(),e.prototype.add=function(t){return this.a.set(t,t),this.size=this.a.size,this},e.prototype.delete=function(t){return t=this.a.delete(t),this.size=this.a.size,t},e.prototype.clear=function(){this.a.clear(),this.size=0},e.prototype.has=function(t){return this.a.has(t)},e.prototype.entries=function(){return this.a.entries()},e.prototype.values=function(){return this.a.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.a.forEach(function(r){return t.call(e,r,r,n)})},e)}),h("Array.prototype.keys",function(t){return t||function(){return function(t,e){c(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,function(t){return t})}}),h("Object.is",function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),h("Array.prototype.includes",function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var o=n[i];if(o===t||Object.is(o,t))return!0}return!1}}),h("String.prototype.includes",function(t){return t||function(t,e){return-1!==k(this,t,"includes").indexOf(t,e||0)}}),h("Array.from",function(t){return t||function(t,e,n){c(),e=null!=e?e:function(t){return t};var r=[],i=t[Symbol.iterator];if("function"==typeof i)for(t=i.call(t);!(i=t.next()).done;)r.push(e.call(n,i.value));else{i=t.length;for(var o=0;o<i;o++)r.push(e.call(n,t[o]))}return r}}),h("String.prototype.startsWith",function(t){return t||function(t,e){for(var n=k(this,t,"startsWith"),r=n.length,i=t.length,o=Math.max(0,Math.min(0|e,n.length)),a=0;a<i&&o<r;)if(n[o++]!=t[a++])return!1;return a>=i}}),h("Array.prototype.find",function(t){return t||function(t,e){t:{var n=this;n instanceof String&&(n=String(n));for(var r=n.length,i=0;i<r;i++){var o=n[i];if(t.call(e,o,i,n)){n=o;break t}}n=void 0}return n}});var D=this;function x(t,e){var n,r=t.split("."),i=D;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}function M(t,e){function n(){}n.prototype=e.prototype,t.ke=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.we=function(t,n,r){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function U(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function F(t,e,n){var r=Math.pow(t.c,e);n=n*(1-r)+r*t.a,isNaN(n)||(t.a=n,t.b+=e)}function j(t){return t.a/(1-Math.pow(t.c,t.b))}function B(){this.b=new U(2),this.c=new U(5),this.a=0}function V(){}function G(){}D.a=!0,B.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(j(this.b),j(this.c))},t.console&&t.console.log.bind&&(G=void 0,V=void 0);var W=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function H(t){var e;t instanceof H?(K(this,t.ea),this.Ea=t.Ea,this.aa=t.aa,q(this,t.Xa),this.U=t.U,Y(this,t.a.clone()),this.xa=t.xa):t&&(e=String(t).match(W))?(K(this,e[1]||"",!0),this.Ea=z(e[2]||""),this.aa=z(e[3]||"",!0),q(this,e[4]),this.U=z(e[5]||"",!0),Y(this,e[6]||"",!0),this.xa=z(e[7]||"")):this.a=new nt(null)}function K(t,e,n){t.ea=n?z(e,!0):e,t.ea&&(t.ea=t.ea.replace(/:$/,""))}function q(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Xa=e}else t.Xa=null}function Y(t,e,n){e instanceof nt?t.a=e:(n||(e=X(e,tt)),t.a=new nt(e))}function z(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function X(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Q),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Q(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(n=H.prototype).ea="",n.Ea="",n.aa="",n.Xa=null,n.U="",n.xa="",n.toString=function(){var t=[],e=this.ea;if(e&&t.push(X(e,J,!0),":"),e=this.aa){t.push("//");var n=this.Ea;n&&t.push(X(n,J,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Xa)&&t.push(":",String(e))}return(e=this.U)&&(this.aa&&"/"!=e.charAt(0)&&t.push("/"),t.push(X(e,"/"==e.charAt(0)?Z:$,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.xa)&&t.push("#",X(e,et)),t.join("")},n.resolve=function(t){var e=this.clone();"data"===e.ea&&(e=new H);var n=!!t.ea;n?K(e,t.ea):n=!!t.Ea,n?e.Ea=t.Ea:n=!!t.aa,n?e.aa=t.aa:n=null!=t.Xa;var r=t.U;if(n)q(e,t.Xa);else if(n=!!t.U){if("/"!=r.charAt(0))if(this.aa&&!this.U)r="/"+r;else{var i=e.U.lastIndexOf("/");-1!=i&&(r=e.U.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?e.U=r:n=""!==t.a.toString(),n?Y(e,t.a.clone()):n=!!t.xa,n&&(e.xa=t.xa),e},n.clone=function(){return new H(this)};var J=/[#\/\?@]/g,$=/[#\?:]/g,Z=/[#\?]/g,tt=/[#\?@]/g,et=/#/g;function nt(t){this.a=t||null}function rt(t){this.b=t,this.a=null}function it(t){this.b=t,this.a=null}function ot(t,e){var n=2,r=1e3,i=2,o=.5;this.i=null==t.maxAttempts?n:t.maxAttempts,this.f=null==t.baseDelay?r:t.baseDelay,this.h=null==t.fuzzFactor?o:t.fuzzFactor,this.g=null==t.backoffFactor?i:t.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==e&&e)&&(this.a=1)}function at(t){return d(function e(){var n,r;return P(e,function(e){switch(e.j){case 1:if(t.a>=t.i){if(!t.c)return e.return(Promise.reject());t.a=1,t.b=t.f}return n=t.a,t.a++,0==n?e.return():(r=t.b*(1+(2*Math.random()-1)*t.h),S(e,new Promise(function(t){new it(t).L(r/1e3)}),2));case 2:t.b*=t.g,R(e)}})})}function st(t,e,n,r){for(var i=[],o=3;o<arguments.length;++o)i[o-3]=arguments[o];this.severity=t,this.category=e,this.code=n,this.data=i,this.handled=!1}function ut(){var t,e,n=new Promise(function(n,r){t=n,e=r});return n.resolve=t,n.reject=e,n}function ct(t,e){this.promise=t,this.zc=e,this.a=!1}function lt(t){return new ct(Promise.reject(t),function(){return Promise.resolve()})}function ft(){var t=Promise.reject(new st(2,7,7001));return t.catch(function(){}),new ct(t,function(){return Promise.resolve()})}function pt(t){return new ct(Promise.resolve(t),function(){return Promise.resolve()})}function ht(t){return new ct(t,function(){return t.catch(function(){})})}function dt(t){return new ct(Promise.all(t.map(function(t){return t.promise})),function(){return Promise.all(t.map(function(t){return t.abort()}))})}function _t(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){}).catch(function(){})})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}function yt(e,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function vt(){this.a={}}function mt(){this.Fb=new vt,this.rc=this}function gt(t){var e=new Set;return function t(n){switch((0,r.default)(n)){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var i=n.constructor==Array;if(n.constructor!=Object&&!i)return null;e.add(n);var o,a=i?[]:{};for(o in n)a[o]=t(n[o]);return i&&(a.length=n.length),a}}(t)}function Et(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function bt(){this.a=[]}function Tt(t,e){t.a.push(e.finally(function(){Et(t.a,e)}))}function St(t){mt.call(this),this.f=!1,this.g=new bt,this.a=new Set,this.b=new Set,this.c=t||null}(n=nt.prototype).T=null,n.pb=null,n.add=function(t,e){if(!this.T&&(this.T={},this.pb=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var a=n[r].substring(0,i);o=n[r].substring(i+1)}else a=n[r];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.a=null,(n=this.T.hasOwnProperty(t)&&this.T[t])||(this.T[t]=n=[]),n.push(e),this.pb++,this},n.toString=function(){if(this.a)return this.a;if(!this.T)return"";var t,e=[];for(t in this.T)for(var n=encodeURIComponent(t),r=this.T[t],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.a=e.join("&")},n.clone=function(){var t=new nt;if(t.a=this.a,this.T){var e,n={};for(e in this.T)n[e]=this.T[e].concat();t.T=n,t.pb=this.pb}return t},rt.prototype.L=function(e){var n=this;this.stop();var r=!0,i=null;return this.a=function(){t.clearTimeout(i),r=!1},i=t.setTimeout(function(){r&&n.b()},1e3*e),this},rt.prototype.stop=function(){this.a&&(this.a(),this.a=null)},x("shaka.util.Timer",it),it.prototype.le=function(){return this.stop(),this.b(),this},it.prototype.tickNow=it.prototype.le,it.prototype.L=function(t){var e=this;return this.stop(),this.a=new rt(function(){e.b()}).L(t),this},it.prototype.tickAfter=it.prototype.L,it.prototype.qa=function(t){var e=this;return this.stop(),this.a=new rt(function(){e.a.L(t),e.b()}).L(t),this},it.prototype.tickEvery=it.prototype.qa,it.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},it.prototype.stop=it.prototype.stop,x("shaka.util.Error",st),st.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},st.Severity={RECOVERABLE:1,CRITICAL:2},st.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},st.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},ut.prototype.resolve=function(){},ut.prototype.reject=function(){},x("shaka.util.AbortableOperation",ct),ct.failed=lt,ct.aborted=ft,ct.completed=pt,ct.notAbortable=ht,ct.prototype.abort=function(){return this.a=!0,this.zc()},ct.prototype.abort=ct.prototype.abort,ct.all=dt,ct.prototype.finally=function(t){return this.promise.then(function(){return t(!0)},function(){return t(!1)}),this},ct.prototype.finally=ct.prototype.finally,ct.prototype.$=function(t,e){function n(){return i.reject(new st(2,7,7001)),r.abort()}var r=this,i=new ut;return this.promise.then(function(e){r.a?i.reject(new st(2,7,7001)):t?n=_t(t,e,i):i.resolve(e)},function(t){e?n=_t(e,t,i):i.reject(t)}),new ct(i,function(){return n()})},ct.prototype.chain=ct.prototype.$,yt.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},yt.prototype.stopImmediatePropagation=function(){this.a=!0},yt.prototype.stopPropagation=function(){},vt.prototype.push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},vt.prototype.get=function(t){return(t=this.a[t])?t.slice():null},vt.prototype.remove=function(t,e){var n=this.a[t];if(n)for(var r=0;r<n.length;++r)n[r]==e&&(n.splice(r,1),--r)},vt.prototype.forEach=function(t){for(var e in this.a)t(e,this.a[e])},mt.prototype.addEventListener=function(t,e){this.Fb.push(t,e)},mt.prototype.removeEventListener=function(t,e){this.Fb.remove(t,e)},mt.prototype.dispatchEvent=function(t){for(var e=this.Fb.get(t.type)||[],n=0;n<e.length;++n){t.target=this.rc,t.currentTarget=this.rc;var r=e[n];try{r.handleEvent?r.handleEvent(t):r.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},bt.prototype.destroy=function(){var t=[];return this.a.forEach(function(e){e.promise.catch(function(){}),t.push(e.abort())}),this.a=[],Promise.all(t)},M(St,mt),x("shaka.net.NetworkingEngine",St);var Rt={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4};St.RequestType=Rt,St.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var wt={};function Ot(t,e,n){n=n||3;var r=wt[t];(!r||n>=r.priority)&&(wt[t]={priority:n,Nd:e})}function At(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null}}function It(){this.a=0}function Nt(t,e,n){ct.call(this,t,e),this.b=n}St.registerScheme=Ot,St.unregisterScheme=function(t){delete wt[t]},St.prototype.Pd=function(t){this.a.add(t)},St.prototype.registerRequestFilter=St.prototype.Pd,St.prototype.oe=function(t){this.a.delete(t)},St.prototype.unregisterRequestFilter=St.prototype.oe,St.prototype.Wc=function(){this.a.clear()},St.prototype.clearAllRequestFilters=St.prototype.Wc,St.prototype.Qd=function(t){this.b.add(t)},St.prototype.registerResponseFilter=St.prototype.Qd,St.prototype.pe=function(t){this.b.delete(t)},St.prototype.unregisterResponseFilter=St.prototype.pe,St.prototype.Xc=function(){this.b.clear()},St.prototype.clearAllResponseFilters=St.prototype.Xc,St.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},St.prototype.destroy=St.prototype.destroy,St.prototype.request=function(t,e){var n=this,r=new It;if(this.f){var i=Promise.reject(new st(2,7,7001));return i.catch(function(){}),new Nt(i,function(){return Promise.resolve()},r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?gt(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=gt(e.uris);var o=(i=function(t,e,n){for(var r=pt(void 0),i={},o=(t=p(t.a)).next();!o.done;i={dc:i.dc},o=t.next())i.dc=o.value,r=r.$(function(t){return function(){return t.dc(e,n)}}(i));return r.$(void 0,function(t){if(t&&7001==t.code)throw t;throw new st(2,1,1006,t)})}(this,t,e)).$(function(){return function t(e,n,r,i,o,a,s){var u=new H(r.uris[o]),c=u.ea,l=!1;c||(K(u,c=(c=location.protocol).slice(0,-1)),r.uris[o]=u.toString());var f,p=(c=wt[c])?c.Nd:null;return p?ht(at(i)).$(function(){return e.f?ft():(f=Date.now(),p(r.uris[o],r,n,function(t,r,i){e.c&&1==n&&(e.c(t,r),l=!0,s.a=i)}))}).$(function(t){return null==t.timeMs&&(t.timeMs=Date.now()-f),{response:t,wd:l}},function(s){if(s&&7001==s.code)throw s;if(e.f)return ft();if(s&&1==s.severity)return e.dispatchEvent(new yt("retry",{error:s instanceof st?s:null})),o=(o+1)%r.uris.length,t(e,n,r,i,o,s);throw s||a}):lt(new st(2,1,1e3,u))}(n,t,e,new ot(e.retryParameters,!1),0,null,r)}),a=o.$(function(e){return function(t,e,n){for(var r=pt(void 0),i=(t=p(t.b)).next();!i.done;i=t.next())r=r.$(i.value.bind(null,e,n.response));return r.$(function(){return n},function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof st&&(e=t.severity),new st(e,1,1007,t)})}(n,t,e)}),s=Date.now(),u=0;i.promise.then(function(){u=Date.now()-s},function(){});var c=0;return o.promise.then(function(){c=Date.now()},function(){}),i=new Nt((i=a.$(function(e){var r=Date.now()-c,i=e.response;return i.timeMs+=u,i.timeMs+=r,e.wd||!n.c||i.fromCache||1!=t||n.c(i.timeMs,i.data.byteLength),i},function(t){throw t&&(t.severity=2),t})).promise,i.zc,r),Tt(this.g,i),i},St.prototype.request=St.prototype.request,St.NumBytesRemainingClass=It;var Ct=Nt;if(Ct.prototype=y(ct.prototype),Ct.prototype.constructor=Ct,g)g(Ct,ct);else for(var Pt in ct)if("prototype"!=Pt)if(Object.defineProperties){var Lt=Object.getOwnPropertyDescriptor(ct,Pt);Lt&&Object.defineProperty(Ct,Pt,Lt)}else Ct[Pt]=ct[Pt];function kt(){this.b=new vt}function Dt(t,e,n,r){t.b&&(e=new Ut(e,n,r),t.b.push(n,e))}function xt(t,e,n,r){Dt(t,e,n,function i(o){t.Y(e,n,i),r(o)})}function Mt(t){if(t.b){var e,n=t.b,r=[];for(e in n.a)r.push.apply(r,n.a[e]);for(n=0;n<r.length;++n)r[n].Y();t.b.a={}}}function Ut(t,e,n){this.target=t,this.type=e,this.listener=n,this.target.addEventListener(e,n,!1)}function Ft(t,e){for(var n=p(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}function jt(t){var e=new Map;return Object.keys(t).forEach(function(n){e.set(n,t[n])}),e}function Bt(t){var e={};return t.forEach(function(t,n){e[n]=t}),e}function Vt(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function Gt(t){var e=(t=t.split("."))[0];return t.pop(),[e,t.join(".")]}Ct.ke=ct.prototype,St.PendingRequest=Nt,Nt.all=dt,Nt.notAbortable=ht,Nt.completed=pt,Nt.aborted=ft,Nt.failed=lt,kt.prototype.a=function(){Mt(this),this.b=null},kt.prototype.Y=function(t,e,n){if(this.b)for(var r=this.b.get(e)||[],i=0;i<r.length;++i){var o=r[i];o.target!=t||n!=o.listener&&n||(o.Y(),this.b.remove(e,o))}},Ut.prototype.Y=function(){this.target.removeEventListener(this.type,this.listener,!1),this.listener=this.target=null};var Wt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Ht(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function Kt(t){return""!=(zt||(Yt||(Yt=new it(function(){zt=null})),(zt=document.querySelector("video")||document.querySelector("audio"))||(zt=document.createElement("video")),Yt.L(1),zt)).canPlayType(t)}function qt(t){return(navigator.userAgent||"").includes(t)}var Yt=null,zt=null;function Xt(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=escape(te(t));try{return decodeURIComponent(t)}catch(t){throw new st(2,2,2004)}}function Qt(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new st(2,2,2004);if(t instanceof ArrayBuffer)var r=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),r=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),r=new DataView(r);for(var i=0;i<t;i++)n[i]=r.getUint16(2*i,e);return te(n)}function Jt(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return Xt(e);if(254==e[0]&&255==e[1])return Qt(e.subarray(2),!1);if(255==e[0]&&254==e[1])return Qt(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(0==e[0]&&0==e[2])return Qt(t,!1);if(0==e[1]&&0==e[3])return Qt(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return Xt(t);throw new st(2,2,2003)}function $t(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function Zt(t,e){for(var n=new Uint8Array(2*t.length),r=new DataView(n.buffer),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n.buffer}function te(t){for(var e="",n=0;n<t.length;n+=16e3)e+=String.fromCharCode.apply(null,t.subarray(n,n+16e3));return e}function ee(e,n){var r=te(e);return n=null==n||n,r=t.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}function ne(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}function re(e){for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)n[r/2]=t.parseInt(e.substr(r,2),16);return n}function ie(t){for(var e="",n=0;n<t.length;++n){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e}function oe(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0}function ae(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var r=n=0;r<e.length;++r)n+=e[r].length;n=new Uint8Array(n);for(var i=r=0;i<e.length;++i)n.set(e[i],r),r+=e[i].length;return n}function se(t){var e=this;this.v=t,this.s=new Set,this.l=this.h=null,this.J=!1,this.a=null,this.i=new kt,this.b=new Map,this.u=[],this.m=new ut,this.f=null,this.g=function(n){e.m.reject(n),t.onError(n)},this.W=new Map,this.K=new Map,this.H=new it(function(){return function(t){var e=t.W,n=t.K;n.clear(),e.forEach(function(t,e){return n.set(e,t)}),(e=Array.from(n.values())).length&&e.every(function(t){return"expired"==t})&&t.g(new st(2,6,6014)),t.v.Cc(Bt(n))}(e)}),this.c=!1,this.N=new ut,this.G=!1,this.B=[],this.V=!1,this.M=new it(function(){!function(t){t.b.forEach(function(e,n){var r=e.Zb,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.v.onExpirationUpdated(n.sessionId,i),e.Zb=i)})}(e)}).qa(1),this.m.catch(function(){})}function ue(e,n,r){return e.u=r,e.G=0<r.length,function(e,n){var r=n.some(function(t){return 0<t.drmInfos.length});if(!r){var i=jt(e.f.servers);!function(t,e){var n=[];e.forEach(function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var r=p(t),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,i)}var o=function(e){if(0==(e=jt(e.f.clearKeys)).size)return null;var n=[],r=[];e.forEach(function(t,e){var i=re(e),o=re(t);i={kty:"oct",kid:ee(i,!1),k:ee(o,!1)},n.push(i),r.push(i.kid)}),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array($t(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(e);if(o){var a=p(n);for(i=a.next();!i.done;i=a.next())i.value.drmInfos=[o]}for(i=(o=p(n)).next();!i.done;i=o.next())for(a=(i=p(i.value.drmInfos)).next();!a.done;a=i.next())_e(a.value,jt(e.f.servers),jt(e.f.advanced||{}));return(i=function(t,e){for(var n=new Set,r=p(e),i=r.next();!i.done;i=r.next()){var o=p(i.value.drmInfos);for(i=o.next();!i.done;i=o.next())n.add(i.value)}for(i=(r=p(n)).next();!i.done;i=r.next())_e(i.value,jt(t.f.servers),jt(t.f.advanced||{}));o=t.G?"required":"optional";var a=t.G?["persistent-license"]:["temporary"];for(r=new Map,i=(n=p(n)).next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:o,sessionTypes:a,label:i.keySystem,drmInfos:[]});for(i=(n=p(e)).next();!i.done;i=n.next()){o=(i=i.value).audio,a=i.video;var s=o?Vt(o.mimeType,o.codecs):"",u=a?Vt(a.mimeType,a.codecs):"",c=p(i.drmInfos);for(i=c.next();!i.done;i=c.next()){i=i.value;var l=r.get(i.keySystem);l.drmInfos.push(i),i.distinctiveIdentifierRequired&&(l.distinctiveIdentifier="required"),i.persistentStateRequired&&(l.persistentState="required"),o&&l.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),a&&l.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(e,n)).size?(i=function(t,e){if(1==e.size&&e.has(""))return Promise.reject(new st(2,6,6e3));for(var n=p(e.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new ut;return[!0,!1].forEach(function(t){var n=this;e.forEach(function(e,r){e.drmInfos.some(function(t){return!!t.licenseServerUri})==t&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[e])}.bind(n)))})}.bind(t)),i=(i=i.catch(function(){return Promise.reject(new st(2,6,6001))})).then(function(t){if(this.c)return Promise.reject();this.s.clear();var n=t.getConfiguration(),r=n.videoCapabilities||[],i=p(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.s.add(n.value.contentType);for(n=(r=p(r)).next();!n.done;n=r.next())this.s.add(n.value.contentType);r=t.keySystem,i=[];var o=[],a=[],s=[];return function(t,e,n,r,i){t.forEach(function(t){if(e.includes(t.licenseServerUri)||e.push(t.licenseServerUri),t.serverCertificate&&(n.some(function(e){return oe(e,t.serverCertificate)})||n.push(t.serverCertificate)),t.initData&&t.initData.forEach(function(t){r.some(function(e){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&oe(e.initData,t.initData)})||r.push(t)}),t.keyIds)for(var o=0;o<t.keyIds.length;++o)i.includes(t.keyIds[o])||i.push(t.keyIds[o])})}((n=e.get(t.keySystem)).drmInfos,i,o,a,s),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:a,keyIds:s},this.a.licenseServerUri?t.createMediaKeys():Promise.reject(new st(2,6,6012,this.a.keySystem))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.h=t,this.J=!0}.bind(t)).catch(function(t){if(!this.c)return this.a=null,this.s.clear(),t instanceof st?Promise.reject(t):Promise.reject(new st(2,6,6002,t.message))}.bind(t)),n.reject(),i}(e,i),r?i:i.catch(function(){})):(e.J=!0,Promise.resolve())}(e,n)}function ce(t,e,n){for(var r=t.b.values(),i=(r=p(r)).next();!i.done;i=r.next())if(oe(n,i.value.initData))return;fe(t,e,n)}function le(t,e){return!!qt("Edge/")||t.s.has(e)}function fe(t,e,n){try{var r=t.G?t.h.createSession("persistent-license"):t.h.createSession()}catch(e){return void t.g(new st(2,6,6005,e.message))}Dt(t.i,r,"message",t.Ec.bind(t)),Dt(t.i,r,"keystatuseschange",t.Dc.bind(t)),t.b.set(r,{initData:n,loaded:!1,Zb:1/0,ra:null}),r.generateRequest(e,n.buffer).catch(function(e){if(!t.c){if(t.b.delete(r),e.errorCode&&e.errorCode.systemCode){var n=e.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}t.g(new st(2,6,6006,e.message,e,n))}})}function pe(t,e){var n=e.target,r=t.b.get(n),i=t.a.licenseServerUri,o=t.f.advanced[t.a.keySystem];"individualization-request"==e.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(i=At([i],t.f.retryParameters)).body=e.message,i.method="POST",i.licenseRequestType=e.messageType,"com.microsoft.playready"!=t.a.keySystem&&"com.chromecast.playready"!=t.a.keySystem||function(t){var e=Qt(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)t.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;t.body=ne(e.querySelector("Challenge").textContent).buffer}else t.headers["Content-Type"]="text/xml; charset=utf-8"}(i),t.a.keySystem.startsWith("com.apple.fps")&&function(t){var e=new Uint8Array(t.body);e="spc="+ee(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=$t(e)}(i),t.v.ub.request(2,i).promise.then(function(t){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&function(t){try{var e=Xt(t.data)}catch(t){return}"<ckc>"===(e=e.trim()).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6));try{e=JSON.parse(e).ckc}catch(t){}t.data=ne(e).buffer}(t),n.update(t.data).then(function(){var t=this;this.v.onEvent(new yt("drmsessionupdate")),r&&(r.ra&&r.ra.resolve(),new it(function(){r.loaded=!0,de(t)&&t.m.resolve()}).L(ve))}.bind(this)))}.bind(t),function(t){this.c||(t=new st(2,6,6007,t),this.g(t),r&&r.ra&&r.ra.reject(t))}.bind(t)).catch(function(t){this.c||(t=new st(2,6,6008,t.message),this.g(t),r&&r.ra&&r.ra.reject(t))}.bind(t))}function he(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=0;r<t.length;r++)for(var i=0;i<e.length;i++)if(t[r].keySystem==e[i].keySystem){var o=t[r];i=e[i];var a=[];a=(a=a.concat(o.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(o.keyIds)).concat(i.keyIds),n.push({keySystem:o.keySystem,licenseServerUri:o.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:o.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:o.persistentStateRequired||i.persistentStateRequired,videoRobustness:o.videoRobustness||i.videoRobustness,audioRobustness:o.audioRobustness||i.audioRobustness,serverCertificate:o.serverCertificate||i.serverCertificate,initData:a,keyIds:s});break}return n}function de(t){return Ft(t=t.b.values(),function(t){return t.loaded})}function _e(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=[]),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}x("shaka.util.StringUtils.fromUTF8",Xt),x("shaka.util.StringUtils.fromUTF16",Qt),x("shaka.util.StringUtils.fromBytesAutoDetect",Jt),x("shaka.util.StringUtils.toUTF8",$t),x("shaka.util.StringUtils.toUTF16",Zt),x("shaka.util.Uint8ArrayUtils.toBase64",ee),x("shaka.util.Uint8ArrayUtils.fromBase64",ne),x("shaka.util.Uint8ArrayUtils.fromHex",re),x("shaka.util.Uint8ArrayUtils.toHex",ie),x("shaka.util.Uint8ArrayUtils.equal",oe),x("shaka.util.Uint8ArrayUtils.concat",ae),(n=se.prototype).destroy=function(){var t=this;return d(function e(){return P(e,function(e){switch(e.j){case 1:return t.c?S(e,t.N,0):(t.c=!0,S(e,function(t){return d(function e(){var n;return P(e,function(e){switch(e.j){case 1:return t.i.a(),t.i=null,t.m.reject(),t.M.stop(),t.M=null,t.H.stop(),t.H=null,n=Array.from(t.b.keys()),t.b.clear(),S(e,Promise.all(n.map(function(t){return Promise.resolve().then(function(){return d(function e(){return P(e,function(e){switch(e.j){case 1:return e.P=2,S(e,function(t){return d(function e(){var n;return P(e,function(e){switch(e.j){case 1:return n=new Promise(function(t){new it(t).L(ye)}),S(e,Promise.race([t.close().then(function(){return!0}),n.then(function(){return!1})]),2);case 2:R(e)}})})}(t),4);case 4:w(e,0);break;case 2:O(e),R(e)}})})})})),2);case 2:if(!t.l){e.j=3;break}return e.P=4,S(e,t.l.setMediaKeys(null),6);case 6:w(e,5);break;case 4:O(e);case 5:t.l=null;case 3:t.a=null,t.s.clear(),t.h=null,t.u=[],t.f=null,t.g=null,t.v=null,R(e)}})})}(t),4));case 4:t.N.resolve(),e.j=0}})})},n.configure=function(t){this.f=t},n.ab=function(t){var e=this;if(!this.h)return xt(this.i,t,"encrypted",function(){e.g(new st(2,6,6010))}),Promise.resolve();this.l=t,xt(this.i,this.l,"play",function(){for(var t=0;t<e.B.length;t++)pe(e,e.B[t]);e.V=!0,e.B=[]}),t=(t=this.l.setMediaKeys(this.h)).catch(function(t){return Promise.reject(new st(2,6,6003,t.message))});var n=function(t){return d(function e(){var n;return P(e,function(e){switch(e.j){case 1:if(!(t.h&&t.a&&t.a.serverCertificate&&t.a.serverCertificate.length)){e.j=0;break}return e.P=3,S(e,t.h.setServerCertificate(t.a.serverCertificate),5);case 5:w(e,0);break;case 3:return n=O(e),e.return(Promise.reject(new st(2,6,6004,n.message)))}})})}(this);return Promise.all([t,n]).then(function(){if(e.c)return Promise.reject();!function(t){var e=t.a?t.a.initData:[];e.forEach(function(e){return fe(t,e.initDataType,e.initData)}),t.u.forEach(function(e){return function(t,e){try{var n=t.h.createSession("persistent-license")}catch(e){var r=new st(2,6,6005,e.message);return t.g(r),Promise.reject(r)}Dt(t.i,n,"message",t.Ec.bind(t)),Dt(t.i,n,"keystatuseschange",t.Dc.bind(t));var i={initData:null,loaded:!1,Zb:1/0,ra:null};return t.b.set(n,i),n.load(e).then(function(t){return this.c?Promise.reject():t?(i.loaded=!0,de(this)&&this.m.resolve(),n):(this.b.delete(n),void this.g(new st(2,6,6013)))}.bind(t),function(t){this.c||(this.b.delete(n),this.g(new st(2,6,6005,t.message)))}.bind(t))}(t,e)}),e.length||t.u.length||t.m.resolve()}(e),e.a.initData.length||e.u.length||Dt(e.i,e.l,"encrypted",function(t){return ce(e,t.initDataType,new Uint8Array(t.initData))})}).catch(function(t){if(!e.c)return Promise.reject(t)})},n.keySystem=function(){return this.a?this.a.keySystem:""},n.Sb=function(){for(var t=1/0,e=this.b.keys(),n=(e=p(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},n.Ec=function(t){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.V?this.B.push(t):pe(this,t)},n.Dc=function(t){t=t.target;var e=this.b.get(t),n=!1;t.keyStatuses.forEach(function(t,r){if("string"==typeof r){var i=r;r=t,t=i}if("com.microsoft.playready"==this.a.keySystem&&16==r.byteLength&&!qt("Tizen")){var o=(i=new DataView(r)).getUint32(0,!0),a=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,o,!1),i.setUint16(4,a,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(e.loaded=!0),"expired"==t&&(n=!0),i=ie(new Uint8Array(r)),this.W.set(i,t)}.bind(this));var r=t.expiration-Date.now();(0>r||n&&1e3>r)&&e&&!e.ra&&(this.b.delete(t),t.close().catch(function(){})),de(this)&&(this.m.resolve(),this.H.L(me))};var ye=1,ve=5,me=.5;function ge(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Ee(){}function be(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function Te(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function Se(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=t.length-1;0<=r&&t.end(r)>e;--r)n+=t.end(r)-Math.max(t.start(r),e);return n}function Re(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}ge.prototype.init=function(t){var e=muxjs.mp4.probe;t=new Uint8Array(t),this.g=e.videoTrackIds(t),this.f=e.timescale(t),this.a.init()},ge.prototype.b=function(t,e){var n=new Uint8Array(t);(n=this.a.parse(n,this.g,this.f))&&n.captions&&e(n.captions),this.a.clearParsedCaptions()},ge.prototype.c=function(){this.a.resetCaptionStream()},Ee.prototype.init=function(){},Ee.prototype.b=function(){},Ee.prototype.c=function(){};var we={xe:function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())},Lb:function(t,e){return t.concat(e)},eb:function(){},zd:function(t){return null!=t}},Oe={ua:"video",Za:"audio",Z:"text",se:"application"},Ae=1/15;function Ie(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function Ne(e,n){return!(!t.muxjs||"mp2t"!=e.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Ce(n,e)):MediaSource.isTypeSupported(Ce("audio",e))||MediaSource.isTypeSupported(Ce("video",e)))}function Ce(t,e){var n=e.replace("mp2t","mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",o=r[1],a=Number(r[2]);i=("66"==o?i+"4200":"77"==o?i+"4d00":i+"6400")+(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n}function Pe(t,e,n){this.startTime=t,this.direction=Ue,this.endTime=e,this.payload=n,this.region=new Ke,this.position=null,this.positionAlign=Le,this.size=100,this.textAlign=ke,this.writingMode=Fe,this.lineInterpretation=je,this.line=null,this.lineHeight="",this.lineAlign=Be,this.displayAlign=xe,this.backgroundColor=this.color="",this.backgroundImage=null,this.fontSize="",this.fontWeight=Ge,this.fontStyle=We,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}Ie.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Ie.prototype.i=function(t){this.c=t.captions;var e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength);e.set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},Ie.prototype.h=function(){var t={data:ae.apply(null,this.g),captions:this.c};this.b.resolve(t),this.f=!1},x("shaka.text.Cue",Pe);var Le="auto";Pe.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Le};var ke="center",De={LEFT:"left",RIGHT:"right",CENTER:ke,START:"start",END:"end"};Pe.textAlign=De;var xe="after",Me={BEFORE:"before",CENTER:"center",AFTER:xe};Pe.displayAlign=Me;var Ue="ltr";Pe.direction={HORIZONTAL_LEFT_TO_RIGHT:Ue,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Fe="horizontal-tb";Pe.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Fe,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var je=0;Pe.lineInterpretation={LINE_NUMBER:je,PERCENTAGE:1};var Be="start",Ve={CENTER:"center",START:Be,END:"end"};Pe.lineAlign=Ve;var Ge=400;Pe.fontWeight={NORMAL:Ge,BOLD:700};var We="normal",He={NORMAL:We,ITALIC:"italic",OBLIQUE:"oblique"};function Ke(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=qe,this.scroll=Ye}Pe.fontStyle=He,Pe.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},x("shaka.text.CueRegion",Ke);var qe=1;Ke.units={PX:0,PERCENTAGE:qe,LINES:2};var Ye="";function ze(t){this.g=null,this.c=t,this.f=this.m=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}Ke.scrollMode={NONE:Ye,UP:"up"};var Xe={};function Qe(e){return!!(Xe[e]||t.muxjs&&"application/cea-608"==e)}function Je(t,e){"application/cea-608"!=e&&(t.g=new Xe[e])}function $e(t,e,n,r,i){for(var o=n+" "+r,a=new Map,s=(e=p(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),u.startTime+=i,u.endTime+=i,u.startTime>=t.f&&u.startTime<t.h&&(u=new Pe(u.startTime,u.endTime,u.text),a.get(s).get(o).push(u),s==t.l&&t.c.append([u]))}for(o=(i=p(a.keys())).next();!o.done;o=i.next())for(o=o.value,t.i.has(o)||t.i.set(o,new Map),s=(e=p(a.get(o).keys())).next();!s.done;s=e.next())s=s.value,u=a.get(o).get(s),t.i.get(o).set(s,u);t.a=null==t.a?Math.max(n,t.f):Math.min(t.a,Math.max(n,t.f)),t.b=Math.max(t.b,Math.min(r,t.h))}function Ze(t,e,n){this.f=t,this.h=n,this.b={},this.a=null,this.c={},this.i=new kt,this.u=!1,this.l={},this.m=e,t=this.s=new ut,e=new MediaSource,xt(this.i,e,"sourceopen",t.resolve),this.f.src=tn(e),this.g=e}x("shaka.text.TextEngine.registerParser",function(t,e){Xe[t]=e}),x("shaka.text.TextEngine.unregisterParser",function(t){delete Xe[t]}),ze.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},ze.prototype.Ub=function(t){try{return this.g.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new st(2,2,2009,t)}},ze.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))},ze.prototype.Sc=function(t){this.c.append(t)},ze.prototype.appendCues=ze.prototype.Sc,ze.prototype.Bb=function(t,e){this.l=t;var n=this.i.get(t);if(n)for(var r=p(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value))&&(i=i.filter(function(t){return t.endTime<=e}),this.c.append(i))},ze.prototype.setSelectedClosedCaptionId=ze.prototype.Bb;var tn=t.URL.createObjectURL;function en(t){var e=Vt(t.mimeType,t.codecs),n=function(t){var e=[t.mimeType];return Wt.forEach(function(n,r){var i=t[r];i&&e.push(n+'="'+i+'"')}),e.join(";")}(t);return Qe(e)||MediaSource.isTypeSupported(n)||Ne(e,t.type)}function nn(t,e){t.a||(t.a=new ze(t.h)),Je(t.a,e)}function rn(t,e){if("text"==e)var n=t.a.a;else n=!(n=an(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function on(t,e){return"text"==e?t.a.b:be(an(t,e))}function an(t,e){try{return t.b[e].buffered}catch(t){return null}}function sn(e,n,r,i,o,a){return"text"==n?function(t,e,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(e));else{var t={periodStart:this.m,segmentStart:n,segmentEnd:r};t=this.g.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.f&&t.startTime<this.h}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(t))}(e.a,r,i,o):e.l[n]?function(t,e){t.f=!0,t.b=new ut,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new st(2,3,3018)),t.b}(e.l[n],r).then(function(t){return this.a||nn(this,"text/vtt"),t.captions&&$e(this.a,t.captions,i,o,this.b.video.timestampOffset),cn(this,n,this.Mc.bind(this,n,t.data.buffer))}.bind(e)):(a&&t.muxjs&&(e.a||nn(e,"text/vtt"),null==i&&null==o?e.m.init(r):e.m.b(r,function(t){t.length&&$e(e.a,t,i,o,e.b.video.timestampOffset)})),cn(e,n,e.Mc.bind(e,n,r)))}function un(t,e){return"text"==e?t.a?(t.m.c(),t.a.remove(0,1/0)):Promise.resolve():cn(t,e,t.Hc.bind(t,e,0,t.g.duration))}function cn(t,e,n){if(t.u)return Promise.reject();if(n={start:n,p:new ut},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new st(2,3,3017,e)):n.p.reject(new st(2,3,3015,r)),fn(t,e)}return n.p}function ln(t,e){if(t.u)return Promise.reject();var n,r=[];for(n in t.b){var i=new ut,o={start:function(t){t.resolve()}.bind(null,i),p:i};t.c[n].push(o),r.push(i),1==t.c[n].length&&o.start()}return Promise.all(r).then(function(){try{e()}catch(e){var t=Promise.reject(new st(2,3,3015,e))}for(var n in this.b)fn(this,n);return t}.bind(t),function(){return Promise.reject()}.bind(t))}function fn(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(r){n.p.reject(new st(2,3,3015,r)),fn(t,e)}}function pn(t,e){return t=dn(t),e=dn(e),t.split("-")[0]==e.split("-")[0]}function hn(t,e){t=dn(t),e=dn(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function dn(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=vn.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function _n(t){return t.language?dn(t.language):t.audio&&t.audio.language?dn(t.audio.language):t.video&&t.video.language?dn(t.video.language):"und"}function yn(t,e){for(var n=dn(t),r=new Set,i=p(e),o=i.next();!o.done;o=i.next())r.add(dn(o.value));for(o=(i=p(r)).next();!o.done;o=i.next())if((o=o.value)==n)return o;for(o=(i=p(r)).next();!o.done;o=i.next())if(hn(o=o.value,n))return o;for(o=(i=p(r)).next();!o.done;o=i.next()){var a=o=o.value,s=n;if(a=dn(a),s=dn(s),a=a.split("-"),s=s.split("-"),2==a.length&&2==s.length&&a[0]==s[0])return o}for(o=(r=p(r)).next();!o.done;o=r.next())if(hn(n,i=o.value))return i;return null}(n=Ze.prototype).destroy=function(){var t=this;this.u=!0;var e,n=[];for(e in this.c){var r=this.c[e],i=r[0];for(this.c[e]=r.slice(0,1),i&&n.push(i.p.catch(we.eb)),i=1;i<r.length;++i)r[i].p.catch(we.eb),r[i].p.reject()}for(var o in this.a&&n.push(this.a.destroy()),this.h&&n.push(this.h.destroy()),this.l)n.push(this.l[o].destroy());return Promise.all(n).then(function(){t.i&&(t.i.a(),t.i=null),t.f&&(t.f.removeAttribute("src"),t.f.load(),t.f=null),t.g=null,t.a=null,t.h=null,t.b={},t.l={},t.m=null,t.c={}})},n.init=function(t,e){var n=this;return d(function r(){var i;return P(r,function(r){switch(r.j){case 1:return i=Oe,S(r,n.s,2);case 2:t.forEach(function(t,r){var o=Vt(t.mimeType,t.codecs);r==i.Z?nn(n,o):(!e&&MediaSource.isTypeSupported(o)||!Ne(o,r)||(n.l[r]=new Ie,o=Ce(r,o)),o=n.g.addSourceBuffer(o),Dt(n.i,o,"error",n.de.bind(n,r)),Dt(n.i,o,"updateend",n.Va.bind(n,r)),n.b[r]=o,n.c[r]=[])}),R(r)}})})},n.Qb=function(t){if(t.total=Re(this.f.buffered),t.audio=Re(an(this,"audio")),t.video=Re(an(this,"video")),t.text=[],this.a){var e=this.a.a,n=this.a.b;null!=e&&null!=n&&t.text.push({start:e,end:n})}},n.Bb=function(t){var e=on(this,"video")||0;this.a.Bb(t,e)},n.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):cn(this,t,this.Hc.bind(this,t,e,n))},n.flush=function(t){return"text"==t?Promise.resolve():cn(this,t,this.$c.bind(this,t))},n.endOfStream=function(t){return ln(this,function(){t?this.g.endOfStream(t):this.g.endOfStream()}.bind(this))},n.oa=function(t){return ln(this,function(){this.g.duration=t}.bind(this))},n.R=function(){return this.g.duration},n.Mc=function(t,e){this.b[t].appendBuffer(e)},n.Hc=function(t,e,n){n<=e?this.Va(t):this.b[t].remove(e,n)},n.Qc=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.Va(t)},n.$c=function(t){this.f.currentTime-=.001,this.Va(t)},n.ce=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.Va(t)},n.Yd=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.Va(t)},n.de=function(t){this.c[t][0].p.reject(new st(2,3,3014,this.f.error?this.f.error.code:0))},n.Va=function(t){var e=this.c[t][0];e&&(e.p.resolve(),fn(this,t))};var vn=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function mn(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&!(r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))&&r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))&&r(i.width*i.height,e.minPixels,e.maxPixels))||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function gn(t,e,n){var r=!1;return t.forEach(function(t){var i=t.allowedByApplication;t.allowedByApplication=mn(t,e,n),i!=t.allowedByApplication&&(r=!0)}),r}function En(t,e,n,r){r.variants=r.variants.filter(function(r){if(t&&t.J&&!function(t,e){var n=e.audio,r=e.video;if(n&&n.encrypted&&!le(t,Vt(n.mimeType,n.codecs))||r&&r.encrypted&&!le(t,Vt(r.mimeType,r.codecs)))return!1;var i=t.keySystem();return 0==e.drmInfos.length||e.drmInfos.some(function(t){return t.keySystem==i})}(t,r))return!1;var i=r.audio;return r=r.video,!(i&&!en(i)||r&&!en(r)||i&&e&&!bn(i,e)||r&&n&&!bn(r,n))}),r.textStreams=r.textStreams.filter(function(t){return Qe(Vt(t.mimeType,t.codecs))})}function bn(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function Tn(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,o=[];i&&o.push(i),r&&o.push(r);var a=[];n&&a.push(n.mimeType),e&&a.push(e.mimeType),a=a[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return e&&e.roles.forEach(function(t){return u.add(t)}),n&&n.roles.forEach(function(t){return u.add(t)}),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:a,codecs:o.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioBandwidth=e.bandwidth||null,t.label=e.label,t.audioRoles=e.roles),t}function Sn(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId}}function Rn(t){return t.__shaka_id||(t.__shaka_id=wn++),t.__shaka_id}var wn=0;function On(t){return{id:Rn(t),active:!1,type:"",bandwidth:0,language:dn(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function An(t){return t.allowedByApplication&&t.allowedByKeySystem}function In(t,e){for(var n=t.filter(function(t){return t.audio&&t.audio.channelsCount}),r=new Map,i=(n=p(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter(function(t){return t<=e})).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))}function Nn(t,e,n){var r=t,i=t.filter(function(t){return t.primary});i.length&&(r=i);var o=r.length?r[0].language:"";if(r=r.filter(function(t){return t.language==o}),e){var a=yn(dn(e),t.map(function(t){return t.language}));a&&(r=t.filter(function(t){return dn(t.language)==a}))}if(n){if((t=Cn(r,n)).length)return t}else if((t=r.filter(function(t){return 0==t.roles.length})).length)return t;return(t=r.map(function(t){return t.roles}).reduce(we.Lb,[])).length?Cn(r,t[0]):r}function Cn(t,e){return t.filter(function(t){return t.roles.includes(e)})}function Pn(t,e,n){for(var r=0;r<n.length;r++)if(n[r].audio==t&&n[r].video==e)return n[r];return null}function Ln(){this.h=null,this.f=!1,this.b=new B,this.c=[],this.i=!1,this.a=this.g=null}function kn(t,e){return t&&(e=e.filter(function(e){return mn(e,t,{width:1/0,height:1/0})})),e.sort(function(t,e){return t.bandwidth-e.bandwidth})}function Dn(t,e){this.a=t,this.b=e}function xn(t,e){var n=new Dn(2,6),r=Fn,i=r.a,o=n.b-i.b;(0<(n.a-i.a||o)?r.c:r.b)(r.a,n,t,e)}function Mn(t,e,n,r){G([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function Un(t,e,n,r){V([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}x("shaka.abr.SimpleAbrManager",Ln),Ln.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Ln.prototype.stop=Ln.prototype.stop,Ln.prototype.init=function(t){this.h=t},Ln.prototype.init=Ln.prototype.init,Ln.prototype.chooseVariant=function(){var t=kn(this.a.restrictions,this.c),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!t.length&&(t=[(t=kn(null,this.c))[0]]);for(var n=t[0]||null,r=0;r<t.length;++r){var i=t[r],o=(t[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=i.bandwidth/this.a.bandwidthDowngradeTarget&&e<=o&&(n=i)}return this.g=Date.now(),n},Ln.prototype.chooseVariant=Ln.prototype.chooseVariant,Ln.prototype.enable=function(){this.f=!0},Ln.prototype.enable=Ln.prototype.enable,Ln.prototype.disable=function(){this.f=!1},Ln.prototype.disable=Ln.prototype.disable,Ln.prototype.segmentDownloaded=function(t,e){var n=this.b;if(!(16e3>e)){var r=8e3*e/t,i=t/1e3;n.a+=e,F(n.b,i,r),F(n.c,i,r)}if(null!=this.g&&this.f)t:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Ln.prototype.segmentDownloaded=Ln.prototype.segmentDownloaded,Ln.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Ln.prototype.getBandwidthEstimate=Ln.prototype.getBandwidthEstimate,Ln.prototype.setVariants=function(t){this.c=t},Ln.prototype.setVariants=Ln.prototype.setVariants,Ln.prototype.configure=function(t){this.a=t},Ln.prototype.configure=Ln.prototype.configure,Dn.prototype.toString=function(){return"v"+this.a+"."+this.b};var Fn=null;function jn(t,e,n,r){this.b=t,this.type=e,this.a=n,this.segments=r||null}function Bn(t,e,n,r){this.id=t,this.name=e,this.a=n,this.value=void 0===r?null:r}function Vn(t,e){this.name=t,this.value=e}function Gn(t,e){var n=t.a.filter(function(t){return t.name==e});return n.length?n[0]:null}function Wn(t,e,n){return(t=Gn(t,e))?t.value:n||null}function Hn(t,e){this.b=e,this.a=t}Bn.prototype.toString=function(){var t="#"+this.name,e=this.a?this.a.map(function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)}):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t};var Kn={Oa:function(t,e){return t.filter(function(t){return t.name==e})},ya:function(t,e){var n=Kn.Oa(t,e);return n.length?n[0]:null},Pb:function(t,e,n){return t.filter(function(t){var r=Gn(t,"TYPE");return t=Gn(t,"GROUP-ID"),r.value==e&&t.value==n})},Mb:function(t,e){return function(t,e){if(0==e.length)return t;var n=e.map(function(t){return new H(t)});return t.map(function(t){return new H(t)}).map(function(t){return n.map(t.resolve.bind(t))}).reduce(we.Lb,[]).map(function(t){return t.toString()})}([t],[e])[0]},Wb:function(t){return/^#(?!EXT)/m.test(t)}};function qn(t){this.b=t,this.a=0}function Yn(t){zn(t,/[ \t]+/gm)}function zn(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,Sd:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.Sd)}function Xn(t){return t.a==t.b.length?null:(t=zn(t,/[^ \t\n]*/gm))?t[0]:null}function Qn(){this.a=0}function Jn(t,e,n){var r=(e=(e=Xt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new st(2,4,4015);e=0;for(var i=1;i<r.length;i++)if(!Kn.Wb(r[i])){var o=Zn(t,r[i]);if(--t.a,tr.includes(o.name)){e=1;break}"EXT-X-STREAM-INF"==o.name&&(i+=1)}for(i=[],o=1;o<r.length;)if(Kn.Wb(r[o]))o+=1;else{var a=Zn(t,r[o]);if(er.includes(a.name)){if(1!=e)throw new st(2,4,4017);return new jn(n,e,i,t=$n(t,n,r=r.splice(o,r.length-o),i))}i.push(a),o+=1,"EXT-X-STREAM-INF"==a.name&&(a.a.push(new Vn("URI",r[o])),o+=1)}return new jn(n,e,i)}function $n(t,e,n,r){var i=[],o=[];return n.forEach(function(n){if(/^(#EXT)/.test(n))n=Zn(t,n),tr.includes(n.name)?r.push(n):o.push(n);else{if(Kn.Wb(n))return[];n=Kn.Mb(e,n.trim()),i.push(new Hn(n,o)),o=[]}}),i}function Zn(t,e){var n=t.a++,r=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new st(2,4,4016,e);var i,o=r[1],a=r[2];if(r=[],a){var s;(s=zn(a=new qn(a),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=zn(a,u);)r.push(new Vn(s[1],s[2]||s[3]))}return new Bn(n,o,r,i)}var tr="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),er="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function nr(t,e,n){this.c=t,this.b=e,this.a=n}function rr(t,e,n,r,i,o){this.position=t,this.startTime=e,this.endTime=n,this.c=r,this.b=i,this.a=o}x("shaka.media.InitSegmentReference",nr),nr.prototype.Nb=function(){return this.c()},nr.prototype.createUris=nr.prototype.Nb,nr.prototype.Tb=function(){return this.b},nr.prototype.getStartByte=nr.prototype.Tb,nr.prototype.Rb=function(){return this.a},nr.prototype.getEndByte=nr.prototype.Rb,x("shaka.media.SegmentReference",rr),rr.prototype.ba=function(){return this.position},rr.prototype.getPosition=rr.prototype.ba,rr.prototype.Ub=function(){return this.startTime},rr.prototype.getStartTime=rr.prototype.Ub,rr.prototype.ed=function(){return this.endTime},rr.prototype.getEndTime=rr.prototype.ed,rr.prototype.Nb=function(){return this.c()},rr.prototype.createUris=rr.prototype.Nb,rr.prototype.Tb=function(){return this.b},rr.prototype.getStartByte=rr.prototype.Tb,rr.prototype.Rb=function(){return this.a},rr.prototype.getEndByte=rr.prototype.Rb;var ir={Wa:{},gb:{},Gc:function(t,e){ir.gb[t]=e}};function or(t,e,n){this.f=t,this.yb=e,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.m=!0,this.i=0,this.s=void 0===n||n}function ar(t){this.a=t}function sr(t){try{var e=sr.parse(t);return pt({uri:t,data:e.data,headers:{"content-type":e.contentType}})}catch(t){return lt(t)}}function ur(t,e){this.C=t,this.b=e==cr,this.a=0}x("shaka.media.ManifestParser.registerParserByExtension",ir.Gc),ir.cc=function(t,e){ir.Wa[t]=e},x("shaka.media.ManifestParser.registerParserByMime",ir.cc),ir.Od=function(){var t={};if(Ht()){for(var e in ir.Wa)t[e]=!0;for(var n in ir.gb)t[n]=!0}e={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=p(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())t[r=r.value]=Ht()?!!ir.Wa[r]:Kt(r);for(var i in e)t[i]=Ht()?!!ir.gb[i]:Kt(e[i]);return t},ir.create=function(t,e,n,r){return d(function i(){var o,a;return P(i,function(i){switch(i.j){case 1:return i.P=2,S(i,ir.fd(t,e,n,r),4);case 4:return o=i.w,i.return(new o);case 2:throw(a=O(i)).severity=2,a}})})},ir.fd=function(t,e,n,r){return d(function i(){var o,a,s,u,c;return P(i,function(i){switch(i.j){case 1:if(o=ir,r&&(a=o.Wa[r.toLowerCase()]))return i.return(a);if((s=o.getExtension(t))&&(u=o.gb[s]))return i.return(u);if(r){i.j=2;break}return S(i,o.nd(t,e,n),3);case 3:if((r=i.w)&&(c=ir.Wa[r]))return i.return(c);case 2:throw new st(2,4,4e3,t)}})})},ir.nd=function(t,e,n){return d(function r(){var i,o,a;return P(r,function(r){switch(r.j){case 1:return(i=At([t],n)).method="HEAD",S(r,e.request(0,i).promise,2);case 2:return o=r.w,a=o.headers["content-type"],r.return(a?a.toLowerCase():"")}})})},ir.getExtension=function(t){return 1==(t=new H(t).U.split("/").pop().split(".")).length?"":t.pop().toLowerCase()},ir.isSupported=function(t,e){return!!Ht()&&(e in ir.Wa||ir.getExtension(t)in ir.gb)},x("shaka.media.PresentationTimeline",or),or.prototype.R=function(){return this.g},or.prototype.getDuration=or.prototype.R,or.prototype.oa=function(t){this.g=t},or.prototype.setDuration=or.prototype.oa,or.prototype.sd=function(){return this.f},or.prototype.getPresentationStartTime=or.prototype.sd,or.prototype.Zd=function(t){this.l=t},or.prototype.setClockOffset=or.prototype.Zd,or.prototype.Cb=function(t){this.m=t},or.prototype.setStatic=or.prototype.Cb,or.prototype.Kc=function(t){this.h=t},or.prototype.setSegmentAvailabilityDuration=or.prototype.Kc,or.prototype.$d=function(t){this.yb=t},or.prototype.setDelay=or.prototype.$d,or.prototype.dd=function(){return this.yb},or.prototype.getDelay=or.prototype.dd,or.prototype.yc=function(t,e){if(0!=t.length){var n=t[t.length-1].endTime+e;this.xc(t[0].startTime+e),this.a=t.reduce(function(t,e){return Math.max(t,e.endTime-e.startTime)},this.a),this.b=Math.max(this.b,n),null!=this.f&&this.s&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a)}},or.prototype.notifySegments=or.prototype.yc,or.prototype.xc=function(t){this.c=null==this.c?t:Math.min(this.c,t)},or.prototype.notifyMinSegmentStartTime=or.prototype.xc,or.prototype.Bd=function(t){this.a=Math.max(this.a,t)},or.prototype.notifyMaxSegmentDuration=or.prototype.Bd,or.prototype.offset=function(t){null!=this.c&&(this.c+=t),null!=this.b&&(this.b+=t)},or.prototype.offset=or.prototype.offset,or.prototype.S=function(){return 1/0==this.g&&!this.m},or.prototype.isLive=or.prototype.S,or.prototype.Sa=function(){return 1/0!=this.g&&!this.m},or.prototype.isInProgress=or.prototype.Sa,or.prototype.tc=function(){return 1/0==this.h?this.i:Math.max(this.i,this.Qa()-this.h)},or.prototype.getSegmentAvailabilityStart=or.prototype.tc,or.prototype.Lc=function(t){this.i=t},or.prototype.setUserSeekStart=or.prototype.Lc,or.prototype.Qa=function(){return this.S()||this.Sa()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},or.prototype.getSegmentAvailabilityEnd=or.prototype.Qa,or.prototype.bb=function(t){var e=Math.max(this.c,this.i);return 1/0==this.h?e:Math.max(e,Math.min(this.Qa()-this.h+t,this.ga()))},or.prototype.getSafeSeekRangeStart=or.prototype.bb,or.prototype.Pa=function(){return this.bb(0)},or.prototype.getSeekRangeStart=or.prototype.Pa,or.prototype.ga=function(){return Math.max(0,this.Qa()-(this.S()||this.Sa()?this.yb:0))},or.prototype.getSeekRangeEnd=or.prototype.ga,or.prototype.re=function(){return null!=this.f&&null==this.b},or.prototype.usingPresentationStartTime=or.prototype.re,x("shaka.media.SegmentIndex",ar),ar.prototype.destroy=function(){return this.a=null,Promise.resolve()},ar.prototype.destroy=ar.prototype.destroy,ar.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},ar.prototype.find=ar.prototype.find,ar.prototype.get=function(t){return 0==this.a.length?null:0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},ar.prototype.get=ar.prototype.get,ar.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},ar.prototype.offset=ar.prototype.offset,ar.prototype.Ad=function(t){for(var e=[],n=0,r=0;n<this.a.length&&r<t.length;){var i=this.a[n],o=t[r];i.startTime<o.startTime?(e.push(i),n++):(i.startTime>o.startTime?0==n&&e.push(o):(.1<Math.abs(i.endTime-o.endTime)?e.push(new rr(i.position,o.startTime,o.endTime,o.c,o.b,o.a)):e.push(i),n++),r++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;r<t.length;)i=new rr(n++,(i=t[r++]).startTime,i.endTime,i.c,i.b,i.a),e.push(i);else e=t;this.a=e},ar.prototype.merge=ar.prototype.Ad,ar.prototype.Zc=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},ar.prototype.evict=ar.prototype.Zc,x("shaka.net.DataUriPlugin",sr),sr.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new st(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new st(2,1,1004,e);var r=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)e=ne(n).buffer;else{if(i)throw new st(2,1,1005,e);e=$t(n)}return{data:e,contentType:r[0]}},Ot("data",sr),x("shaka.util.DataViewReader",ur);var cr=1;function lr(){throw new st(2,3,3e3)}function fr(){this.c=[],this.b=[],this.a=!1}function pr(t){for(;t.reader.rb()&&!t.parser.a;)t.parser.xb(t.start,t.reader,t.partialOkay)}function hr(t){for(var e=t.reader.D();0<e&&!t.parser.a;--e)t.parser.xb(t.start,t.reader,t.partialOkay)}function dr(t){return function(e){t(e.reader.Da(e.reader.C.byteLength-e.reader.ba()))}}function _r(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function yr(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function vr(t,e,n,r){return t=At(t,r),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function mr(){var t=this;this.c=this.g=null,this.N=1,this.B=new Map,this.K=new Set,this.a=new Map,this.b=null,this.u="",this.s=new Qn,this.J=0,this.h=new it(function(){!function(t){d(function e(){var n,r;return P(e,function(e){switch(e.j){case 1:return t.g?(e.P=2,S(e,t.update(),4)):e.return();case 4:n=t.J,t.h.L(n),w(e,0);break;case 2:(r=O(e)).severity=1,t.g.onError(r),t.h.L(.1),R(e)}})})}(t)}),this.f=Fr,this.m=null,this.v=0,this.G=1/0,this.i=new bt,this.H=[],this.l=new Map,this.M=!1}function gr(t,e){return d(function n(){var r,i,o,a,s,u,c,l,f,p;return P(n,function(n){switch(n.j){case 1:return r=Kn,i=jr,o=e.Rc,S(n,Lr(t,o),2);case 2:if(a=n.w,1!=(s=Jn(t.s,a.data,a.uri)).type)throw new st(2,4,4017);return c=(u=r.ya(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,l=e.stream,S(n,Ar(t,e.Db,s,c,l.mimeType,l.codecs),3);case 3:f=n.w,e.hb.a=f,p=f[f.length-1],r.ya(s.a,"EXT-X-ENDLIST")&&(xr(t,i.va),t.b.oa(p.endTime)),R(n)}})})}function Er(t){t.forEach(function(t){var e=t.stream.codecs.split(",");e=e.filter(function(t){return"mp4a.40.34"!=t}),t.stream.codecs=e.join(",")})}function br(t,e,n,r,i){return{id:t.N++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function Tr(t,e,n){return d(function r(){var i,o,a,s,u,c,l,f,p;return P(r,function(r){switch(r.j){case 1:if(i=Cr(e,"URI"),t.a.has(i))return r.return(t.a.get(i));if(o=Cr(e,"TYPE").toLowerCase(),a=Oe,"subtitles"==o&&(o=a.Z),s=dn(Wn(e,"LANGUAGE","und")),u=Wn(e,"NAME"),c=Gn(e,"DEFAULT"),l=Gn(e,"AUTOSELECT"),f=Wn(e,"CHANNELS"),"audio"==o)if(f){var h=f.split("/")[0];h=parseInt(h,10)}else h=null;else h=null;return S(r,Sr(t,i,n,o,s,!!c||!!l,u,h,null),2);case 2:return null==(p=r.w)?r.return(null):t.a.has(i)?r.return(t.a.get(i)):(t.B.set(e.id,p),t.a.set(i,p),r.return(p))}})})}function Sr(t,e,n,r,i,o,a,s,u){return d(function c(){var l,f,h,_,y,v,m,g,E,b,T,R,w,O,A,I,N,C,L,k,D,x,M,U,F;return P(c,function(c){switch(c.j){case 1:return f=(l=Kn).Mb(t.u,e),_="",S(c,Lr(t,f),2);case 2:if(v=c.w,f=v.uri,1!=(h=Jn(t.s,v.data,f)).type)throw new st(2,4,4017);m=[],h.segments.forEach(function(t){t=l.Oa(t.b,"EXT-X-KEY"),m.push.apply(m,t)}),g=!1,E=[],b=null;for(var j=p(m),B=j.next();!B.done;B=j.next())if(T=B.value,"NONE"!=(R=Cr(T,"METHOD"))){if(g=!0,"AES-128"==R)return t.M=!0,c.return(null);w=Cr(T,"KEYFORMAT"),(A=(O=Ur[w])?O(T):null)&&(A.keyIds.length&&(b=A.keyIds[0]),E.push(A))}if(g&&!E.length)throw new st(2,4,4026);return function(t,e){var n=jr,r=Kn.ya(e.a,"EXT-X-PLAYLIST-TYPE"),i=Kn.ya(e.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?xr(t,n.va):(xr(t,r?n.kc:n.Oc),n=Pr(e.a,"EXT-X-TARGETDURATION"),n=Number(n.value),t.v=Math.max(n,t.v),t.G=Math.min(n,t.G))}(t,h),_=function(t,e){if(1==e.length)return e[0];var n=Nr(t,e);if(null!=n)return n;throw new st(2,4,4025,e)}(r,n),S(c,function(t,e,n,r){return d(function i(){var o,a,s,u,c,l,f,p,h,d;return P(i,function(i){switch(i.j){case 1:return o=Oe,a=Rt,s=r.segments[0].a,u=new H(s),c=u.U.split(".").pop(),l=Dr[e],(f=l[c])?i.return(f):e==o.Z?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((p=At([s],t.c.retryParameters)).method="HEAD",S(i,Mr(t,p,a.lc),2));case 2:if(h=i.w,!(d=h.headers["content-type"]))throw new st(2,4,4021,c);return i.return(d.split(";")[0])}})})}(t,r,_,h),3);case 3:return y=c.w,N=(I=l.ya(h.a,"EXT-X-MEDIA-SEQUENCE"))?Number(I.value):0,S(c,Ar(t,e,h,N,y,_),4);case 4:return C=c.w,L=C[0].startTime,k=C[C.length-1].endTime,D=k-L,x=new ar(C),M=Rr(h),U=void 0,"text"==r&&(U="subtitle"),F={id:t.N++,originalId:a,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:x.find.bind(x),getSegmentReference:x.get.bind(x),initSegmentReference:M,presentationTimeOffset:0,mimeType:y,codecs:_,kind:U,encrypted:g,keyId:b,language:i,label:a,type:r,primary:o,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,closedCaptions:u},c.return({stream:F,hb:x,drmInfos:E,Db:e,Rc:f,Yb:L,ye:k,duration:D})}})})}function Rr(t){var e=Kn.Oa(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new st(2,4,4020);var n=Cr(e=e[0],"URI"),r=Kn.Mb(t.b,n);return t=0,n=null,(e=Wn(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new nr(function(){return[r]},t,n)}function wr(t,e,n,r){var i=e.b,o=e.a;e=Pr(i,"EXTINF").value.split(","),e=r+Number(e[0]);var a=0,s=null;return(i=Kn.ya(i,"EXT-X-BYTERANGE"))&&(a=i.value.split("@"),i=Number(a[0]),s=(a=a[1]?Number(a[1]):t.a+1)+i-1),new rr(n,r,e,function(){return[o]},a,s)}function Or(t){t.b&&(t.H.forEach(function(e){t.b.yc(e,0)}),t.H=[])}function Ar(t,e,n,r,i,o){return d(function a(){var s,u,c,l,f,p,h,_,y,v;return P(a,function(a){switch(a.j){case 1:return s=n.segments,u=[],c=s[0].a,l=wr(null,s[0],r,0),f=Rr(n),S(a,function(t,e,n,r,i,o){return d(function a(){var s,u,c,l,f,p,h,d,_;return P(a,function(a){switch(a.j){case 1:if(t.m&&(s=t.a.get(e),u=s.hb,c=u.get(r.position)))return a.return(c.startTime);if("audio/mpeg"==i)return a.return(0);if("video/mp4"!=i&&"audio/mp4"!=i){a.j=2;break}return l=[Ir(t,r)],n&&l.push(Ir(t,n)),S(a,Promise.all(l),3);case 3:return f=a.w,p=f[0],h=f[1]||f[0],a.return(function(t,e){var n=0;if((new fr).A("moov",pr).A("trak",pr).A("mdia",pr).X("mdhd",function(t){t.reader.I(0==t.version?8:16),n=t.reader.D(),t.parser.stop()}).parse(e,!0),!n)throw new st(2,4,4030);var r=0,i=!1;if((new fr).A("moof",pr).A("traf",pr).X("tfdt",function(t){r=(0==t.version?t.reader.D():t.reader.Ab())/n,i=!0,t.parser.stop()}).parse(t,!0),!i)throw new st(2,4,4030);return r}(p.data,h.data));case 2:if("video/mp2t"!=i){a.j=4;break}return S(a,Ir(t,r),5);case 5:return d=a.w,a.return(function(t){function e(){throw new st(2,4,4030)}t=new ur(new DataView(t),0);for(var n=0,r=0;;){if(n=t.ba(),71!=(r=t.da())&&e(),16384&t.zb()||e(),0!=(r=(48&t.da())>>4)&&2!=r||e(),3==r&&(r=t.da(),t.I(r)),1==t.D()>>8)return t.I(3),0!=(n=t.da()>>6)&&1!=n||e(),0==t.da()&&e(),(1073741824*((14&(n=t.da()))>>1)+((65534&(r=t.zb()))<<14|(65534&(t=t.zb()))>>1))/9e4;t.seek(n+188),71!=(r=t.da())&&(t.seek(n+192),r=t.da()),71!=r&&(t.seek(n+204),r=t.da()),71!=r&&e(),t.Jc(1)}}(d.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){a.j=6;break}return S(a,Ir(t,r),7);case 7:return _=a.w,a.return(function(t,e,n){return Qe(t=Vt(t,e))?(Je(e=new ze(null),t),e.Ub(n)):0}(i,o,_.data));case 6:throw new st(2,4,4030)}})})}(t,e,f,l,i,o),2);case 2:p=a.w,c.split("/").pop();for(var m=0;m<s.length;++m)h=s[m],_=u[u.length-1],y=0==m?p:_.endTime,v=wr(_,h,r+m,y),u.push(v);return t.H.push(u),Or(t),a.return(u)}})})}function Ir(t,e){return d(function n(){var r,i,o,a,s,u;return P(n,function(n){switch(n.j){case 1:return r=Rt,i=vr(e.c(),e.b,e.b+2048-1,t.c.retryParameters),o=vr(e.c(),e.b,e.a,t.c.retryParameters),n.P=2,S(n,Mr(t,i,r.lc),4);case 4:return a=n.w,n.return(a);case 2:if(7001==(s=O(n)).code)throw s;return G("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),S(n,Mr(t,o,r.lc),5);case 5:return u=n.w,n.return(u)}})})}function Nr(t,e){for(var n=kr[t],r=0;r<n.length;r++)for(var i=0;i<e.length;i++)if(n[r].test(e[i].trim()))return e[i].trim();return"text"==t?"":null}function Cr(t,e){var n=Gn(t,e);if(!n)throw new st(2,4,4023,e);return n.value}function Pr(t,e){var n=Kn.ya(t,e);if(!n)throw new st(2,4,4024,e);return n}function Lr(t,e){return Mr(t,At([e],t.c.retryParameters),Rt.ve)}ur.Endianness={te:0,ue:cr},ur.prototype.rb=function(){return this.a<this.C.byteLength},ur.prototype.hasMoreData=ur.prototype.rb,ur.prototype.ba=function(){return this.a},ur.prototype.getPosition=ur.prototype.ba,ur.prototype.gd=function(){return this.C.byteLength},ur.prototype.getLength=ur.prototype.gd,ur.prototype.da=function(){try{var t=this.C.getUint8(this.a);return this.a+=1,t}catch(t){lr()}},ur.prototype.readUint8=ur.prototype.da,ur.prototype.zb=function(){try{var t=this.C.getUint16(this.a,this.b);return this.a+=2,t}catch(t){lr()}},ur.prototype.readUint16=ur.prototype.zb,ur.prototype.D=function(){try{var t=this.C.getUint32(this.a,this.b);return this.a+=4,t}catch(t){lr()}},ur.prototype.readUint32=ur.prototype.D,ur.prototype.Fc=function(){try{var t=this.C.getInt32(this.a,this.b);return this.a+=4,t}catch(t){lr()}},ur.prototype.readInt32=ur.prototype.Fc,ur.prototype.Ab=function(){try{if(this.b)var t=this.C.getUint32(this.a,!0),e=this.C.getUint32(this.a+4,!0);else e=this.C.getUint32(this.a,!1),t=this.C.getUint32(this.a+4,!1)}catch(t){lr()}if(2097151<e)throw new st(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},ur.prototype.readUint64=ur.prototype.Ab,ur.prototype.Da=function(t){this.a+t>this.C.byteLength&&lr();var e=new Uint8Array(this.C.buffer,this.C.byteOffset+this.a,t);return this.a+=t,new Uint8Array(e)},ur.prototype.readBytes=ur.prototype.Da,ur.prototype.I=function(t){this.a+t>this.C.byteLength&&lr(),this.a+=t},ur.prototype.skip=ur.prototype.I,ur.prototype.Jc=function(t){this.a<t&&lr(),this.a-=t},ur.prototype.rewind=ur.prototype.Jc,ur.prototype.seek=function(t){(0>t||t>this.C.byteLength)&&lr(),this.a=t},ur.prototype.seek=ur.prototype.seek,ur.prototype.ac=function(){for(var t=this.a;this.rb()&&0!=this.C.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.C.buffer,this.C.byteOffset+t,this.a-t),this.a+=1,Xt(t)},ur.prototype.readTerminatedString=ur.prototype.ac,x("shaka.util.Mp4Parser",fr),fr.prototype.A=function(t,e){var n=_r(t);return this.c[n]=0,this.b[n]=e,this},fr.prototype.box=fr.prototype.A,fr.prototype.X=function(t,e){var n=_r(t);return this.c[n]=1,this.b[n]=e,this},fr.prototype.fullBox=fr.prototype.X,fr.prototype.stop=function(){this.a=!0},fr.prototype.stop=fr.prototype.stop,fr.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new ur(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.rb()&&!this.a;)this.xb(0,n,e)},fr.prototype.parse=fr.prototype.parse,fr.prototype.xb=function(t,e,n){var r=e.ba(),i=e.D(),o=e.D();switch(i){case 0:i=e.C.byteLength-r;break;case 1:i=e.Ab()}var a=this.b[o];if(a){var s=null,u=null;1==this.c[o]&&(s=(u=e.D())>>>24,u&=16777215),o=r+i,n&&o>e.C.byteLength&&(o=e.C.byteLength),o-=e.ba(),e=0<o?e.Da(o):new Uint8Array(0),a({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e=new ur(new DataView(e.buffer,e.byteOffset,e.byteLength),0),size:i,start:r+t})}else e.I(Math.min(r+i-e.ba(),e.C.byteLength-e.ba()))},fr.prototype.parseNext=fr.prototype.xb,fr.children=pr,fr.sampleDescription=hr,fr.allData=dr,fr.typeToString=yr,x("shaka.hls.HlsParser",mr),(n=mr.prototype).configure=function(t){this.c=t},n.start=function(t,e){var n=this;return d(function r(){var i,o;return P(r,function(r){switch(r.j){case 1:return n.g=e,S(r,Lr(n,t),2);case 2:return i=r.w,n.u=i.uri,S(r,function(t,e){return d(function n(){var r,i,o,a,s,u,c,l,f,h,_;return P(n,function(n){switch(n.j){case 1:if(0!=(r=Jn(t.s,e,t.u)).type)throw new st(2,4,4022);return S(n,function(t,e){return d(function n(){var r,i,o,a,s,u,c,l,f,h,_,y;return P(n,function(n){switch(n.j){case 1:return r=Kn,i=we,o=e.a,a=r.Oa(e.a,"EXT-X-MEDIA"),s=a.filter(function(t){return"SUBTITLES"==Cr(t,"TYPE")}.bind(t)),u=s.map(function(t){return function(t,e){return d(function n(){var r;return P(n,function(n){switch(n.j){case 1:return Cr(e,"TYPE"),S(n,Tr(t,e,[]),2);case 2:return r=n.w,n.return(r.stream)}})})}(this,t)}.bind(t)),c=a.filter(function(t){return"CLOSED-CAPTIONS"==Cr(t,"TYPE")}),function(t,e){for(var n=p(c),r=n.next();!r.done;r=n.next()){Cr(r=r.value,"TYPE");var i=Wn(r,"LANGUAGE")||"und";i=dn(i);var o=Cr(r,"GROUP-ID");r=Cr(r,"INSTREAM-ID"),t.l.get(o)||t.l.set(o,new Map),t.l.get(o).set(r,i)}}(t),S(n,Promise.all(u),2);case 2:return l=n.w,f=r.Oa(o,"EXT-X-STREAM-INF"),h=f.map(function(t){return function(t,e,n){return d(function r(){var i,o,a,s,u,c,l,f,h,_,y,v,m,g,E,b,T,R,w,O,A,I,N,C,L,k;return P(r,function(r){switch(r.j){case 1:return i=Oe,o=Kn,a=Wn(e,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(t){for(var e=new Set,n=[],r=(t=p(t)).next();!r.done;r=t.next()){var i=Gt(r=r.value)[0];e.has(i)||(n.push(r),e.add(i))}return n}(a.split(/\s*,\s*/)),u=Gn(e,"RESOLUTION"),l=c=null,f=Wn(e,"FRAME-RATE"),h=Number(Cr(e,"BANDWIDTH")),u&&(_=u.value.split("x"),c=_[0],l=_[1]),y=(y=(y=o.Oa(n.a,"EXT-X-MEDIA")).filter(function(t){return"CLOSED-CAPTIONS"!=Cr(t,"TYPE")})).filter(function(t){var e=Wn(t,"URI")||"";return"SUBTITLES"==(Wn(t,"TYPE")||"")||""!=e}),v=Wn(e,"AUDIO"),m=Wn(e,"VIDEO"),v?y=o.Pb(y,"AUDIO",v):m&&(y=o.Pb(y,"VIDEO",m)),(g=Nr(i.Z,s))&&((E=Wn(e,"SUBTITLES"))&&(b=o.Pb(y,"SUBTITLES",E)).length&&(t.B.get(b[0].id).stream.codecs=g),Et(s,g)),T=y.map(function(t){return Tr(this,t,s)}.bind(t)),R=[],w=[],S(r,Promise.all(T),2);case 2:if(A=(A=r.w).filter(function(t){return null!=t}),v?R=A:m&&(w=A),N=!1,R.length||w.length?R.length?(L=Cr(e,"URI"),k=R[0].Db,L==k?(I=i.Za,N=!0):I=i.ua):I=i.Za:1==s.length?(C=Nr(i.ua,s),I=u||f||C?i.ua:i.Za):(I=i.ua,s=[s.join(",")]),N){r.j=3;break}return S(r,function(t,e,n,r){return d(function i(){var o,a,s,u,c;return P(i,function(i){switch(i.j){case 1:return o=Oe,a=Cr(e,"URI"),t.a.has(a)?i.return(t.a.get(a)):(s=Wn(e,"CLOSED-CAPTIONS"),u=null,r==o.ua&&s&&"NONE"!=s&&(u=t.l.get(s)),S(i,Sr(t,a,n,r,"und",!1,null,null,u),2));case 2:return null==(c=i.w)?i.return(null):t.a.has(a)?i.return(t.a.get(a)):(t.a.set(a,c),i.return(c))}})})}(t,e,s,I),4);case 4:O=r.w;case 3:if(O)O.stream.type==i.Za?R=[O]:w=[O];else if(null===O)return r.return([]);return w&&Er(w),R&&Er(R),r.return(function(t,e,n,r,i,o,a){n.forEach(function(t){(t=t.stream)&&(t.width=Number(i)||void 0,t.height=Number(o)||void 0,t.frameRate=Number(a)||void 0)}.bind(t)),e.length||(e=[null]),n.length||(n=[null]);for(var s=[],u=(e=p(e)).next();!u.done;u=e.next()){u=u.value;for(var c=p(n),l=c.next();!l.done;l=c.next()){var f=l.value;l=u?u.stream:null;var h=f?f.stream:null,d=u?u.drmInfos:null,_=f?f.drmInfos:null;f=(f?f.Db:"")+" - "+(u?u.Db:"");var y=void 0;if(l&&h){if(d.length&&_.length&&!(0<he(d,_).length))continue;y=he(d,_)}else l?y=d:h&&(y=_);t.K.has(f)||(l=br(t,l,h,r,y),s.push(l),t.K.add(f))}}return s}(t,R,w,h,c,l,f))}})})}(this,t,e)}.bind(t)),S(n,Promise.all(h),3);case 3:return _=n.w,y=(y=_.reduce(i.Lb,[])).filter(function(t){return null!=t}),n.return({startTime:0,variants:y,textStreams:l})}})})}(t,r),2);case 2:if(i=n.w,!t.g)throw new st(2,7,7001);if(t.M&&0==i.variants.length)throw new st(2,4,4034);t.g.filterAllPeriods([i]),o=1/0,a=0,s=1/0;for(var y=p(t.a.values()),v=y.next();!v.done;v=y.next())u=v.value,o=Math.min(o,u.Yb),a=Math.max(a,u.Yb),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(t.f!=jr.va?(t.b=new or(0,3*t.v),t.b.Cb(!1)):(t.b=new or(null,0),t.b.Cb(!0)),Or(t),t.f!=jr.va){for(t.J=t.G,c=jr,t.f==c.kc&&(l=t.b.yb,isNaN(t.c.availabilityWindowOverride)||(l=t.c.availabilityWindowOverride),t.b.Kc(l)),f=0;95443.7176888889<=a;)f+=95443.7176888889,a-=95443.7176888889;if(f)for(v=(y=p(t.a.values())).next();!v.done;v=y.next())95443.7176888889>(h=v.value).Yb&&(h.stream.presentationTimeOffset=-f,h.hb.offset(f))}else for(t.b.oa(s),t.b.offset(-o),v=(y=p(t.a.values())).next();!v.done;v=y.next()){(_=v.value).stream.presentationTimeOffset=o,_.hb.offset(-o),v=_.hb;for(var m=s;v.a.length&&v.a[v.a.length-1].startTime>=m;)v.a.pop();for(;v.a.length&&0>=v.a[0].endTime;)v.a.shift();if(0!=v.a.length){var g=v.a[v.a.length-1];v.a[v.a.length-1]=new rr(g.position,g.startTime,m,g.c,g.b,g.a)}}t.m={presentationTimeline:t.b,periods:[i],offlineSessionIds:[],minBufferTime:0},R(n)}})})}(n,i.data),3);case 3:return 0<(o=n.J)&&n.h.L(o),r.return(n.m)}})})},n.stop=function(){this.h&&(this.h.stop(),this.h=null);var t=[];return this.i&&(t.push(this.i.destroy()),this.i=null),this.c=this.g=null,this.B.clear(),this.K.clear(),this.a.clear(),this.m=null,Promise.all(t)},n.update=function(){if(this.f!=jr.va){for(var t=[],e=p(this.a.values()),n=e.next();!n.done;n=e.next())t.push(gr(this,n.value));return Promise.all(t)}},n.onExpirationUpdated=function(){};var kr={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Dr={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function xr(t,e){t.f=e,t.b&&t.b.Cb(t.f==jr.va),t.f!=jr.va||t.h.stop()}function Mr(t,e,n){if(!t.i)throw new st(2,7,7001);return e=t.g.networkingEngine.request(n,e),Tt(t.i,e),e.promise}var Ur={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=Cr(t,"METHOD");return xn("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227"),["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].includes(e)?(e=Cr(t,"URI"),e=sr.parse(e),e={keySystem:"com.widevine.alpha",licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[{initDataType:"cenc",initData:new Uint8Array(e.data)}],keyIds:[]},(t=Wn(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e):null}},Fr="VOD",jr={va:Fr,Oc:"EVENT",kc:"LIVE"};function Br(){this.a=new Map}function Vr(t,e,n){Gr(t,e).text=n}function Gr(t,e){return t.a.has(e)||t.a.set(e,new Wr),t.a.get(e)}function Wr(){this.text=this.variant=null}function Hr(t,e){this.a=t,this.b=new Set([t]);for(var n=p(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function Kr(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!(n.channelsCount==r.channelsCount&&qr(n,r)&&Yr(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(qr(n=t.video,r=e.video)&&Yr(n.roles,r.roles))),!n}function qr(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map(function(t){return Gt(t)[0]}),r=e.codecs.split(",").map(function(t){return Gt(t)[0]});if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function Yr(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=p(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function zr(t){this.a=t,this.b=new Xr(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0)}function Xr(t,e,n){this.c=t,this.b=e,this.a=n}function Qr(t,e){this.a=$r,this.b=(new Map).set($r,e).set(Jr,t)}ir.Gc("m3u8",mr),ir.cc("application/x-mpegurl",mr),ir.cc("application/vnd.apple.mpegurl",mr),Hr.prototype.add=function(t){return!!Kr(this.a,t)&&(this.b.add(t),!0)},Hr.prototype.values=function(){return this.b.values()},zr.prototype.create=function(t){var e=this,n=t.filter(function(t){return Kr(e.a,t)});return n.length?new Hr(n[0],n):this.b.create(t)},Xr.prototype.create=function(t){var e=[];e=function(t,e){var n=yn(dn(e),t.map(function(t){return _n(t)}));return n?t.filter(function(t){return n==_n(t)}):[]}(t,this.c);var n=t.filter(function(t){return t.primary});for(e=e.length?e:n.length?n:t,this.b&&(t=function(t,e){return t.filter(function(t){var n=t.audio;return t=t.video,n&&0<=n.roles.indexOf(e)||t&&0<=t.roles.indexOf(e)})}(e,this.b)).length&&(e=t),this.a&&(t=In(e,this.a)).length&&(e=t),t=new Hr(e[0]),n=(e=p(e)).next();!n.done;n=e.next())n=n.value,Kr(t.a,n)&&t.add(n);return t};var Jr=0,$r=1;function Zr(t,e){this.g=t,this.h=ei(t),this.c=t.a.currentTime,this.f=Date.now()/1e3,this.i=e,this.b=function(){}}function ti(t){this.a=t}function ei(t){if(t.a.paused||0==t.a.playbackRate||null==t.a.buffered)var e=!1;else t:{e=t.a.buffered,t=t.a.currentTime;for(var n=0;n<e.length;n++){var r=e.start(n),i=e.end(n);if(!(t<r||t>i-.5)){e=!0;break t}}e=!1}return e}function ni(t,e,n,r,i){var o=this;this.b=t,this.v=e,this.u=n,this.m=i,this.g=new kt,this.l=!1,this.s=t.readyState,this.f=!1,this.c=r,this.i=!1,Dt(this.g,t,"waiting",function(){return ri(o)}),this.h=new it(function(){ri(o)}).qa(.25)}function ri(t){if(0!=t.b.readyState){if(t.b.seeking){if(!t.l)return}else t.l=!1;if(!t.b.paused){t.b.readyState!=t.s&&(t.f=!1,t.s=t.b.readyState);var e=t.u.smallGapLimit,n=t.b.currentTime,r=t.b.buffered;t:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=qt("Edge/")||qt("Trident/")||qt("Tizen")||qt("CrKey")?.5:.1,o=0;o<r.length;o++)if(r.start(o)>n&&(0==o||r.end(o-1)-n<=i)){i=o;break t}i=null}if(null==i)t.c&&(r=ei(n=(t=t.c).g),n=n.a.currentTime,i=Date.now()/1e3,t.c==n&&t.h==r||(t.f=i,t.c=n,t.h=r),(n=i-t.f)>=t.i&&r&&t.b(t.c,n));else if((0!=i||t.i)&&!((o=r.start(i))>=t.v.ga())){var a=o-n;e=a<=e;var s=!1;.001>a||(e||t.f||(t.f=!0,(n=new yt("largegap",{currentTime:n,gapSize:a})).cancelable=!0,t.m(n),t.u.jumpLargeGaps&&!n.defaultPrevented&&(s=!0)),!e&&!s)||(0!=i&&r.end(i-1),t.b.currentTime=o)}}}}function ii(t){var e=this;this.f=t,this.b=new Set,this.c=new it(function(){oi(e,!1)}).qa(.25)}function oi(t,e){for(var n=p(t.b),r=n.next();!r.done;r=n.next())r.value.h(t.f.currentTime,e)}function ai(t,e){for(var n=null,r=p(t),i=r.next();!i.done;i=r.next())e>=(i=i.value).startTime&&(n=i);return n}function si(t){this.f=t,this.b=null,this.c=function(){}}function ui(t){var e=this;this.b=t,this.g=!1,this.f=this.b.qb(),this.c=new it(function(){e.b.wc(.25*e.f)})}function ci(t){t.c.stop();var e=t.g?0:t.f;0<=e?t.b.qb()!=e&&t.b.gc(e):(t.c.qa(.25),0!=t.b.qb()&&t.b.gc(0))}function li(t,e,n){this.b=t,this.g=e,this.h=n,this.c=new kt,this.f=new _i(t),0<t.readyState?hi(this,n):pi(this,n)}function fi(t){return 0<t.b.readyState?t.b.currentTime:t.h}function pi(t,e){t.h=e,t.c.Y(t.b,"loadedmetadata"),xt(t.c,t.b,"loadedmetadata",function(){hi(t,e)})}function hi(t,e){.001>Math.abs(t.b.currentTime-e)?di(t):(xt(t.c,t.b,"seeking",function(){di(t)}),yi(t.f,0==t.b.currentTime?e:t.b.currentTime))}function di(t){Dt(t.c,t.b,"seeking",function(){return t.g()})}function _i(t){var e=this;this.c=t,this.i=10,this.h=this.g=this.f=0,this.b=new it(function(){0>=e.f?e.b.stop():e.c.currentTime!=e.g?e.b.stop():(e.c.currentTime=e.h,e.f--)})}function yi(t,e){t.g=t.c.currentTime,t.h=e,t.f=t.i,t.c.currentTime=e,t.b.qa(.1)}function vi(t){function e(){n.g=!0,null!=n.c&&(n.b.currentTime=n.c)}var n=this;this.b=t,this.g=!1,this.c=null,this.f=new kt,0==this.b.readyState?xt(this.f,this.b,"loadedmetadata",e):e()}function mi(t,e,n,r,i,o){var a=this;this.c=t,this.b=e.presentationTimeline,this.B=e.minBufferTime||0,this.h=n,this.v=i,this.m=null,this.g=new ni(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new Zr(new ti(t),e.stallThreshold);return function(t,e){r.b=e}(0,function(){t.currentTime+=n}),r}(t,n),o),this.f=new li(t,function(){var t=a.g;t.l=!0,t.i=!1,t.f=!1;var e=fi(a.f);return t=Ei(a,e),.001<Math.abs(t-e)&&(e=(new Date).getTime()/1e3,!a.m||a.m<e-1)?(a.m=e,0<(e=a.f).b.readyState?yi(e.f,t):pi(e,t),t=void 0):(a.v(),t=void 0),t},function(t,e){return null==e?e=1/0>t.b.R()?t.b.Pa():t.b.ga():0>e&&(e=t.b.ga()+e),gi(t,bi(t,e))}(this,r)),this.l=new it(function(){if(0!=a.c.readyState&&!a.c.paused){var t=a.c.currentTime,e=a.b.Pa(),n=a.b.ga();3>n-e&&(e=n-3),t<e&&(t=Ei(a,t),a.c.currentTime=t)}}).qa(.25)}function gi(t,e){var n=t.b.R();return e>=n?n-t.h.durationBackoff:e}function Ei(t,e){var n=Te.bind(null,t.c.buffered),r=Math.max(t.B,t.h.rebufferingGoal),i=t.h.safeSeekOffset,o=t.b.Pa(),a=t.b.ga(),s=t.b.R();3>a-o&&(o=a-3);var u=t.b.bb(r),c=t.b.bb(i);return r=t.b.bb(r+i),e>=s?gi(t,e):e>a?a:e<o?n(c)?c:r:e>=u||n(e)?e:r}function bi(t,e){var n=t.b.Pa();return e<n?n:e>(n=t.b.ga())?n:e}function Ti(){this.c=function(){},this.b=new Set}function Si(t){var e=this;this.i=t,this.g=new Map,this.b=function(){},this.c=function(){},this.f=function(){},this.l=[{Ga:null,Fa:wi,Ba:function(t,n){return e.b(t,n)}},{Ga:Ri,Fa:wi,Ba:function(t,n){return e.b(t,n)}},{Ga:Oi,Fa:wi,Ba:function(t,n){return e.b(t,n)}},{Ga:wi,Fa:Ri,Ba:function(t,n){return e.c(t,n)}},{Ga:wi,Fa:Oi,Ba:function(t,n){return e.c(t,n)}},{Ga:Ri,Fa:Oi,Ba:function(t,n){return e.f(t,n)}},{Ga:Oi,Fa:Ri,Ba:function(t,n){return e.f(t,n)}}]}Zr.prototype.a=function(){this.g=null,this.b=function(){}},ni.prototype.a=function(){this.g&&(this.g.a(),this.g=null),null!=this.h&&(this.h.stop(),this.h=null),this.c&&(this.c.a(),this.c=null),this.b=this.v=this.m=null},ni.prototype.$b=function(){this.i=!0,ri(this)},ii.prototype.a=function(){this.c.stop();for(var t=p(this.b),e=t.next();!e.done;e=t.next())e.value.a();this.b.clear()},si.prototype.a=function(){this.b=this.f=null,this.c=function(){}},si.prototype.h=function(t){var e=this.b,n=this.f.periods;e!=(t=ai(n,t)||n[0])&&this.c(t),this.b=t},ui.prototype.a=function(){this.c&&(this.c.stop(),this.c=null),this.b=null},ui.prototype.set=function(t){this.f=t,ci(this)},li.prototype.a=function(){this.c&&(this.c.a(),this.c=null),null!=this.f&&(this.f.a(),this.f=null),this.g=function(){},this.b=null},_i.prototype.a=function(){this.b&&(this.b.stop(),this.b=null),this.c=null},vi.prototype.a=function(){this.f&&(this.f.a(),this.f=null),this.b=null},vi.prototype.s=function(t){this.c=this.g?this.c:t},vi.prototype.i=function(){return(this.g?this.b.currentTime:this.c)||0},vi.prototype.u=function(){},mi.prototype.a=function(){this.f&&(this.f.a(),this.f=null),this.g&&(this.g.a(),this.g=null),this.l&&(this.l.stop(),this.l=null),this.c=this.f=this.b=this.h=null,this.v=function(){}},mi.prototype.s=function(t){var e=this.f;0<e.b.readyState?yi(e.f,t):pi(e,t)},mi.prototype.i=function(){var t=fi(this.f);return 0<this.c.readyState&&!this.c.paused?bi(this,t):t},mi.prototype.u=function(){this.g.$b()},Ti.prototype.a=function(){this.c=function(){},this.b.clear()},Si.prototype.a=function(){this.i=null,this.g.clear(),this.b=function(){},this.c=function(){},this.f=function(){}},Si.prototype.h=function(t,e){for(var n=p(this.i.b),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=t<r.startTime?Ri:t>r.endTime?Oi:wi;this.g.set(r,o);for(var a=p(this.l),s=a.next();!s.done;s=a.next())(s=s.value).Ga==i&&s.Fa==o&&s.Ba(r,e)}};var Ri=1,wi=2,Oi=3;function Ai(t,e){this.a=e,this.c=t,this.g=null,this.l=1,this.u=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.s=!1,this.G=null,this.B=this.f=this.m=!1,this.v=0}function Ii(t){return Ci(t,"audio")}function Ni(t){return Ci(t,"video")}function Ci(t,e){var n=t.b.get(e);return n?n.na||n.stream:null}function Pi(t,e){return d(function n(){var r,i,o,a,s,u,c,l;return P(n,function(n){switch(n.j){case 1:return r=Oe,S(n,un(t.a.F,r.Z),2);case 2:return t.v++,t.B=!1,i=t.v,o=t.a.F,a=new Map,s=new Set,a.set(r.Z,e),s.add(e),S(n,o.init(a,!1),3);case 3:return t.f?n.return():S(n,ji(t,s),4);case 4:if(t.f)return n.return();t.v!=i||t.b.has(r.Z)||t.B||(u=t.a.za(),c=Hi(t,u),l=Ui(e,c,0),t.b.set(r.Z,l),zi(t,l,0)),R(n)}})})}function Li(t,e){var n=t.b.get("video");if(n){var r=n.stream;if(r)if(e){var i=r.trickModeVideo;i&&!n.na&&(Di(t,i,!1,0),n.na=r)}else(r=n.na)&&(n.na=null,Di(t,r,!0,0))}}function ki(t,e,n,r){e.video&&Di(t,e.video,n,r),e.audio&&Di(t,e.audio,n,r)}function Di(t,e,n,r){var i=t.b.get(e.type);if(!i&&"text"==e.type&&t.g.ignoreTextStreamFailures)Pi(t,e);else if(i){var o=Ki(t,e);if(n&&o!=i.ia)t.b.forEach(function(e){xi(t,e)});else{i.na&&(e.trickModeVideo?(i.na=e,e=e.trickModeVideo):i.na=null);var a=t.h[o];a&&a.Ya&&(a=t.i.get(e.id))&&a.Ya&&i.stream!=e&&("text"==e.type&&nn(t.a.F,Vt(e.mimeType,e.codecs)),i.stream=e,i.tb=!0,function(t,e,n){if(!e.fb)return!1;var r=t.a.za();return null!=(t=(t=Vi(t,e,r,on(t.a.F,e.type),n))&&t.a?t.a-t.b:null)&&((n=e.stream.initSegmentReference)&&(t+=(n.a?n.a-n.b:null)||0),e.fb.b.a>t)}(t,i,o)&&i.fb.abort(),n&&(i.wa?i.Eb=!0:i.ma?(i.sa=!0,i.ob=r,i.Eb=!0):(Xi(i),Yi(t,i,!0,r))))}}}function xi(t,e){e.wa||e.sa||(e.ma?(e.sa=!0,e.ob=0):null==rn(t.a.F,e.type)?null==e.ka&&zi(t,e,0):(Xi(e),Yi(t,e,!1,0)))}function Mi(t,e,n,r,i){return d(function o(){var a,s,u,c,l,f,p;return P(o,function(o){switch(o.j){case 1:return a=t.a.za(),s=Hi(t,a),u=Oe,c=new Map,l=new Set,e&&(c.set(u.Za,e),l.add(e)),n&&(c.set(u.ua,n),l.add(n)),r&&(c.set(u.Z,r),l.add(r)),f=t.a.F,p=t.g.forceTransmuxTS,S(o,f.init(c,p),2);case 2:return t.f?o.return():(function(t){var e=t.c.presentationTimeline.R();1/0>e?t.a.F.oa(e):t.a.F.oa(Math.pow(2,32))}(t),S(o,ji(t,l),3));case 3:if(t.f)return o.return();c.forEach(function(e,n){if(!t.b.has(n)){var r=Ui(e,s,i);t.b.set(n,r),zi(t,r,0)}}),R(o)}})})}function Ui(t,e,n){return{stream:t,type:t.type,Ta:null,ha:null,na:null,tb:!0,ia:e,endOfStream:!1,ma:!1,ka:null,sa:!1,ob:0,Eb:!1,wa:!1,bc:!1,cb:!1,Ic:n||0,fb:null}}function Fi(t,e){var n=t.h[e];if(n)return n.promise;n={promise:new ut,Ya:!1},t.h[e]=n;for(var r=new Set,i=p(t.c.periods[e].variants),o=i.next();!o.done;o=i.next())(o=o.value).video&&r.add(o.video),o.video&&o.video.trickModeVideo&&r.add(o.video.trickModeVideo),o.audio&&r.add(o.audio);for(o=(i=p(t.c.periods[e].textStreams)).next();!o.done;o=i.next())r.add(o.value);return t.u=t.u.then(function(){if(!this.f)return ji(this,r)}.bind(t)).then(function(){this.f||(this.h[e].promise.resolve(),this.h[e].Ya=!0)}.bind(t)).catch(function(t){this.f||(this.h[e].promise.catch(function(){}),this.h[e].promise.reject(),delete this.h[e],this.a.onError(t))}.bind(t)),n.promise}function ji(t,e){return d(function n(){var r,i,o,a,s,u,c;return P(n,function(n){switch(n.j){case 1:r=[];for(var l=p(e),f=l.next();!f.done;f=l.next())i=f.value,(o=t.i.get(i.id))?r.push(o.promise):(t.i.set(i.id,{promise:new ut,Ya:!1}),r.push(i.createSegmentIndex()));return n.P=2,S(n,Promise.all(r),4);case 4:if(t.f)return n.return();w(n,3);break;case 2:if(a=O(n),t.f)return n.return();for(f=(n=p(e)).next();!f.done;f=n.next())s=f.value,t.i.get(s.id).promise.catch(function(){}),t.i.get(s.id).promise.reject(),t.i.delete(s.id);throw a;case 3:for(f=(l=p(e)).next();!f.done;f=l.next())u=f.value,(c=t.i.get(u.id)).Ya||(c.promise.resolve(),c.Ya=!0);R(n)}})})}function Bi(t,e,n){return e.Ta&&e.ha?(n=Ki(t,e.Ta),t.c.periods[n].startTime+e.ha.endTime):Math.max(n,e.Ic)}function Vi(t,e,n,r,i){if(e.ha&&e.stream==e.Ta)return Gi(t,e,i,e.ha.position+1);if(e.ha?(n=Ki(t,e.Ta),n=e.stream.findSegmentPosition(Math.max(0,t.c.periods[n].startTime+e.ha.endTime-t.c.periods[i].startTime))):n=e.stream.findSegmentPosition(Math.max(0,(r||n)-t.c.periods[i].startTime)),null==n)return null;var o=null;return null==r&&(o=Gi(t,e,i,Math.max(0,n-1))),o||Gi(t,e,i,n)}function Gi(t,e,n,r){return n=t.c.periods[n],(e=e.stream.getSegmentReference(r))?(r=(t=t.c.presentationTimeline).Qa(),n.startTime+e.endTime<t.tc()||n.startTime+e.startTime>r?null:e):null}function Wi(t){return!t.ma&&null==t.ka&&!t.sa&&!t.wa}function Hi(t,e){var n=ai(t.c.periods,e+Ae);return n?t.c.periods.indexOf(n):0}function Ki(t,e){for(var n=t.c.periods,r=0;r<n.length;r++){for(var i=n[r],o=new Set,a=p(i.variants),s=a.next();!s.done;s=a.next())(s=s.value).audio&&o.add(s.audio),s.video&&o.add(s.video),s.video&&s.video.trickModeVideo&&o.add(s.video.trickModeVideo);for(a=(i=p(i.textStreams)).next();!a.done;a=i.next())o.add(a.value);if(o.has(e))return r}return-1}function qi(t,e,n){return n=vr(n.c(),n.b,n.a,t.g.retryParameters),t=t.a.ub.request(1,n),e.fb=t,t.promise.then(function(t){return e.fb=null,t.data})}function Yi(t,e,n,r){d(function i(){var o,a,s;return P(i,function(i){switch(i.j){case 1:return e.sa=!1,e.Eb=!1,e.ob=0,e.wa=!0,r?(a=t.a.za(),s=t.a.F.R(),o=t.a.F.remove(e.type,a+r,s)):o=un(t.a.F,e.type).then(function(){if(!this.f&&n)return this.a.F.flush(e.type)}.bind(t)),S(i,o,2);case 2:if(t.f)return i.return();e.Ta=null,e.ha=null,e.wa=!1,e.endOfStream=!1,zi(t,e,0),R(i)}})})}function zi(t,e,n){e.ka=new rt(function(){!function(t,e){if(!t.f&&!e.ma&&null!=e.ka&&!e.wa)if(e.ka=null,e.sa)Yi(t,e,e.Eb,e.ob);else{try{var n=function(t,e){function n(t){return"text"==t.type&&"application/cea-608"==t.stream.mimeType}if(n(e))return t.a.F.Bb(e.stream.originalId||""),null;var r=t.a.za(),i=Bi(t,e,r),o=Ki(t,e.stream),a=Hi(t,i),s=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):Se(t=an(t,e),n)}(t.a.F,e.type,r),u=Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal,t.g.bufferingGoal)*t.l;if(i>=t.c.presentationTimeline.R())return e.endOfStream=!0,"video"==e.type&&(i=t.b.get("text"))&&"application/cea-608"==i.stream.mimeType&&(i.endOfStream=!0),null;if(e.endOfStream=!1,e.ia=a,a!=o)return null;if(s>=u)return.5;if(a=on(t.a.F,e.type),!(a=Vi(t,e,r,a,o)))return 1;var c=1/0;return Array.from(t.b.values()).forEach(function(e){n(e)||(e=Bi(t,e,r),c=Math.min(c,e))}),i>=c+t.c.presentationTimeline.a?1:(e.Ic=0,function(t,e,n,r,i){var o=t.c.periods[r],a=e.stream,s=t.c.presentationTimeline.R(),u=t.c.periods[r+1];r=function(t,e,n,r,i){return e.tb?(n=function(t,e,n,r,i){return"text"==e?(t.a.m=n,(t=t.a).f=r,t.h=i,Promise.resolve()):Promise.all([cn(t,e,t.Qc.bind(t,e)),cn(t,e,t.ce.bind(t,e,n)),cn(t,e,t.Yd.bind(t,e,r,i))])}(t.a.F,e.type,t.c.periods[n].startTime-e.stream.presentationTimeOffset,r,i),e.stream.initSegmentReference?(t=qi(t,e,e.stream.initSegmentReference).then(function(t){if(!this.f)return sn(this.a.F,e.type,t,null,null,e.stream.closedCaptions&&0<e.stream.closedCaptions.size)}.bind(t)).catch(function(t){return e.tb=!0,Promise.reject(t)}),Promise.all([n,t])):n):Promise.resolve()}(t,e,r,Math.max(0,o.startTime-.1),u?u.startTime+.01:s),e.ma=!0,e.tb=!1,s=qi(t,e,i),Promise.all([r,s]).then(function(t){if(!this.f&&!this.m)return function(t,e,n,r,i,o,a){var s=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new fr).X("emsg",t.H.bind(t,r,o,i.emsgSchemeIdUris)).parse(a),function(t,e,n){var r=Math.max(t.g.bufferBehind,t.c.presentationTimeline.a),i=rn(t.a.F,e.type);return null==i?Promise.resolve():0>=(n=n-i-r)?Promise.resolve():t.a.F.remove(e.type,i,i+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return sn(this.a.F,e.type,a,o.startTime+r.startTime,o.endTime+r.startTime,s)}.bind(t)).then(function(){if(!this.f)return e.Ta=i,e.ha=o,Promise.resolve()}.bind(t))}(this,e,n,o,a,i,t[1])}.bind(t)).then(function(){this.f||this.m||(e.ma=!1,e.bc=!1,e.sa||this.a.$b(),zi(this,e,0),function(t,e){if(!t.s){var n=Array.from(t.b.values());if(1==n.length&&"text"==n[0].type||(t.s=n.every(function(t){return"text"==t.type||!t.sa&&!t.wa&&t.ha})),t.s){for(n=Ki(t,e),t.h[n]||Fi(t,n).then(function(){this.f||this.a.Ac()}.bind(t)).catch(we.eb),n=0;n<t.c.periods.length;++n)Fi(t,n).catch(we.eb);t.a.Ld&&t.a.Ld()}}}(this,a))}.bind(t)).catch(function(t){this.f||this.m||(e.ma=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?this.b.delete("text"):7001==t.code?(e.ma=!1,e.ka=null,zi(this,e,0)):3017==t.code?function(t,e,n){if(!Array.from(t.b.values()).some(function(t){return t!=e&&t.bc})){var r=Math.round(100*t.l);if(20<r)t.l-=.2;else{if(!(4<r))return e.cb=!0,t.m=!0,void t.a.onError(n);t.l-=.04}e.bc=!0}zi(t,e,4)}(this,e,t):(e.cb=!0,t.severity=2,Qi(this,t)))}.bind(t))}(t,e,r,o,a),null)}(t,e);null!=n&&(zi(t,e,n),e.cb=!1)}catch(e){return void Qi(t,e)}n=Array.from(t.b.values()),function(t,e){var n=Ki(t,e.stream);if(e.ia!=n){var r=e.ia,i=Array.from(t.b.values());i.every(function(t){return t.ia==r})&&i.every(Wi)&&Fi(t,r).then(function(){if(!this.f&&i.every(function(t){var e=Wi(t),n=Ki(this,t.stream);return e&&t.ia==r&&n!=r}.bind(this))){var t=this.c.periods[r],e=this.a.Bc(t),n=new Map;e.variant&&e.variant.video&&n.set("video",e.variant.video),e.variant&&e.variant.audio&&n.set("audio",e.variant.audio),e.text&&n.set("text",e.text);var o=p(this.b.keys());for(e=o.next();!e.done;e=o.next())if(e=e.value,!n.has(e)&&"text"!=e)return void this.a.onError(new st(2,5,5005));for(e=(o=p(Array.from(n.keys()))).next();!e.done;e=o.next())if(e=e.value,!this.b.has(e)){if("text"!=e)return void this.a.onError(new st(2,5,5005));Mi(this,null,null,n.get("text"),t.startTime),n.delete(e)}for(e=(t=p(Array.from(this.b.keys()))).next();!e.done;e=t.next())e=e.value,(o=n.get(e))?(Di(this,o,!1,0),zi(this,this.b.get(e),0)):this.b.delete(e);this.a.Ac()}}.bind(t)).catch(we.eb)}}(t,e),t.s&&n.every(function(t){return t.endOfStream})&&t.a.F.endOfStream().then(function(){if(!this.f){var t=this.a.F.R();t<this.c.presentationTimeline.R()&&this.c.presentationTimeline.oa(t)}}.bind(t))}}(t,e)}).L(n)}function Xi(t){null!=t.ka&&(t.ka.stop(),t.ka=null)}function Qi(t,e){at(t.G).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function Ji(t,e,n,r,i,o){if(200<=n&&299>=n&&202!=n)return i&&(r=i),{uri:r,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=Jt(e)}catch(t){}throw new st(401==n||403==n?2:1,1,1001,r,n,i,t,o)}function $i(t,e,n,r){var i=new $i.b;jt(e.headers).forEach(function(t,e){i.append(e,t)});var o=new $i.a,a={mc:!1,Nc:!1};if(t=new ct(t=$i.h(t,n,{body:e.body||void 0,headers:i,method:e.method,signal:o.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},a,r),function(){return a.mc=!0,o.abort(),Promise.resolve()}),e=e.retryParameters.timeout){var s=new it(function(){a.Nc=!0,o.abort()});s.L(e/1e3),t.finally(function(){s.stop()})}return t}function Zi(t,e,n,r){var i=new Zi.f,o=Date.now(),a=0;return new ct(new Promise(function(s,u){for(var c in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){u(new st(1,1,7001,t,n))},i.onload=function(e){for(var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n"),i={},o=(r=p(r)).next();!o.done;o=r.next())i[(o=o.value.split(": "))[0].toLowerCase()]=o.slice(1).join(": ");try{var a=Ji(i,e.response,e.status,t,e.responseURL,n);s(a)}catch(t){u(t)}},i.onerror=function(e){u(new st(1,1,1002,t,e,n))},i.ontimeout=function(){u(new st(1,1,1003,t,n))},i.onprogress=function(t){var e=Date.now();(100<e-o||t.lengthComputable&&t.loaded==t.total)&&(r(e-o,t.loaded-a,t.total-t.loaded),a=t.loaded,o=e)},e.headers)i.setRequestHeader(c.toLowerCase(),e.headers[c]);i.send(e.body)}),function(){return i.abort(),Promise.resolve()})}function to(t,e){var n=this;this.g=e,this.c=t,this.i={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},this.h=null,this.f=[],this.b=this.a=null,this.l=!0,this.m=Promise.resolve().then(function(){return function(t){return d(function e(){return P(e,function(e){switch(e.j){case 1:if(t.l){if(0==t.f.length||t.a&&!t.a.Aa)var n=!1;else{t.a&&(t.a.ca.Ca(),t.a=null);var r=(n=t.f.shift()).create(t.i);r?(n.ca.Ua(),t.a={node:r.node,payload:r.payload,Aa:r.Aa,ca:n.ca}):n.ca.wb(),n=!0}return n?n=Promise.resolve():t.a?n=function(t){return d(function e(){var n,r;return P(e,function(e){switch(e.j){case 1:return t.c=t.g.pd(t.c,t.i,t.a.node,t.a.payload),e.P=2,t.b=t.g.Yc(t.c,t.i,t.a.payload),S(e,t.b.promise,4);case 4:t.b=null,t.c==t.a.node&&(t.a.ca.vb(),t.a=null),w(e,0);break;case 2:return 7001==(n=O(e)).code?t.a.ca.Ca():t.a.ca.onError(n),t.a=null,t.b=null,r=t,S(e,t.g.handleError(t.i,n),5);case 5:r.c=e.w,R(e)}})})}(t):(t.g.Dd(t.c),t.h=new ut,n=t.h),S(e,n,1)}e.j=0}})})}(n)})}function eo(t,e){var n={Ua:function(){},vb:function(){},Ca:function(){},onError:function(){},wb:function(){},Ae:function(){}};return t.f.push({create:e,ca:n}),t.b&&t.b.abort(),no(t),n}function no(t){t.h&&(t.h.resolve(),t.h=null)}function ro(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function io(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,e.size=t.size;try{e.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function oo(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=t.cues,i=r.length-1;0<=i;i--){var o=r[i];o&&e(o)&&t.removeCue(o)}t.mode=n}function ao(t,e,n,i,o){var a,s=o in i,u=!0;for(a in e){var c=o+"."+a,l=s?i[o]:n[a];s||a in n?void 0===e[a]?void 0===l||s?delete t[a]:t[a]=gt(l):l.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=gt(l)),c=ao(t[a],e[a],l,i,c),u=u&&c):(0,r.default)(e[a])!=(0,r.default)(l)||null==e[a]||e[a].constructor!=l.constructor?u=!1:t[a]=e[a]:u=!1}return u}function so(){var t=5e5,e=1/0;navigator.connection&&navigator.connection.type&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(e=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0}},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1};qt("Web0S")&&(r.stallEnabled=!1);var i={trackSelectionCallback:function(t){return t},progressCallback:function(){},usePersistentLicense:!0},o={drm:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:n,streaming:r,offline:i,abrFactory:Ln,abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return i.trackSelectionCallback=function(t){return function(t,e){var n=t.filter(function(t){return"variant"==t.type}),r=[],i=yn(e,n.map(function(t){return t.language}));i&&(r=n.filter(function(t){return dn(t.language)==i})),0==r.length&&(r=n.filter(function(t){return t.primary})),0==r.length&&(n.map(function(t){return t.language}),r=n);var o=r.filter(function(t){return t.height&&480>=t.height});if(o.length&&(o.sort(function(t,e){return e.height-t.height}),r=o.filter(function(t){return t.height==o[0].height})),n=[],r.length){var a=Math.floor(r.length/2);r.sort(function(t,e){return t.bandwidth-e.bandwidth}),n.push(r[a])}for(a=(r=p(t)).next();!a.done;a=r.next())"text"==(a=a.value).type&&n.push(a);return n}(t,o.preferredAudioLanguage)},o}function uo(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return ao(t,e,n||so(),r,"")}function co(){this.a=null,this.b=[]}function lo(t,e){if(null==t.a)t.a={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.a.duration=n-t.a.timestamp,t.a.state!=e&&(t.b.push(t.a),t.a={timestamp:n,state:e,duration:0})}}function fo(t,e){var n=0;t.a&&t.a.state==e&&(n+=t.a.duration);for(var r=p(t.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function po(){this.b=this.c=null,this.a=[]}function ho(t,e,n){t.b!=e&&(t.b=e,t.a.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null}))}function _o(){this.f=this.l=this.c=this.h=this.i=this.g=this.m=NaN,this.a=new co,this.b=new po}function yo(e,n){var r=this;mt.call(this),this.g=$o,this.a=null,this.Ia=!1,this.i=new kt,this.Gb=this.l=this.Ha=this.b=this.m=this.f=this.mb=this.M=this.ib=this.J=this.Ka=this.s=this.G=this.h=this.H=null,this.sc=1e9,this.kb=new Set,this.Ma=!0,this.W=null,this.oc=!1,this.nc=0,this.V=null,this.B=new Br,this.c=Ro(this),this.lb={width:1/0,height:1/0},this.u=null,this.jb=new Xr(this.c.preferredAudioLanguage,this.c.preferredVariantRole,this.c.preferredAudioChannelCount),this.ta=this.c.preferredTextLanguage,this.$a=this.c.preferredTextRole,n&&n(this),this.H=function(t){return new St(function(e,n){t.l&&t.l.segmentDownloaded(e,n)})}(this),Dt(this.i,t,"online",function(){r.ec()}),this.v={name:"detach"},this.K={name:"attach"},this.la={name:"unload"},this.Jb={name:"manifest-parser"},this.Ib={name:"manifest"},this.Ja={name:"media-source"},this.Hb={name:"drm-engine"},this.N={name:"load"},this.Kb={name:"src-equals-drm-engine"},this.La={name:"src-equals"};var i=new Map;i.set(this.K,function(t,e){return ht(function(t,e,n){return null==e.o&&(e.o=n.o,Dt(t.i,e.o,"error",function(){var e=jo(t);e&&t.pa(e)})),t.a=e.o,Promise.resolve()}(r,t,e))}),i.set(this.v,function(t){return t.o&&(r.i.Y(t.o,"error"),t.o=null),r.a=null,ht(t=Promise.resolve())}),i.set(this.la,function(t){return ht(Eo(r,t))}),i.set(this.Ja,function(e){return ht(e=function(e,n){return d(function r(){var i,o,a,s;return P(r,function(r){switch(r.j){case 1:return i=t.muxjs?new ge:new Ee,o=e.c.textDisplayFactory,a=new o,S(r,(s=new Ze(n.o,i,a)).s,2);case 2:e.G=s,R(r)}})})}(r,e))}),i.set(this.Jb,function(t,e){return ht(function(t,e,n){return d(function r(){var i,o,a;return P(r,function(r){switch(r.j){case 1:if(e.fa=n.fa,e.mimeType=n.mimeType,e.uri=n.uri,i=e.uri,o=t.H,t.Ha=i,e.fa){t.m=e.fa(),r.j=2;break}return a=t,S(r,ir.create(i,o,t.c.manifest.retryParameters,e.mimeType),3);case 3:a.m=r.w;case 2:t.m.configure(t.c.manifest),R(r)}})})}(r,t,e))}),i.set(this.Ib,function(t){return function(t,e){var n=e.uri,r=t.H;t.mb=new Ti,function(t,e){t.c=e}(t.mb,function(e){Fo(t,"timelineregionadded",e)});var i={networkingEngine:r,filterNewPeriod:function(e){return t.Ob(e)},filterAllPeriods:function(e){return wo(t,e)},onTimelineRegionAdded:function(e){var n=t.mb;t:{for(var r=p(n.b),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.b.add(e),n.c(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return t.pa(e)}};return new ct(Promise.resolve().then(function(){return d(function e(){var r;return P(e,function(e){switch(e.j){case 1:return r=t,S(e,t.m.start(n,i),2);case 2:if(r.b=e.w,t.dispatchEvent(new yt("manifestparsed")),0==t.b.periods.length)throw new st(2,4,4014);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.some(function(t){return t.variants.some(e)})&&t.forEach(function(t){t.variants=t.variants.filter(e)})}(t.b.periods),R(e)}})})}),function(){return t.m.stop()})}(r,t)}),i.set(this.Hb,function(){return ht(function(t){return d(function e(){return P(e,function(e){switch(e.j){case 1:return t.h=new se({ub:t.H,onError:function(e){t.pa(e)},Cc:function(e){Bo(t,e)},onExpirationUpdated:function(e,n){Vo(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.h.configure(t.c.drm),S(e,ue(t.h,function(t){for(var e=[],n=(t=p(t)).next();!n.done;n=t.next())for(var r=(n=p(n.value.variants)).next();!r.done;r=n.next())e.push(r.value);return e}(t.b.periods),t.b.offlineSessionIds),2);case 2:wo(t,t.b.periods),R(e)}})})}(r))}),i.set(this.N,function(t,e){return ht(function(t,e,n){return d(function r(){var i,o,a,s,u,c,l,f,h;return P(r,function(r){switch(r.j){case 1:return e.startTime=n.startTime,i=e.o,o=e.uri,t.Ha=o,t.u=new _o,a=function(){return No(t)},s=function(){var e=t.a.playbackRate;0!=e&&t.J.set(e)},Dt(t.i,i,"playing",a),Dt(t.i,i,"pause",a),Dt(t.i,i,"ended",a),Dt(t.i,i,"ratechange",s),u=t.c.abrFactory,t.l&&t.Gb==u||(t.Gb=u,t.l=new u,t.l.configure(t.c.abr)),function(t,e){for(var n=0;n<e.length;n++){for(var r=e[n],i=new Map,o=p(r.variants),a=o.next();!a.done;a=o.next())if((a=a.value).video&&a.video.closedCaptions)for(var s=p((a=a.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var c={id:t.sc++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:a.closedCaptions.get(u),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:a.roles,channelsCount:null,closedCaptions:null};i.set(u,c)}for(o=(i=p(i.values())).next();!o.done;o=i.next())r.textStreams.push(o.value)}}(t,t.b.periods),t.jb=new Xr(t.c.preferredAudioLanguage,t.c.preferredVariantRole,t.c.preferredAudioChannelCount),t.ta=t.c.preferredTextLanguage,function(t,e,n){0<e&&(t.S()||t.Lc(e)),n<t.R()&&(t.S()||t.oa(n))}(t.b.presentationTimeline,t.c.playRangeStart,t.c.playRangeEnd),S(r,t.h.ab(i),2);case 2:return t.l.init(function(e,n,r){n=void 0!==n&&n,r=void 0===r?0:r;t:{for(var i=p(t.b.periods),o=i.next();!o.done;o=i.next())if((o=o.value).variants.includes(e)){i=o;break t}i=null}So(t,i,e,!0),t.f&&(ki(t.f,e,n,r),Lo(t))}),t.s=function(t,e){return new mi(t.a,t.b,t.c.streaming,e,function(){t.Ka&&oi(t.Ka,!0),t.f&&function(t){function e(e){var i=t.a.F;return e="text"==e?null!=(e=i.a).a&&null!=e.b&&n>=e.a&&n<e.b:Te(e=an(i,e),n,r)}var n=t.a.za(),r=t.g.smallGapLimit,i=Hi(t,n);if(Ft(t.b.values(),function(t){return t.ia==i}))for(var o=p(t.b.keys()),a=o.next();!a.done;a=o.next())e(a=a.value)||xi(t,t.b.get(a));else Ft(t.b.keys(),e)||t.b.forEach(function(e){xi(t,e)})}(t.f)},function(e){return t.dispatchEvent(e)})}(t,e.startTime),t.Ka=function(t){var e=new si(t.b);!function(t,e){t.c=e}(e,function(){ko(t)});var n=new Si(t.mb);!function(t,e,n,r){t.b=e,t.c=n,t.f=r}(n,function(e){Fo(t,"timelineregionenter",e)},function(e){Fo(t,"timelineregionexit",e)},function(e,n){n||(Fo(t,"timelineregionenter",e),Fo(t,"timelineregionexit",e))});var r=new ii(t.a);return r.b.add(e),r.b.add(n),r}(t),t.J=new ui({qb:function(){return e.o.playbackRate},gc:function(t){e.o.playbackRate=t},wc:function(t){e.o.currentTime+=t}}),c=Math.max(t.b.minBufferTime,t.c.streaming.rebufferingGoal),bo(t,c),t.f=function(t){return new Ai(t.b,{za:function(){return t.s.i()},F:t.G,ub:t.H,Bc:t.Cd.bind(t),Ac:t.Uc.bind(t),onError:t.pa.bind(t),onEvent:function(e){return t.dispatchEvent(e)},Fd:t.Gd.bind(t),$b:t.Kd.bind(t)})}(t),t.f.configure(t.c.streaming),function(t){function e(t){var e="";t.video&&(e=Gt(t.video.codecs)[0]);var n="";return t.audio&&(n=Gt(t.audio.codecs)[0]),e+"-"+n}var n=t.b.periods.reduce(function(t,e){return t.concat(e.variants)},[]);n=In(n,t.c.preferredAudioChannelCount);var r=new vt;n.forEach(function(t){var n=e(t);r.push(n,t)});var i=null,o=1/0;r.forEach(function(t,e){var n=0,r=0;e.forEach(function(t){n+=t.bandwidth||0,++r});var a=n/r;a<o&&(i=t,o=a)}),t.b.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return e(t)==i})})}(t),t.g=Zo,t.dispatchEvent(new yt("streaming")),S(r,t.f.start(),3);case 3:t.c.streaming.startAtSegmentBoundary&&(l=t.s.i(),f=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-o.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+o.startTime:null}var r=Ii(t.f),i=Ni(t.f),o=qo(t);return r=n(r,e),null!=(i=n(i,e))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:e}(t,l),t.s.s(f)),t.b.periods.forEach(t.Ob.bind(t)),ko(t),Lo(t),(h=qo(t)).variants.some(function(t){return t.primary}),Co(t,h.variants),xt(t.i,i,"loadeddata",function(){t.u.c=Date.now()/1e3-n.ic}),R(r)}})})}(r,t,e))}),i.set(this.Kb,function(t){return ht(t=function(t,e){return d(function n(){var r,i;return P(n,function(n){switch(n.j){case 1:return r=Oe,t.h=new se({ub:t.H,onError:function(e){t.pa(e)},Cc:function(e){Bo(t,e)},onExpirationUpdated:function(e,n){Vo(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.h.configure(t.c.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.ua,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},S(n,ue(t.h,[i],[]),2);case 2:return S(n,t.h.ab(e.o),0)}})})}(r,t))}),i.set(this.La,function(t,e){return function(t,e,n){function r(){return No(t)}if(e.uri=n.uri,e.startTime=n.startTime,t.Ha=e.uri,t.u=new _o,t.s=new vi(e.o),null!=e.startTime&&t.s.s(e.startTime),t.J=new ui({qb:function(){return e.o.playbackRate},gc:function(t){e.o.playbackRate=t},wc:function(t){e.o.currentTime+=t}}),bo(t,t.c.streaming.rebufferingGoal),Dt(t.i,e.o,"playing",r),Dt(t.i,e.o,"pause",r),Dt(t.i,e.o,"ended",r),xt(t.i,e.o,"loadeddata",function(){t.u.c=Date.now()/1e3-n.ic}),t.a.audioTracks&&(Dt(t.i,t.a.audioTracks,"addtrack",function(){return ko(t)}),Dt(t.i,t.a.audioTracks,"removetrack",function(){return ko(t)})),t.a.textTracks){var i=t.a.textTracks;Dt(t.i,i,"addtrack",function(){return ko(t)}),Dt(t.i,i,"removetrack",function(){return ko(t)})}e.o.src=e.uri,t.g=ta,t.dispatchEvent(new yt("streaming"));var o=new ut;return t.a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?o.resolve():t.a.error?o.reject(jo(t)):(xt(t.i,t.a,"loadeddata",function(){o.resolve()}),xt(t.i,t.a,"error",function(){o.reject(jo(t))})),new ct(o,function(){return o.reject(new st(2,7,7001)),Promise.resolve()})}(r,t,e)}),this.Na=new to(this.v,{pd:function(t,e,n,i){var o=null;return t==r.v&&(o=n==r.v?r.v:r.K),t==r.K&&(o=n==r.v||e.o!=i.o?r.v:n==r.K?r.K:n==r.Ja||n==r.N?r.Ja:n==r.La?r.Kb:null),t==r.Ja&&(o=n==r.N&&e.o==i.o?r.Jb:r.la),t==r.Jb&&(o=Xo(r.N,r.Ib,r.la,n,e,i)),t==r.Ib&&(o=Xo(r.N,r.Hb,r.la,n,e,i)),t==r.Hb&&(o=Xo(r.N,r.N,r.la,n,e,i)),t==r.Kb&&(o=n==r.La&&e.o==i.o?r.La:r.la),t!=r.N&&t!=r.La||(o=r.la),t==r.la&&(o=i.o&&e.o==i.o?r.K:r.v),o},Yc:function(t,e,n){return r.dispatchEvent(new yt("onstatechange",{state:t.name})),i.get(t)(e,n)},handleError:function(t){return d(function e(){return P(e,function(e){switch(e.j){case 1:return S(e,Eo(r,t),2);case 2:return e.return(t.o?r.K:r.v)}})})},Dd:function(t){r.dispatchEvent(new yt("onstateidle",{state:t.name}))}}),e&&this.ab(e,!0)}Ai.prototype.destroy=function(){for(var t=p(this.b.values()),e=t.next();!e.done;e=t.next())Xi(e.value);return this.b.clear(),this.i.clear(),this.g=this.h=this.u=this.c=this.a=null,this.f=!0,Promise.resolve()},Ai.prototype.configure=function(t){this.g=t,this.G=new ot({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},Ai.prototype.start=function(){var t=this;return d(function e(){var n,r,i;return P(e,function(e){switch(e.j){case 1:return n=t.a.za(),r=Hi(t,n),(i=t.a.Bc(t.c.periods[r])).variant||i.text?S(e,Mi(t,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):e.return(new st(2,5,5005));case 2:if(t.f)return e.return();t.a&&t.a.Ed&&t.a.Ed(),R(e)}})})},Ai.prototype.H=function(t,e,n,r){var i=r.reader.ac(),o=r.reader.ac(),a=r.reader.D(),s=r.reader.D(),u=r.reader.D(),c=r.reader.D();r=r.reader.Da(r.reader.C.byteLength-r.reader.ba()),t=t.startTime+e.startTime+s/a,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.Fd():this.a.onEvent(new yt("emsg",{detail:{startTime:t,endTime:t+u/a,schemeIdUri:i,value:o,timescale:a,presentationTimeDelta:s,eventDuration:u,id:c,messageData:r}})))},x("shaka.net.HttpFetchPlugin",$i),$i.h=function(t,e,n,r,i){return d(function o(){var a,s,u,c,l,f,p,h,_,y,v,m;return P(o,function(o){switch(o.j){case 1:return a=$i.g,s=$i.c,f=l=0,p=Date.now(),o.P=2,S(o,a(t,n),4);case 4:return u=o.w,h=u.clone().body.getReader(),y=(_=u.headers.get("Content-Length"))?parseInt(_,10):0,new s({start:function(t){!function e(){return d(function n(){var r,o;return P(n,function(n){switch(n.j){case 1:return n.P=2,S(n,h.read(),4);case 4:r=n.w,w(n,3);break;case 2:return O(n),n.return();case 3:r.done||(l+=r.value.byteLength),(100<(o=Date.now())-p||r.done)&&(i(o-p,l-f,y-l),f=l,p=o),r.done?t.close():(t.enqueue(r.value),e()),R(n)}})})}()}}),S(o,u.arrayBuffer(),5);case 5:c=o.w,w(o,3);break;case 2:if(v=O(o),r.mc)throw new st(1,1,7001,t,e);if(r.Nc)throw new st(1,1,1003,t,e);throw new st(1,1,1002,t,v,e);case 3:return m={},u.headers.forEach(function(t,e){m[e.trim()]=t}),o.return(Ji(m,c,u.status,t,u.url,e))}})})},$i.isSupported=function(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!(!t.fetch||!t.AbortController)},$i.isSupported=$i.isSupported,$i.g=t.fetch,$i.a=t.AbortController,$i.c=t.ReadableStream,$i.b=t.Headers,$i.isSupported()&&(Ot("http",$i,2),Ot("https",$i,2)),x("shaka.net.HttpXHRPlugin",Zi),Zi.f=t.XMLHttpRequest,Ot("http",Zi,1),Ot("https",Zi,1),to.prototype.destroy=function(){var t=this;return d(function e(){return P(e,function(e){switch(e.j){case 1:return t.l=!1,t.b&&t.b.abort(),no(t),S(e,t.m,2);case 2:t.a&&t.a.ca.Ca();for(var n=p(t.f),r=n.next();!r.done;r=n.next())r.value.ca.Ca();t.a=null,t.f=[],t.g=null,R(e)}})})},x("shaka.text.SimpleTextDisplayer",ro),ro.prototype.remove=function(t,e){return!!this.a&&(oo(this.a,function(n){return n.startTime<e&&n.endTime>t}),!0)},ro.prototype.remove=ro.prototype.remove,ro.prototype.append=function(t){for(var e=io,n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}n.slice().sort(function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:n.indexOf(e)-n.indexOf(t)}).forEach(function(t){this.a.addCue(t)}.bind(this))},ro.prototype.append=ro.prototype.append,ro.prototype.destroy=function(){return this.a&&oo(this.a,function(){return!0}),this.a=null,Promise.resolve()},ro.prototype.destroy=ro.prototype.destroy,ro.prototype.isTextVisible=function(){return"showing"==this.a.mode},ro.prototype.isTextVisible=ro.prototype.isTextVisible,ro.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},ro.prototype.setTextVisibility=ro.prototype.setTextVisibility,x("shaka.util.ConfigUtils.mergeConfigObjects",ao),M(yo,mt),x("shaka.Player",yo),yo.prototype.destroy=function(){var t=this;return d(function e(){var n;return P(e,function(e){switch(e.j){case 1:return t.g==Jo?e.return():(t.g=Jo,n=eo(t.Na,function(){return{node:t.v,payload:{fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},Aa:!1}}),S(e,new Promise(function(t){n.Ua=function(){},n.vb=function(){t()},n.Ca=function(){t()},n.onError=function(){t()},n.wb=function(){t()}}),2));case 2:return S(e,t.Na.destroy(),3);case 3:if(t.i&&(t.i.a(),t.i=null),t.Gb=null,t.l=null,t.c=null,!t.H){e.j=0;break}return S(e,t.H.destroy(),5);case 5:t.H=null,R(e)}})})},yo.prototype.destroy=yo.prototype.destroy,yo.version="2.5.0-npm-dirty";var vo=["","5"];Fn=new function(t){this.a=t,this.c=Mn,this.b=Un}(new Dn(Number(vo[0]),Number(vo[1])));var mo=["output-restricted","internal-error"],go={};function Eo(t,e){return d(function n(){return P(n,function(n){switch(n.j){case 1:if(t.g!=Jo&&(t.g=$o),t.dispatchEvent(new yt("unloading")),e.currentTime=null,e.fa=null,e.mimeType=null,e.startTime=null,e.uri=null,e.o&&(t.i.Y(e.o,"loadeddata"),t.i.Y(e.o,"playing"),t.i.Y(e.o,"pause"),t.i.Y(e.o,"ended"),t.i.Y(e.o,"ratechange")),t.Ka&&(t.Ka.a(),t.Ka=null),t.ib&&(t.ib.stop(),t.ib=null),!t.m){n.j=2;break}return S(n,t.m.stop(),3);case 3:t.m=null;case 2:if(!t.l){n.j=4;break}return S(n,t.l.stop(),4);case 4:if(!t.f){n.j=6;break}return S(n,t.f.destroy(),7);case 7:t.f=null;case 6:if(t.s&&(t.s.a(),t.s=null),!t.G){n.j=8;break}return S(n,t.G.destroy(),9);case 9:t.G=null;case 8:if(e.o&&e.o.src&&(e.o.removeAttribute("src"),e.o.load()),!t.h){n.j=10;break}return S(n,t.h.destroy(),11);case 11:t.h=null;case 10:t.B.a.clear(),t.Ha=null,t.M=null,t.kb.clear(),t.b=null,t.u=null,t.Ma=!0,Io(t),R(n)}})})}function bo(t,e){t.M=new Qr(e,Math.min(.5,e/2)),t.M.a=Jr,Io(t),t.ib=new it(function(){switch(t.g){case ta:var e=!!t.a.ended||be(t.a.buffered)>=t.a.duration-.1;break;case Zo:t:{var n;if((n=t.a.ended)||(n=!(n=t.G).g||"ended"==n.g.readyState),n)e=!0;else{if(t.b.presentationTimeline.S()&&(n=t.b.presentationTimeline.Qa(),be(t.a.buffered)>=n)){e=!0;break t}e=!1}}break;default:e=!1}var r=Se(t.a.buffered,t.a.currentTime),i=e,o=(n=t.M).b.get(n.a);e=n.a,r=i||r>=o?$r:Jr,n.a=r,e!=r&&Io(t)}).qa(.25)}function To(t){if(t.m&&t.m.configure(t.c.manifest),t.h&&t.h.configure(t.c.drm),t.f){t.f.configure(t.c.streaming);try{t.b.periods.forEach(t.Ob.bind(t))}catch(e){t.pa(e)}var e=Ii(t.f),n=Ni(t.f),r=qo(t);e=Pn(e,n,r.variants),t.l&&e&&e.allowedByApplication&&e.allowedByKeySystem?Co(t,r.variants):Po(t,r)}t.l&&(t.l.configure(t.c.abr),t.c.abr.enabled&&!t.Ma?t.l.enable():t.l.disable(),Uo(t))}function So(t,e,n,r){Gr(t.B,e).variant=n,(t=t.u.b).c!=n&&(t.c=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function Ro(t){var e=so();return e.streaming.failureCallback=function(e){t.S()&&[1001,1002,1003].includes(e.code)&&(e.severity=1,t.ec())},e.textDisplayFactory=function(){return new ro(t.a)},e}function wo(t,e){var n=t.f?Ii(t.f):null,r=t.f?Ni(t.f):null;if(e.forEach(En.bind(null,t.h,n,r)),0==(n=function(t,e){var n=0;return t.forEach(function(t){n+=function(t){return t.variants.some(An)}(t)?1:0}),n}(e)))throw new st(2,4,4032);if(n<e.length)throw new st(2,4,4011);e.forEach(function(t){gn(t.variants,this.c.restrictions,this.lb)&&this.f&&qo(this)==t&&ko(this),Go(this,t.variants)}.bind(t))}function Oo(t,e,n,r){n=void 0!==n&&n,r=void 0===r?0:r,t.Ma?(t.W=e,t.oc=n,t.nc=r):(ki(t.f,e,n,r),Do(t))}function Ao(t,e){t.Ma?t.V=e:(Di(t.f,e,!0,0),xo(t))}function Io(t){var e=t.vc();if(t.u&&t.M&&t.s){var n=t.J;n.g=e,ci(n),No(t)}t.dispatchEvent(new yt("buffering",{buffering:e}))}function No(t){if(t.u&&t.M){var e=t.u.a;t.M.a==Jr?lo(e,"buffering"):t.a.paused?lo(e,"paused"):t.a.ended?lo(e,"ended"):lo(e,"playing")}}function Co(t,e){try{Go(t,e)}catch(e){return t.pa(e),null}var n=e.filter(function(t){return An(t)});return n=t.jb.create(n),t.l.setVariants(Array.from(n.values())),t.l.chooseVariant()}function Po(t,e){var n=Co(t,e.variants);n&&(So(t,e,n,!0),Oo(t,n,!0)),(n=Nn(e.textStreams,t.ta,t.$a)[0]||null)&&(t.c.streaming.alwaysStreamText||t.Xb())&&(Vr(t.B,e,n),ho(t.u.b,n,!0),Ao(t,n)),Lo(t)}function Lo(t){Wo(t,new yt("adaptation"))}function ko(t){Wo(t,new yt("trackschanged"))}function Do(t){Wo(t,new yt("variantchanged"))}function xo(t){Wo(t,new yt("textchanged"))}function Mo(t){Wo(t,new yt("texttrackvisibility"))}function Uo(t){Wo(t,new yt("abrstatuschanged",{ze:t.c.abr.enabled}))}function Fo(t,e,n){t.dispatchEvent(new yt(e,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function jo(t){if(!t.a.error)return null;var e=t.a.error.code;if(1==e)return null;var n=t.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new st(2,3,3016,e,n,t.a.error.message)}function Bo(t,e){if(t.f){var n=qo(t),r=!1,i=Object.keys(e),o=1==i.length&&"00"==i[0];i.length&&n.variants.forEach(function(t){(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e})(t).forEach(function(n){var i=t.allowedByKeySystem;n.keyId&&(n=e[o?"00":n.keyId],t.allowedByKeySystem=!!n&&!mo.includes(n)),i!=t.allowedByKeySystem&&(r=!0)})}),(i=Pn(i=Ii(t.f),Ni(t.f),n.variants))&&!i.allowedByKeySystem&&Po(t,n),r&&(ko(t),Co(t,n.variants))}}function Vo(t,e,n){t.m&&t.m.onExpirationUpdated&&t.m.onExpirationUpdated(e,n),t.dispatchEvent(new yt("expirationupdated"))}function Go(t,e){var n=t.h?Bt(t.h.K):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,o=!1,a=[],s=[],u=p(e),c=u.next();!c.done;c=u.next()){var l=[];(c=c.value).audio&&l.push(c.audio),c.video&&l.push(c.video);for(var f=(l=p(l)).next();!f.done;f=l.next())if((f=f.value).keyId){var h=n[r?"00":f.keyId];h?mo.includes(h)&&(s.includes(h)||s.push(h)):a.includes(f.keyId)||a.push(f.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):o=!0}if(!i)throw new st(2,4,4012,{hasAppRestrictions:o,missingKeys:a,restrictedKeyStatuses:s})}function Wo(t,e){d(function n(){return P(n,function(n){switch(n.j){case 1:return S(n,Promise.resolve(),2);case 2:t.g!=Jo&&t.dispatchEvent(e),R(n)}})})}function Ho(t){for(var e=new Set,n=(t=p(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(dn(n.language)):e.add("und");return e}function Ko(t){for(var e=new Map,n=(t=p(t)).next();!n.done;n=t.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=dn(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),e.has(n)||e.set(n,new Set),i=(r=p(i)).next();!i.done;i=r.next())i=i.value,e.get(n).add(i)}var o=[];return e.forEach(function(t,e){for(var n=p(t),r=n.next();!r.done;r=n.next())o.push({language:e,role:r.value})}),o}function qo(t){for(var e=t.s.i(),n=null,r=(t=p(t.b.periods)).next();!r.done;r=t.next())(r=r.value).startTime<=e&&(n=r);return n}function Yo(t){var e=qo(t);return Gr(t.B,e).variant}function zo(){return new st(2,7,7e3)}function Xo(t,e,n,r,i,o){return r==t&&i.o==o.o&&i.uri==o.uri&&i.mimeType==o.mimeType&&i.fa==o.fa?e:n}function Qo(t){return new Promise(function(e,n){t.Ca=function(){return n(zo())},t.vb=function(){return e()},t.onError=function(t){return n(t)},t.wb=function(){return n(zo())}})}yo.registerSupportPlugin=function(t,e){go[t]=e},yo.isBrowserSupported=function(){return!!(t.Promise&&t.Uint8Array&&Array.prototype.forEach&&t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration)&&(!!Ht()||Kt("application/x-mpegurl"))},yo.probeSupport=function(){return function(){var t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],e=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],n=new Map;return t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map(function(t){return function(t){return d(function r(){var i,o,a;return P(r,function(r){switch(r.j){case 1:return r.P=2,S(r,navigator.requestMediaKeySystemAccess(t,e),4);case 4:return i=r.w,a=!!(o=i.getConfiguration().sessionTypes)&&o.includes("persistent-license"),qt("Tizen 3")&&(a=!1),n.set(t,{persistentState:a}),S(r,i.createMediaKeys(),5);case 5:w(r,0);break;case 2:O(r),n.set(t,null),R(r)}})})}(t)}),Promise.all(t).then(function(){return Bt(n)})}().then(function(t){for(var e=ir.Od(),n={},r=p('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=Ht()?!!Qe(i)||MediaSource.isTypeSupported(i)||Ne(i):Kt(i);var o=i.split(";")[0];n[o]=n[o]||n[i]}for(var a in t={manifest:e,media:n,drm:t},go)t[a]=go[a]();return t})},yo.prototype.ab=function(t,e){if(e=void 0===e||e,this.g==Jo)return Promise.reject(zo());var n={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null};n.o=t,Ht()||(e=!1);var r=e?this.Ja:this.K,i=eo(this.Na,function(){return{node:r,payload:n,Aa:!1}});return i.Ua=function(){},Qo(i)},yo.prototype.attach=yo.prototype.ab,yo.prototype.detach=function(){var t=this;if(this.g==Jo)return Promise.reject(zo());var e=eo(this.Na,function(){return{node:t.v,payload:{fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},Aa:!1}});return e.Ua=function(){},Qo(e)},yo.prototype.detach=yo.prototype.detach,yo.prototype.ne=function(t){var e=this;if(t=void 0===t||t,this.g==Jo)return Promise.reject(zo());Ht()||(t=!1);var n={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null},r=eo(this.Na,function(r){var i=r.o&&t?e.Ja:r.o?e.K:e.v;return n.o=r.o,{node:i,payload:n,Aa:!1}});return r.Ua=function(){},Qo(r)},yo.prototype.unload=yo.prototype.ne,yo.prototype.load=function(t,e,n){if(this.g==Jo)return Promise.reject(zo());this.dispatchEvent(new yt("loading"));var r={fa:null,o:null,mimeType:null,startTime:null,ic:null,uri:null};r.uri=t,r.ic=Date.now()/1e3,n&&"string"!=typeof n&&(xn("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.fa=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==e&&(r.startTime=e);var i=function(t){if(t.fa)return!1;if(!Ht())return!0;var e=t.mimeType;return t=t.uri||"",e||(e={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",ts:"video/mp2t",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac"}[ir.getExtension(t)]),!!e&&!!Kt(e)&&(!ir.isSupported(t,e)||!!navigator.vendor&&navigator.vendor.includes("Apple"))}(r)?this.La:this.N,o=eo(this.Na,function(t){return null==t.o?null:(r.o=t.o,{node:i,payload:r,Aa:!0})});return o.Ua=function(){},new Promise(function(t,e){o.wb=function(){return e(new st(2,7,7002))},o.vb=function(){return t()},o.Ca=function(){return e(zo())},o.onError=function(t){return e(t)}})},yo.prototype.load=yo.prototype.load,yo.prototype.configure=function(t,e){if(2==arguments.length&&"string"==typeof t){for(var n=t,r={},i=r,o=0,a=0;!(0>(o=n.indexOf(".",o)));)0!=o&&"\\"==n[o-1]||(i[a=n.substring(a,o).replace(/\\\./g,".")]={},i=i[a],a=o+1),o+=1;i[n.substring(a).replace(/\\\./g,".")]=e,t=r}return n=uo(this.c,t,Ro(this)),To(this),n},yo.prototype.configure=yo.prototype.configure,yo.prototype.getConfiguration=function(){var t=Ro(this);return uo(t,this.c,Ro(this)),t},yo.prototype.getConfiguration=yo.prototype.getConfiguration,yo.prototype.Rd=function(){for(var t in this.c)delete this.c[t];uo(this.c,Ro(this),Ro(this)),To(this)},yo.prototype.resetConfiguration=yo.prototype.Rd,yo.prototype.hd=function(){return this.g},yo.prototype.getLoadMode=yo.prototype.hd,yo.prototype.md=function(){return this.a},yo.prototype.getMediaElement=yo.prototype.md,yo.prototype.od=function(){return this.H},yo.prototype.getNetworkingEngine=yo.prototype.od,yo.prototype.ad=function(){return this.Ha},yo.prototype.getAssetUri=yo.prototype.ad,yo.prototype.ld=function(){return xn("getManifestUri",'Please use "getAssetUri" instead.'),this.Ha},yo.prototype.getManifestUri=yo.prototype.ld,yo.prototype.S=function(){return this.b?this.b.presentationTimeline.S():!(!this.a||!this.a.src)&&1/0==this.a.duration},yo.prototype.isLive=yo.prototype.S,yo.prototype.Sa=function(){return!!this.b&&this.b.presentationTimeline.Sa()},yo.prototype.isInProgress=yo.prototype.Sa,yo.prototype.xd=function(){if(this.b){if(!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},yo.prototype.isAudioOnly=yo.prototype.xd,yo.prototype.Td=function(){if(this.b){var t=this.b.presentationTimeline;return{start:t.Pa(),end:t.ga()}}return this.a&&this.a.src&&(t=this.a.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},yo.prototype.seekRange=yo.prototype.Td,yo.prototype.keySystem=function(){return this.h?this.h.keySystem():""},yo.prototype.keySystem=yo.prototype.keySystem,yo.prototype.drmInfo=function(){return this.h?this.h.a:null},yo.prototype.drmInfo=yo.prototype.drmInfo,yo.prototype.Sb=function(){return this.h?this.h.Sb():1/0},yo.prototype.getExpiration=yo.prototype.Sb,yo.prototype.vc=function(){return!!this.M&&this.M.a==Jr},yo.prototype.isBuffering=yo.prototype.vc,yo.prototype.qd=function(){if(this.J){var t=this.J;t=t.g?0:t.f}else t=0;return t},yo.prototype.getPlaybackRate=yo.prototype.qd,yo.prototype.me=function(t){0==t?G("A trick play rate of 0 is unsupported!"):(this.g==ta&&this.J.set(t),this.g==Zo&&(this.J.set(t),Li(this.f,1<Math.abs(t))))},yo.prototype.trickPlay=yo.prototype.me,yo.prototype.Vc=function(){this.g==ta&&this.J.set(1),this.g==Zo&&(this.J.set(1),Li(this.f,!1))},yo.prototype.cancelTrickPlay=yo.prototype.Vc,yo.prototype.Vb=function(){if(this.b&&this.s){for(var t=Yo(this),e=[],n=p(function(t){return null==(t=qo(t))?[]:t.variants.filter(function(t){return An(t)})}(this)),r=n.next();!r.done;r=n.next()){var i=Tn(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map(function(t){var e=On(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind?(e.primary=!0,e.roles=["main"],e.audioRoles=["main"]):e.audioRoles=[],e}):[]},yo.prototype.getVariantTracks=yo.prototype.Vb,yo.prototype.Ra=function(){if(this.b&&this.s){for(var t=function(t){var e=qo(t);if(null==e)return null;if(!Gr(t.B,e).text){var n=Nn(e.textStreams,t.ta,t.$a);n.length&&Vr(t.B,e,n[0])}return Gr(t.B,e).text}(this),e=[],n=p(function(t){var e=qo(t);return null==e?[]:e.textStreams.filter(function(e){return!t.kb.has(e)})}(this)),r=n.next();!r.done;r=n.next()){var i=Sn(r=r.value);i.active=r==t,e.push(i)}return e}return this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).map(function(t){var e=On(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),e}):[]},yo.prototype.getTextTracks=yo.prototype.Ra,yo.prototype.fc=function(t){if(this.b&&this.f){var e=qo(this),n=e.textStreams.find(function(e){return e.id==t.id});n&&(Vr(this.B,e,n),ho(this.u.b,n,!1),Ao(this,n),this.ta=n.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(e=p(e=Array.from(this.a.textTracks))).next();!n.done;n=e.next())Rn(n=n.value)==t.id?n.mode=this.Ia?"showing":"hidden":n.mode="disabled";xo(this)}},yo.prototype.selectTextTrack=yo.prototype.fc,yo.prototype.Vd=function(){xn("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var t=this.Ra().filter(function(t){return"application/cea-608"==t.mimeType});0<t.length&&this.fc(t[0])},yo.prototype.selectEmbeddedTextTrack=yo.prototype.Vd,yo.prototype.qe=function(){xn("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var t=this.Ra().filter(function(t){return t.active})[0];return!!t&&"application/cea-608"==t.mimeType},yo.prototype.usingEmbeddedTextTrack=yo.prototype.qe,yo.prototype.Xd=function(t,e,n){if(n=void 0===n?0:n,this.b&&this.f){var r=qo(this);this.c.abr.enabled&&G("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find(function(e){return e.id==t.id});i&&An(i)&&(So(this,r,i,!1),Oo(this,i,e,n),this.jb=new zr(i),Co(this,r.variants))}else if(this.a&&this.a.audioTracks){for(n=(e=p(e=Array.from(this.a.audioTracks))).next();!n.done;n=e.next())Rn(n=n.value)==t.id&&(n.enabled=!0);Do(this)}},yo.prototype.selectVariantTrack=yo.prototype.Xd,yo.prototype.cd=function(){return Ko(this.Vb())},yo.prototype.getAudioLanguagesAndRoles=yo.prototype.cd,yo.prototype.vd=function(){return Ko(this.Ra())},yo.prototype.getTextLanguagesAndRoles=yo.prototype.vd,yo.prototype.bd=function(){return Array.from(Ho(this.Vb()))},yo.prototype.getAudioLanguages=yo.prototype.bd,yo.prototype.ud=function(){return Array.from(Ho(this.Ra()))},yo.prototype.getTextLanguages=yo.prototype.ud,yo.prototype.Ud=function(t,e){if(this.b&&this.s){var n=qo(this);this.jb=new Xr(t,e||"",0),Po(this,n)}else if(this.a&&this.a.audioTracks){for(var r=(n=p(n=Array.from(this.a.audioTracks))).next();!r.done;r=n.next())(r=r.value).language==t&&(r.enabled=!0);Do(this)}},yo.prototype.selectAudioLanguage=yo.prototype.Ud,yo.prototype.Wd=function(t,e){if(this.b&&this.s){var n=qo(this);this.ta=t,this.$a=e||"",Po(this,n)}else(n=this.Ra().filter(function(e){return e.language==t})[0])&&this.fc(n)},yo.prototype.selectTextLanguage=yo.prototype.Wd,yo.prototype.Xb=function(){var t=this.Ia;return this.b?this.G.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Array.from(this.a.textTracks).some(function(t){return"showing"==t.mode}):t},yo.prototype.isTextTrackVisible=yo.prototype.Xb,yo.prototype.be=function(t){var e=this;return d(function n(){var r,i,o,a;return P(n,function(n){switch(n.j){case 1:if(e.Ia==(r=t))return n.return();if(e.Ia=r,e.g!=Zo){if(e.a&&e.a.src&&e.a.textTracks)for(var s=p(Array.from(e.a.textTracks)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=t?"showing":"hidden");n.j=2;break}if(e.G.h.setTextVisibility(t),e.c.streaming.alwaysStreamText){n.j=2;break}if(!t){(s=e.f).B=!0,(u=s.b.get("text"))&&(Xi(u),s.b.delete("text")),n.j=2;break}if(o=qo(e),!(0<(a=Nn(o.textStreams,e.ta,e.$a)).length)){n.j=2;break}return S(n,Pi(e.f,a[0]),2);case 2:Mo(e),R(n)}})})},yo.prototype.setTextTrackVisibility=yo.prototype.be,yo.prototype.rd=function(){if(!this.S())return null;if(this.b)return new Date(1e3*(this.b.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:new Date(t.getTime()+1e3*this.a.currentTime)}return null},yo.prototype.getPlayheadTimeAsDate=yo.prototype.rd,yo.prototype.td=function(){if(!this.S())return null;if(this.b)return new Date(1e3*this.b.presentationTimeline.f);if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?null:t}return null},yo.prototype.getPresentationStartTimeAsDate=yo.prototype.td,yo.prototype.Qb=function(){var t={total:[],audio:[],video:[],text:[]};return this.g==ta&&(t.total=Re(this.a.buffered)),this.g==Zo&&this.G.Qb(t),t},yo.prototype.getBufferedInfo=yo.prototype.Qb,yo.prototype.getStats=function(){if(this.g!=Zo&&this.g!=ta)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]};No(this);var t=this.a;if(t.getVideoPlaybackQuality){t=t.getVideoPlaybackQuality();var e=this.u,n=Number(t.totalVideoFrames);e.i=Number(t.droppedVideoFrames),e.h=n}this.g==Zo&&((t=Yo(this))&&(this.u.l=t.bandwidth),t&&t.video&&(e=this.u,n=t.video.height||NaN,e.m=t.video.width||NaN,e.g=n),t=this.l.getBandwidthEstimate(),this.u.f=t);var r=this.u;t=r.m,e=r.g,n=r.l;for(var i=r.h,o=r.i,a=r.f,s=r.c,u=fo(r.a,"playing"),c=fo(r.a,"paused"),l=fo(r.a,"buffering"),f=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=p(t.b),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.a&&n.push(e(t.a)),n}(r.a),h=[],d=(r=p(r.b.a)).next();!d.done;d=r.next())d=d.value,h.push({timestamp:d.timestamp,id:d.id,type:d.type,fromAdaptation:d.fromAdaptation,bandwidth:d.bandwidth});return{width:t,height:e,streamBandwidth:n,decodedFrames:i,droppedFrames:o,estimatedBandwidth:a,loadLatency:s,playTime:u,pauseTime:c,bufferingTime:l,stateHistory:f,switchHistory:h}},yo.prototype.getStats=yo.prototype.getStats,yo.prototype.addTextTrack=function(t,e,n,r,i,o){var a=this;return d(function s(){var u,c,l,f,p,h,d,_,y;return P(s,function(s){switch(s.j){case 1:if(a.g==ta)throw Error("State error!");if(a.g!=Zo)throw Error("State error!");if(u=qo(a),c=Oe,l=a.b.periods.indexOf(u),p=(f=l+1)>=a.b.periods.length?a.b.presentationTimeline.R():a.b.periods[f].startTime,1/0==(h=p-u.startTime))throw new st(1,4,4033);return d=new rr(1,0,h,function(){return[t]},0,null),_={id:a.sc++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1==t?d:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:e,label:o||null,type:c.Z,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},a.kb.add(_),u.textStreams.push(_),S(s,Pi(a.f,_),2);case 2:return(y=Ci(a.f,"text"))&&Vr(a.B,u,y),a.kb.delete(_),Po(a,u),ko(a),s.return(Sn(_))}})})},yo.prototype.addTextTrack=yo.prototype.addTextTrack,yo.prototype.ae=function(t,e){this.lb.width=t,this.lb.height=e},yo.prototype.setMaxHardwareResolution=yo.prototype.ae,yo.prototype.ec=function(){if(this.g==Zo){var t=this.f;if(t.f)t=!1;else if(t.m)t=!1;else{for(var e=p(t.b.values()),n=e.next();!n.done;n=e.next())(n=n.value).cb&&(n.cb=!1,zi(t,n,.1));t=!0}}else t=!1;return t},yo.prototype.retryStreaming=yo.prototype.ec,yo.prototype.jd=function(){return this.b},yo.prototype.getManifest=yo.prototype.jd,yo.prototype.kd=function(){return this.m?this.m.constructor:null},yo.prototype.getManifestParserFactory=yo.prototype.kd,(n=yo.prototype).Ob=function(t){var e=this.f?Ii(this.f):null,n=this.f?Ni(this.f):null;if(En(this.h,e,n,t),!(e=t.variants).some(An))throw new st(2,4,4011);if(Go(this,t.variants),gn(e,this.c.restrictions,this.lb)&&this.f&&qo(this)==t&&ko(this),t=this.h?this.h.a:null)for(n=(e=p(e)).next();!n.done;n=e.next())for(var r=(n=p(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t.keySystem)for(var i=(r=p(r.initData||[])).next();!i.done;i=r.next())i=i.value,ce(this.h,i.initDataType,i.initData)},n.Cd=function(t){try{this.Ma=!0,this.l.disable(),Uo(this);var e=Co(this,t.variants),n=Nn(t.textStreams,this.ta,this.$a)[0]||null;if(this.W&&(t.variants.includes(this.W)&&(e=this.W),this.W=null),this.V&&(t.textStreams.includes(this.V)&&(n=this.V),this.V=null),e&&So(this,t,e,!0),n){var r=n;Vr(this.B,t,r),ho(this.u.b,r,!0)}var i=this.f,o=i.b.get("video");if(o)var a=i.c.periods[o.ia];else{var s=i.b.get("audio");a=s?i.c.periods[s.ia]:null}var u=e?e.audio:null;if(!a&&n){var c;if(c=u){t=n;var l=dn(this.c.preferredTextLanguage),f=dn(u.language),p=dn(t.language);c=pn(p,l)&&!pn(f,p)}c&&(this.Ia=!0),this.Ia&&this.G.h.setTextVisibility(!0),Mo(this)}return this.c.streaming.alwaysStreamText||this.Xb()?{variant:e,text:n}:{variant:e,text:null}}catch(t){return this.pa(t),{variant:null,text:null}}},n.Uc=function(){this.Ma=!1,this.c.abr.enabled&&(this.l.enable(),Uo(this)),this.W&&(ki(this.f,this.W,this.oc,this.nc),Do(this),this.W=null),this.V&&(Di(this.f,this.V,!0,0),xo(this),this.V=null)},n.Gd=function(){this.m&&this.m.update&&this.m.update()},n.Kd=function(){this.s&&this.s.u()},n.pa=function(t){if(this.g!=Jo){var e=new yt("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}};var Jo=0,$o=1,Zo=2,ta=3;yo.LoadMode={DESTROYED:Jo,NOT_LOADED:$o,MEDIA_SOURCE:Zo,SRC_EQUALS:ta},x("shaka.polyfill.installAll",function(){for(var t=0;t<ia.length;++t)ia[t].Tc()});var ea,na,ra,ia=[];function oa(t,e){for(var n={priority:e=e||0,Tc:t},r=0;r<ia.length;r++)if(ia[r].priority<e)return void ia.splice(r,0,n);ia.push(n)}function aa(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function sa(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}ea.call(this,t,e,n)}function ua(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=t.apply(this,n)).abort=function(){},n}}function ca(t){var e=t.target,n=e.mediaSource_;if(n.uc){for(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.pc=!0,t=0;t<n.sourceBuffers.length;++t)if(0==n.sourceBuffers[t].pc)return;n.uc=!1}}function la(t){t=t.target;for(var e=0;e<t.sourceBuffers.length;++e)t.sourceBuffers[e].removeEventListener("updateend",ca,!1);t.removeEventListener("sourceclose",la,!1)}function fa(t,e){try{var n=new pa(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function pa(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=p(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var o=!1,a=!1;if(i.audioCapabilities)for(var s=p(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){o=!0;var c=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,c)&&(r.audioCapabilities.push(u),a=!0)}if(i.videoCapabilities)for(u=(i=p(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(o=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),a=!0));o||(a=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=a?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function ha(t){var e=this.mediaKeys;return e&&e!=t&&_a(e,null),delete this.mediaKeys,(this.mediaKeys=t)?_a(t,this):Promise.resolve()}function da(t){this.b=new WebKitMediaKeys(t),this.a=new kt,this.c=null}function _a(t,e){if(Mt(t.a),!e)return Promise.resolve();Dt(t.a,e,"webkitneedkey",va);try{return 1<=e.readyState?e.webkitSetMediaKeys(t.b):xt(t.a,e,"loadedmetadata",function(){e.webkitSetMediaKeys(t.b)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function ya(t){mt.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new kt,this.sessionId="",this.expiration=NaN,this.closed=new ut,this.keyStatuses=new ga}function va(t){var e=this.mediaKeys.c,n=new Event("encrypted");n.initDataType="cenc",n.initData=function(t,e){function n(t){new DataView(o.buffer).setUint32(a,t.byteLength,!0),a+=4,o.set(t,a),a+=t.byteLength}var r=new Uint8Array(t);if(new DataView(r.buffer).getUint32(0,!0)+4!=r.byteLength)throw Error("Malformed init data!");var i=Qt(r.slice(4),!0);i=new H(i).aa,i=new Uint8Array(Zt(i,!0));var o=new Uint8Array(r.byteLength+4+i.byteLength+4+e.byteLength),a=0;return o.set(r,a),a+=r.byteLength,n(i),n(new Uint8Array(e)),o}(t.initData,e),this.dispatchEvent(n)}function ma(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new yt("keystatuseschange"))}function ga(){this.size=0,this.a=void 0}function Ea(t){this.f=[],this.b=[],this.a=[],(new fr).X("pssh",this.c.bind(this)).parse(t.buffer)}function ba(t,e){try{var n=new Ta(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Ta(t,e){this.keySystem=t;for(var n=!1,r=0;r<e.length;++r){var i=e[r],o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},a=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){a=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(a=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Sa(t){var e=this.mediaKeys;return e&&e!=t&&wa(e,null),delete this.mediaKeys,(this.mediaKeys=t)?wa(t,this):Promise.resolve()}function Ra(t){this.a=new MSMediaKeys(t),this.b=new kt}function wa(t,e){if(Mt(t.b),!e)return Promise.resolve();Dt(t.b,e,"msneedkey",Aa);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",function t(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",t)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function Oa(t){mt.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new kt,this.sessionId="",this.expiration=NaN,this.closed=new ut,this.keyStatuses=new Na}function Aa(t){if(t.initData){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",e.initData=function(t){if(!t)return t;var e=new Ea(t);if(1>=e.a.length)return t;for(var n=[],r=0;r<e.a.length;r++)n.push(t.subarray(e.a[r].start,e.a[r].end+1));for(t=[],e={},n=(r=p(n)).next();!n.done;e={sb:e.sb},n=r.next())e.sb=n.value,t.some(function(t){return function(e){return oe(e,t.sb)}}(e))||t.push(e.sb);for(e=0,n=(r=p(t)).next();!n.done;n=r.next())e+=n.value.length;for(e=new Uint8Array(e),r=0,n=(t=p(t)).next();!n.done;n=t.next())n=n.value,e.set(n,r),r+=n.length;return e}(t.initData),this.dispatchEvent(e)}}function Ia(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new yt("keystatuseschange"))}function Na(){this.size=0,this.a=void 0}function Ca(){return Promise.reject(Error("The key system specified is not supported."))}function Pa(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function La(){throw new TypeError("Illegal constructor.")}function ka(){throw new TypeError("Illegal constructor.")}x("shaka.polyfill.register",oa),oa(function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",aa),document.addEventListener("webkitfullscreenerror",aa),document.addEventListener("mozfullscreenchange",aa),document.addEventListener("mozfullscreenerror",aa),document.addEventListener("MSFullscreenChange",aa),document.addEventListener("MSFullscreenError",aa)}}),oa(function(){qt("CrKey")&&delete t.indexedDB}),oa(function(){qt("Trident/")&&HTMLInputElement.prototype.addEventListener!=sa&&(ea=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=sa)}),oa(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})}),oa(function(){}),oa(function(){if(t.MediaSource)if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var t=MediaSource.isTypeSupported,e=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],o={},a=1;a<r.length;++a){var s=r[a].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),o[u]=s}if(!(r=o.codecs))return t(n);var c=!1,l=!1;for(var f in n=r.split(",").filter(function(t){return e.test(t)&&(l=!0),/^(hev|hvc)1\.2/.test(t)&&(c=!0),!0}),l&&(c=!1),o.codecs=n.join(","),c&&(o.eotf="smpte2084"),o)i+="; "+f+'="'+o[f]+'"';return cast.__platform__.canDisplayType(i)}}();else if(navigator.vendor&&navigator.vendor.includes("Apple")){var e=navigator.appVersion;!function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1]&&t(e)}}(),e.includes("Version/8")?t.MediaSource=null:e.includes("Version/9")?ua():e.includes("Version/10")?(ua(),function(){var t=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];for(var i=r=0;i<this.sourceBuffers.length;++i){var o=this.sourceBuffers[i];o=o.buffered.end(o.buffered.length-1),r=Math.max(r,o)}if(!isNaN(this.duration)&&r<this.duration)for(this.uc=!0,r=0;r<this.sourceBuffers.length;++r)this.sourceBuffers[r].pc=!1;return t.apply(this,n)};var e=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];return(r=n.apply(this,r)).mediaSource_=this,r.addEventListener("updateend",ca,!1),e||(this.addEventListener("sourceclose",la,!1),e=!0),r}}()):(e.includes("Version/11")||e.includes("Version/12"))&&(ua(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}())}else qt("Tizen")&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=Gt(e)[0]&&t(e)}}()}),pa.prototype.createMediaKeys=function(){var t=new da(this.keySystem);return Promise.resolve(t)},pa.prototype.getConfiguration=function(){return this.a},da.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new ya(this.b,t)},da.prototype.setServerCertificate=function(t){return this.c=t?new Uint8Array(t):null,Promise.resolve(!0)},M(ya,mt),(n=ya.prototype).generateRequest=function(t,e){this.a=new ut;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e)),Dt(this.f,this.c,"webkitkeymessage",this.ge.bind(this)),Dt(this.f,this.c,"webkitkeyadded",this.ee.bind(this)),Dt(this.f,this.c,"webkitkeyerror",this.fe.bind(this)),ma(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(t){this.b=new ut;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),Mt(this.f)}catch(t){this.closed.reject(t)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.ge=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new yt("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},n.ee=function(){this.b&&(ma(this,"usable"),this.b.resolve(),this.b=null)},n.fe=function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:ma(this,"output-not-allowed");break;default:ma(this,"internal-error")}},(n=ga.prototype).forEach=function(t){this.a&&t(this.a,na)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=na;return!(!this.a||!oe(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},oa(function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(na=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ha,t.MediaKeys=da,t.MediaKeySystemAccess=pa,navigator.requestMediaKeySystemAccess=fa)}),Ea.prototype.c=function(t){if(!(1<t.version)){var e=ie(t.reader.Da(16)),n=[];if(0<t.version)for(var r=t.reader.D(),i=0;i<r;++i){var o=ie(t.reader.Da(16));n.push(o)}r=t.reader.D(),t.reader.I(r),this.b.push.apply(this.b,n),this.f.push(e),this.a.push({start:t.start,end:t.start+t.size-1})}},Ta.prototype.createMediaKeys=function(){var t=new Ra(this.keySystem);return Promise.resolve(t)},Ta.prototype.getConfiguration=function(){return this.a},Ra.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Oa(this.a,t)},Ra.prototype.setServerCertificate=function(){return Promise.resolve(!1)},M(Oa,mt),(n=Oa.prototype).generateRequest=function(t,e){this.a=new ut;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),Dt(this.f,this.c,"mskeymessage",this.Jd.bind(this)),Dt(this.f,this.c,"mskeyadded",this.Hd.bind(this)),Dt(this.f,this.c,"mskeyerror",this.Id.bind(this)),Ia(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(t){this.b=new ut;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),Mt(this.f)}catch(t){this.closed.reject(t)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.Jd=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new yt("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},n.Hd=function(){this.a?(Ia(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Ia(this,"usable"),this.b.resolve(),this.b=null)},n.Id=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ia(this,"output-not-allowed");break;default:Ia(this,"internal-error")}},(n=Na.prototype).forEach=function(t){this.a&&t(this.a,ra)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=ra;return!(!this.a||!oe(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},oa(function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(ra=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Sa,t.MediaKeys=Ra,t.MediaKeySystemAccess=Ta,navigator.requestMediaKeySystemAccess=ba)}),La.prototype.createSession=function(){},La.prototype.setServerCertificate=function(){},ka.prototype.getConfiguration=function(){},ka.prototype.createMediaKeys=function(){},oa(function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Ca,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Pa,t.MediaKeys=La,t.MediaKeySystemAccess=ka)},-10);var Da,xa="";function Ma(t){return xa?xa+t.charAt(0).toUpperCase()+t.slice(1):t}function Ua(t,e){try{var n=new ja(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Fa(t){var e=this.mediaKeys;return e&&e!=t&&Va(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Va(t,this),Promise.resolve()}function ja(t,e){this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=0;o<e.length;++o){var a=e[o],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label},u=!1;if(a.audioCapabilities)for(var c=0;c<a.audioCapabilities.length;++c){var l=a.audioCapabilities[c];if(l.contentType){u=!0;var f=l.contentType.split(";")[0];i.canPlayType(f,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(a.videoCapabilities)for(c=0;c<a.videoCapabilities.length;++c)(l=a.videoCapabilities[c]).contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ba(t){this.g=t,this.b=null,this.a=new kt,this.c=[],this.f={}}function Va(t,e){t.b=e,Mt(t.a);var n=xa;e&&(Dt(t.a,e,n+"needkey",t.Md.bind(t)),Dt(t.a,e,n+"keymessage",t.je.bind(t)),Dt(t.a,e,n+"keyadded",t.he.bind(t)),Dt(t.a,e,n+"keyerror",t.ie.bind(t)))}function Ga(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function Wa(t,e,n){mt.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new ut,this.keyStatuses=new qa}function Ha(t,e,n){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(n)var r=new Uint8Array($t("LOAD_SESSION|"+n));else{var i=$t("PERSISTENT|"),o=new Uint8Array(i.byteLength+e.byteLength);o.set(new Uint8Array(i),0),o.set(new Uint8Array(e),i.byteLength),r=o}else r=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new ut;var a=Ma("generateKeyRequest");try{t.f[a](t.c,r)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);new it(function(){try{t.f[a](t.c,r)}catch(e){t.b.reject(e),t.b=null}}).L(.01)}return t.b}function Ka(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new yt("keystatuseschange"))}function qa(){this.size=0,this.a=void 0}function Ya(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function za(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Xa(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Qa(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Ja(e,n,r){return new t.TextTrackCue(e,n,r)}function $a(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function Za(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function ts(){}ja.prototype.createMediaKeys=function(){var t=new Ba(this.a);return Promise.resolve(t)},ja.prototype.getConfiguration=function(){return this.b},(n=Ba.prototype).createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.b||document.createElement("video");return e.src||(e.src="about:blank"),t=new Wa(e,this.g,t),this.c.push(t),t},n.setServerCertificate=function(){return Promise.resolve(!1)},n.Md=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},n.je=function(t){var e=Ga(this,t.sessionId);e&&(t=new yt("message",{messageType:null==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},n.he=function(t){(t=Ga(this,t.sessionId))&&(Ka(t,"usable"),t.a&&t.a.resolve(),t.a=null)},n.ie=function(t){var e=Ga(this,t.sessionId);e&&e.handleError(t)},M(Wa,mt),(n=Wa.prototype).handleError=function(t){var e=Error("EME v0.1b key error");e.errorCode=t.errorCode,e.errorCode.systemCode=t.systemCode,!t.sessionId&&this.b?(e.method="generateRequest",45==t.systemCode&&(e.message="Unsupported session type."),this.b.reject(e),this.b=null):t.sessionId&&this.a?(e.method="update",this.a.reject(e),this.a=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Ka(this,"output-restricted"):Ka(this,1==e?"expired":"internal-error"))},n.hc=function(t,e){if(this.a)this.a.then(this.hc.bind(this,t,e)).catch(this.hc.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=Xt(e),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=ne(r.keys[0].k),r=ne(r.keys[0].kid)}else n=new Uint8Array(e),r=null;var i=Ma("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},n.generateRequest=function(t,e){return Ha(this,e,null)},n.load=function(t){return"persistent-license"==this.g?Ha(this,null,t):Promise.reject(Error("Not a persistent session."))},n.update=function(t){var e=new ut;return this.hc(e,t),e},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Ma("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=qa.prototype).forEach=function(t){this.a&&t(this.a,Da)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=Da;return!(!this.a||!oe(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},oa(function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)xa="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Da=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Ua,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fa,t.MediaKeys=Ba,t.MediaKeySystemAccess=ja}}),oa(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=za,document.exitPictureInPicture=Xa,document.addEventListener("webkitpresentationmodechanged",Ya,!0))}}),oa(function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}),oa(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=Qa)}}),oa(function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=Ja;else if(6==e)t.VTTCue=$a;else{try{var n=!!Ja(1,2,"")}catch(t){n=!1}n&&(t.VTTCue=Ja)}}}),ts.prototype.parseInit=function(){},ts.prototype.parseMedia=function(t,e){var n=Xt(t),r=[],i=new DOMParser,o=null;try{o=i.parseFromString(n,"text/xml")}catch(t){throw new st(2,2,2005)}if(o){if(!(o=o.getElementsByTagName("tt")[0]))throw new st(2,2,2005);var a=Za(o,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Za(o,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Za(o,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=Za(o,"http://www.w3.org/ns/ttml#parameter","tickRate");if(n=o.getAttribute("xml:space")||"default",i=o.getAttribute("tts:extent"),"default"!=n&&"preserve"!=n)throw new st(2,2,2005);n="default"==n,a=new bs(a,s,u,c),s=ps(o.getElementsByTagName("metadata")[0]),u=ps(o.getElementsByTagName("styling")[0]),c=ps(o.getElementsByTagName("layout")[0]);for(var l=[],f=0;f<c.length;f++){var p,h,d=c[f],_=u,y=i,v=new Ke,m=d.getAttribute("xml:id");m?(v.id=m,m=null,y&&(m=es.exec(y)||rs.exec(y)),y=m?Number(m[1]):null,m=m?Number(m[2]):null,(p=ys(d,_,"extent"))&&null!=(p=(h=es.exec(p))||rs.exec(p))&&(v.width=null!=y?100*Number(p[1])/y:Number(p[1]),v.height=null!=m?100*Number(p[2])/m:Number(p[2]),v.widthUnits=h||null!=y?qe:0,v.heightUnits=h||null!=m?qe:0),(d=ys(d,_,"origin"))&&null!=(p=(h=es.exec(d))||rs.exec(d))&&(v.viewportAnchorX=null!=m?100*Number(p[1])/m:Number(p[1]),v.viewportAnchorY=null!=y?100*Number(p[2])/y:Number(p[2]),v.viewportAnchorUnits=h||null!=y?qe:0)):v=null,v&&l.push(v)}for(i=ps(o.getElementsByTagName("body")[0]),o=0;o<i.length;o++)(f=hs(i[o],e.periodStart,a,s,u,c,l,n))&&r.push(f)}return r};var es=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,ns=/^(\d+px|\d+em)$/,rs=/^(\d+)px (\d+)px$/,is=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,os=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,as=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,ss=/^(\d*(?:\.\d*)?)f$/,us=/^(\d*(?:\.\d*)?)t$/,cs=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,ls={left:Be,center:"center",right:"end",start:Be,end:"end"},fs={left:"line-left",center:"center",right:"line-right"};function ps(t){var e=[];if(!t)return e;for(var n=t.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==t.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=ps(n[r]),e=e.concat(i))}return e.length||e.push(t),e}function hs(t,e,n,r,i,o,a,s){if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(t.textContent))return null;!function t(e,n){for(var r=e.childNodes,i=0;i<r.length;i++)if("br"==r[i].nodeName&&0<i)r[i-1].textContent+="\n";else if(0<r[i].childNodes.length)t(r[i],n);else if(n){var o=r[i].textContent.trim();o=o.replace(/\s+/g," "),r[i].textContent=o}}(t,s),s=gs(t.getAttribute("begin"),n);var u=gs(t.getAttribute("end"),n);n=gs(t.getAttribute("dur"),n);var c=t.textContent;if(null==u&&null!=n&&(u=s+n),null==s||null==u)throw new st(2,2,2001);if(e=new Pe(s+e,u+e,c),(o=ms(t,"region",o,""))&&o.getAttribute("xml:id")){var l=o.getAttribute("xml:id");a=a.filter(function(t){return t.id==l}),e.region=a[0]}return function(t,e,n,r,i){"rtl"==_s(e,n,i,"direction")&&(t.direction="rtl");var o=_s(e,n,i,"writingMode");if("tb"==o||"tblr"==o?t.writingMode="vertical-lr":"tbrl"==o?t.writingMode="vertical-rl":"rltb"==o||"rl"==o?t.direction="rtl":o&&(t.direction=Ue),(o=_s(e,n,i,"textAlign"))&&(t.positionAlign=fs[o],t.lineAlign=ls[o],t.textAlign=De[o.toUpperCase()]),(o=_s(e,n,i,"displayAlign"))&&(t.displayAlign=Me[o.toUpperCase()]),(o=_s(e,n,i,"color"))&&(t.color=o),(o=_s(e,n,i,"backgroundColor"))&&(t.backgroundColor=o),(o=_s(e,n,i,"fontFamily"))&&(t.fontFamily=o),(o=_s(e,n,i,"fontWeight"))&&"bold"==o&&(t.fontWeight=700),(o=_s(e,n,i,"wrapOption"))&&"noWrap"==o&&(t.wrapLine=!1),(o=_s(e,n,i,"lineHeight"))&&o.match(ns)&&(t.lineHeight=o),(o=_s(e,n,i,"fontSize"))&&o.match(ns)&&(t.fontSize=o),(o=_s(e,n,i,"fontStyle"))&&(t.fontStyle=He[o.toUpperCase()]),r){o=r.getAttribute("imagetype");var a=r.getAttribute("encoding");r=r.textContent,"PNG"==o&&"Base64"==a&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(n=ys(n,i,"textDecoration"))&&ds(t,n),(e=vs(e,i,"textDecoration"))&&ds(t,e)}(e,t,o,r=ms(t,"smpte:backgroundImage",r,"#"),i),e}function ds(t,e){for(var n=e.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&Et(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&Et(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&Et(t.textDecoration,"overline")}}function _s(t,e,n,r){return(t=vs(t,n,r))?t:ys(e,n,r)}function ys(t,e,n){for(var r=ps(t),i=0;i<r.length;i++){var o=Za(r[i],"http://www.w3.org/ns/ttml#styling",n);if(o)return o}return(t=ms(t,"style",e,""))?Za(t,"http://www.w3.org/ns/ttml#styling",n):null}function vs(t,e,n){return(t=ms(t,"style",e,""))?Za(t,"http://www.w3.org/ns/ttml#styling",n):null}function ms(t,e,n,r){if(!t||1>n.length)return null;var i=null,o=t;for(t=null;o&&!(t=o.getAttribute(e))&&(o=o.parentNode)instanceof Element;);if(e=t)for(t=0;t<n.length;t++)if(r+n[t].getAttribute("xml:id")==e){i=n[t];break}return i}function gs(t,e){var n=null;if(is.test(t)){n=is.exec(t);var r=Number(n[1]),i=Number(n[2]),o=Number(n[3]),a=Number(n[4]);n=(o+=(a+=(Number(n[5])||0)/e.b)/e.frameRate)+60*i+3600*r}else os.test(t)?n=Es(os,t):as.test(t)?n=Es(as,t):ss.test(t)?(n=ss.exec(t),n=Number(n[1])/e.frameRate):us.test(t)?(n=us.exec(t),n=Number(n[1])/e.a):cs.test(t)&&(n=Es(cs,t));return n}function Es(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function bs(t,e,n,r){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(r),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}function Ts(){this.a=new ts}function Ss(){}function Rs(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?ke:De[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter(function(t){return t.id==e});return n.length?n[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=Ve[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=je,t.line=Number(n[1]),n[2]&&(t.lineAlign=Ve[n[2].toUpperCase()]))}function ws(t){if(null==(t=zn(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function Os(){this.a=null}function As(t,e,n){var r,i,o;return(new fr).A("payl",dr(function(t){r=Xt(t)})).A("iden",dr(function(t){i=Xt(t)})).A("sttg",dr(function(t){o=Xt(t)})).parse(t),r?function(t,e,n,r,i){if(t=new Pe(r,i,t),e&&(t.id=e),n)for(n=Xn(e=new qn(n));n;)Rs(t,n,[]),Yn(e),n=Xn(e);return t}(r,i,o,e,n):null}Xe["application/ttml+xml"]=ts,Ts.prototype.parseInit=function(t){var e=!1;if((new fr).A("moov",pr).A("trak",pr).A("mdia",pr).A("minf",pr).A("stbl",pr).X("stsd",hr).A("stpp",function(t){e=!0,t.parser.stop()}).parse(t),!e)throw new st(2,2,2007)},Ts.prototype.parseMedia=function(t,e){var n=!1,r=[];if((new fr).A("mdat",dr(function(t){n=!0,r=r.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new st(2,2,2007);return r},Xe['application/mp4; codecs="stpp"']=Ts,Xe['application/mp4; codecs="stpp.TTML.im1t"']=Ts,Ss.prototype.parseInit=function(){},Ss.prototype.parseMedia=function(t,e){var n=Xt(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new st(2,2,2e3);var r=e.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);if(i&&o){if(null==(r=ws(new qn(i[1]))))throw new st(2,2,2e3);r=e.periodStart+(Number(o[1])/9e4-r)}}o=[];var a=n[0].split("\n");for(i=1;i<a.length;i++)if(/^Region:/.test(a[i])){var s=new qn(a[i]),u=new Ke;Xn(s),Yn(s);for(var c=Xn(s);c;){var l=u,f=c;(c=/^id=(.*)$/.exec(f))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(f))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),Yn(s),c=Xn(s)}o.push(u)}for(i=[],s=1;s<n.length;s++){if(c=a=n[s].split("\n"),f=r,a=o,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])a=null;else{u=null,c[0].includes("--\x3e")||(u=c[0],c.splice(0,1));var p=ws(l=new qn(c[0])),h=zn(l,/[ \t]+--\x3e[ \t]+/g),d=ws(l);if(null==p||null==h||null==d)throw new st(2,2,2001);for(c=new Pe(p+f,d+f,c.slice(1).join("\n").trim()),Yn(l),f=Xn(l);f;)Rs(c,f,a),Yn(l),f=Xn(l);null!=u&&(c.id=u),a=c}a&&i.push(a)}return i},Xe["text/vtt"]=Ss,Xe['text/vtt; codecs="vtt"']=Ss,Os.prototype.parseInit=function(t){var e=!1;if((new fr).A("moov",pr).A("trak",pr).A("mdia",pr).X("mdhd",function(t){0==t.version?(t.reader.I(4),t.reader.I(4),this.a=t.reader.D(),t.reader.I(4)):(t.reader.I(8),t.reader.I(8),this.a=t.reader.D(),t.reader.I(8)),t.reader.I(4)}.bind(this)).A("minf",pr).A("stbl",pr).X("stsd",hr).A("wvtt",function(){e=!0}).parse(t),!this.a)throw new st(2,2,2008);if(!e)throw new st(2,2,2008)},Os.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw new st(2,2,2008);var r,i=0,o=[],a=[],s=!1,u=!1,c=!1,l=null;if((new fr).A("moof",pr).A("traf",pr).X("tfdt",function(t){s=!0,i=0==t.version?t.reader.D():t.reader.Ab()}).X("tfhd",function(t){var e=t.flags;(t=t.reader).I(4),1&e&&t.I(8),2&e&&t.I(4),l=8&e?t.D():null}).X("trun",function(t){u=!0;var e=t.version,n=t.flags,r=(t=t.reader).D();1&n&&t.I(4),4&n&&t.I(4);for(var i=[],a=0;a<r;a++){var s={duration:null,sampleSize:null,jc:null};256&n&&(s.duration=t.D()),512&n&&(s.sampleSize=t.D()),1024&n&&t.I(4),2048&n&&(s.jc=0==e?t.D():t.Fc()),i.push(s)}o=i}).A("mdat",dr(function(t){c=!0,r=t})).parse(t),!c&&!s&&!u)throw new st(2,2,2008);var f=i,p=new ur(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return o.forEach(function(t){var r=t.duration||l,o=t.jc?i+t.jc:f;f=o+(r||0);var s=0;do{var u=p.D();s+=u;var c=null;"vttc"==yr(p.D())?8<u&&(c=p.Da(u-8)):p.I(u-8),r&&c&&a.push(As(c,e.periodStart+o/n.a,e.periodStart+f/n.a))}while(t.sampleSize&&s<t.sampleSize)}),a.filter(we.zd)},Xe['application/mp4; codecs="wvtt"']=Os,x("shaka.util.Dom.createHTMLElement",function(t){return document.createElement(t)}),x("shaka.util.Dom.createVideoElement",function(){var t=document.createElement("video");return t.muted=!0,t.width=600,t.height=400,t}),x("shaka.util.Dom.asHTMLElement",function(t){return t}),x("shaka.util.Dom.asHTMLMediaElement",function(t){return t}),x("shaka.util.Dom.removeAllChildren",function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})}.call(i,n,n),i.shaka)e[o]=i.shaka[o]}()}).call(this,n("pCvA"))},nYr0:function(t,e,n){(function(e){!function(){"use strict";var n="undefined"!=typeof window,r="function"==typeof Object.defineProperty;if(n&&window.__modDefFn)t.exports=window.__modDefFn;else{var i,o,a=[];f();var s=function(t){var e=!a.length;a.push(t),e&&i()};n&&!window.__modDefFn&&(r?Object.defineProperty(window,"__modDefFn",{value:s}):window.__modDefFn=s),s.use={auto:f,dom:u,immediate:c,timeout:l},t.exports=s}function u(){if(o=window.location.origin||window.location.protocol+"//"+window.location.hostname,i=window.postMessage.bind(window,"@execute_deferreds",o),!window.__hasDeferredHandler){r?Object.defineProperty(window,"__hasDeferredHandler",{value:1}):window.__hasDeferredHandler=1;var t=function(t){t.origin!=o&&"@execute_deferreds"!=t.data||p()};window.addEventListener?window.addEventListener("message",t):window.attachEvent("onmessage",t)}}function c(){i=e.bind(null,p)}function l(){i=setTimeout.bind(null,p,10)}function f(){n&&window.postMessage?u():void 0!==e?c():l()}function p(){var t=a.splice(0);if(t.length)for(var e=0,n=t.length;e<n;e++)try{t[e]()}finally{}}}()}).call(this,n("oPUo").setImmediate)},nfhW:function(t,e,n){"use strict";(function(e){var r=n("ZYNt"),i=4e5;function o(t){this._defaultBandwidth=t||i,this._totalBytes=0,this._short=new r(2),this._long=new r(5),this._overrideBitrate=0,this._onConnectionChange=this._onConnectionChange.bind(this),this._init()}o.prototype._init=function(){e.navigator&&e.navigator.connection&&e.navigator.connection.downlink&&(this._defaultBandwidth=1e6*e.navigator.connection.downlink,e.navigator.connection.addEventListener("change",this._onConnectionChange))},o.prototype._onConnectionChange=function(t){this._defaultBandwidth=1e6*t.target.downlink},o.prototype.getBandwidthEstimate=function(){if(this._overrideBitrate)return this._overrideBitrate;if(this._totalBytes<128e3)return this._defaultBandwidth;var t=this._short.getEstimate(),e=this._long.getEstimate();return Math.min(t,e)},o.prototype.sample=function(t,e){if(!(t<16e3)){var n=8e3*t/e;this._totalBytes+=t,this._short.sample(e,n),this._long.sample(e,n)}},o.prototype.overrideBitrate=function(t){this._overrideBitrate=t<=0?0:t},t.exports=o}).call(this,n("pCvA"))},noPx:function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},nrnY:function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n("qykS").Buffer)},nsI8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r,i=n("E6vx");!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(r||(r={}));var o=function(){function t(t){var e=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(r.RESOLVED,t)},this._reject=function(t){e._setResult(r.REJECTED,t)},this._setResult=function(t,n){e._state===r.PENDING&&(Object(i.l)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){e._state!==r.PENDING&&(e._state===r.REJECTED?e._handlers.forEach(function(t){t.onrejected&&t.onrejected(e._value)}):e._handlers.forEach(function(t){t.onfulfilled&&t.onfulfilled(e._value)}),e._handlers=[])};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach(function(e,a){t.resolve(e).then(function(t){o[a]=t,0==(i-=1)&&n(o)}).then(null,r)})}else n([]);else r(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(e,n){var r=this;return new t(function(t,i){r._attachHandler({onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(e){var n=this;return new t(function(t,r){var i,o;return n.then(function(t){o=!1,i=t,e&&e()},function(t){o=!0,i=t,e&&e()}).then(function(){o?r(i):t(i)})})},t}()},nskL:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.APPLOAD_MS_PLAYED_THRESHOLD=void 0;var i,o=r(n("du5n")),a=n("bfQY"),s=n("jT1e"),u=r(n("WshP")),c=n("BpT2"),l=n("gMC6"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},d=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};e.APPLOAD_MS_PLAYED_THRESHOLD=100;var _=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;a.unexpectedEndReason=s.EndVideoReasonEnd.END_UNEXPECTED_EXIT,a.endVideo=r,a.logError=i,a.clientModel=n,a.live=e,a.streamingRulesProvider=o,a.clientModel.register();var u=a.live("spotify:client");return u.query("session(connection, incognito)",function(t,e){t?a.logError("Failed to load client connection:",t):(a.connection_type_start=e.session.connection,a.connection_type_current=e.session.connection,a.incognito=e.session.incognito,u.get("session").on("update",function(t){"connection"in t&&(a.connection_type_current=t.connection),"incognito"in t&&(a.incognito=t.incognito)}))}),a}return f(e,t),e.prototype.onPlaybackCreated=function(e,n,r,i){return h(this,void 0,void 0,function(){var o=this;return d(this,function(a){switch(a.label){case 0:return t.prototype.onPlaybackCreated.call(this,e,n,r,i),e.metadata&&e.metadata[l.END_VIDEO_PREFIX+l.REASON_START]===s.EndVideoReasonEnd.END_APPLOAD?[3,2]:[4,this.updatePendingEndVideo(n)];case 1:a.sent(),a.label=2;case 2:return r.addObserverForPeriodicEvents(15,function(t){o.updatePendingEndVideo(t)}),[2]}})})},e.prototype.onReady=function(e,n,r){return h(this,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:return t.prototype.onReady.call(this,e,n,r),this.unexpectedEndReason=e?s.EndVideoReasonEnd.END_UNEXPECTED_EXIT:s.EndVideoReasonEnd.END_UNEXPECTED_EXIT_WHILE_PAUSED,[4,this.updatePendingEndVideo(n)];case 1:return i.sent(),[2]}})})},e.prototype.onPaused=function(e,n){return h(this,void 0,void 0,function(){return d(this,function(r){switch(r.label){case 0:return t.prototype.onPaused.call(this,e,n),this.unexpectedEndReason=s.EndVideoReasonEnd.END_UNEXPECTED_EXIT_WHILE_PAUSED,[4,this.updatePendingEndVideo(e)];case 1:return r.sent(),[2]}})})},e.prototype.onResumed=function(e,n){return h(this,void 0,void 0,function(){return d(this,function(r){switch(r.label){case 0:return t.prototype.onResumed.call(this,e,n),this.unexpectedEndReason=s.EndVideoReasonEnd.END_UNEXPECTED_EXIT,[4,this.updatePendingEndVideo(e)];case 1:return r.sent(),[2]}})})},e.prototype.onPlaybackEnded=function(e,n,r){return h(this,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:return t.prototype.onPlaybackEnded.call(this,e,n,r),[4,this.createAndUpdateMessage(this.sessionEvents)];case 1:return i.sent(),this.sequenceNumber&&this.endVideo.send(this.sequenceNumber),[2]}})})},e.prototype.createEndVideo=function(){var t=this;return new Promise(function(e,n){t.endVideo.create(function(r,i,o){r&&(t.sequenceNumber=void 0,t.sequenceId=void 0,n(r)),t.sequenceNumber=i,t.sequenceId=o,e({sequenceNumber:i,sequenceId:o})})})},e.prototype.updateEndVideo=function(t){var e=this;return new Promise(function(n,r){e.endVideo.update(e.sequenceNumber,t,function(i){i&&(e.logError("logEndVideo, failed update:",i),r(i)),n(t)})})},e.prototype.endVideoFields=function(){var t;return(t={})[a.EndVideoKeys.SEQUENCE_NUMBER]=this.sequenceNumber,t[a.EndVideoKeys.SEQUENCE_ID]=this.sequenceId,t[a.EndVideoKeys.CONNECTION_TYPE_START]=this.connection_type_start,t[a.EndVideoKeys.CONNECTION_TYPE_END]=this.connection_type_current,t[a.EndVideoKeys.STREAMING_RULE]=this.streamingRulesProvider.streamingRules(),t[a.EndVideoKeys.INCOGNITO_MODE]=this.incognito,t},e.prototype.shouldLogEndVideo=function(t,e){return!(t===s.EndVideoReasonEnd.END_APPLOAD&&e<100)},e.prototype.createAndUpdateMessage=function(t){return h(this,void 0,void 0,function(){var e,n;return d(this,function(r){switch(r.label){case 0:return e=(0,c.generateEndVideoMessage)(t),this.shouldLogEndVideo(e[a.EndVideoKeys.REASON_START],e[a.EndVideoKeys.MS_PLAYED])?this.sequenceNumber?[3,2]:[4,this.createEndVideo()]:[2];case 1:r.sent(),r.label=2;case 2:return n=p({},e,this.endVideoFields()),[4,this.updateEndVideo(n)];case 3:return r.sent(),[2]}})})},e.prototype.updatePendingEndVideo=function(t){return h(this,void 0,void 0,function(){var e;return d(this,function(n){switch(n.label){case 0:return e={timestamp:Date.now(),type:u.default.ENDED,data:{reason:this.unexpectedEndReason,position:t}},[4,this.createAndUpdateMessage(this.sessionEvents.concat([e]))];case 1:return n.sent(),[2]}})})},e}(o.default);e.default=_},nxTg:function(t,e,n){var r=n("+3YS"),i=n("S411"),o=n("+bRE");t.exports=function(t,e){return r(t)||i(t,e)||o()}},nz5p:function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},o0o1:function(t,e,n){t.exports=n("wcNg")},oErA:function(t,e,n){"use strict";(function(e){var r=n("jmIn"),i=e.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(e,"__dbgLoggerRegistry",{value:i}):e.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(t){return!(!i.loggingPredicate||!i.loggingPredicate(t))}var u="log";t.exports={intercept:function(t){if("function"!=typeof t)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=t},unintercept:function(){i.loggingPredicate=null},list:function(t){var e,n,r,i=Object.keys(o);if(i.sort(),t){var a=[];for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(t){u=t;for(var e=a.length;e--;){var n=a[e];n&&n.setLevel(t)}},enableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].enable()},disableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].disable()},forTag:function(t,e){var n,i;if("string"==typeof t?(n=t.toLowerCase(),i=e):(n=t.tag,i=t.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(t){var e=t.toLowerCase();if(o.hasOwnProperty(e)&&o[e]){var n=o[e];o[e]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},oNR1:function(t,e,n){"use strict";n.r(e);var r=n("7L9N"),i=n("mXGw"),o=n.n(i),a=n("W0B4"),s=n.n(a),u=n("nVfp"),c=n("Qmxl"),l=n.n(c),f=n("5R4H"),p=n.n(f),h=1073741823,d=o.a.createContext||function(t,e){var n,r,o="__create-react-context-"+p()()+"__",a=function(t){function n(){var e,n,r;return(e=t.apply(this,arguments)||this).emitter=(n=e.props.value,r=[],{on:function(t){r.push(t)},off:function(t){r=r.filter(function(e){return e!==t})},get:function(){return n},set:function(t,e){n=t,r.forEach(function(t){return t(n,e)})}}),e}l()(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[o]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof e?e(r,i):h,0!=(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}l()(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?h:e},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?h:t},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},_="Invariant failed",y=function(t,e){if(!t)throw new Error(_)},v=n("Fcif"),m=n("O0QU"),g=n.n(m),E=(n("QO3r"),n("+I+c")),b=n("GeWT"),T=n.n(b);n.d(e,"MemoryRouter",function(){return w}),n.d(e,"Prompt",function(){return A}),n.d(e,"Redirect",function(){return L}),n.d(e,"Route",function(){return U}),n.d(e,"Router",function(){return R}),n.d(e,"StaticRouter",function(){return W}),n.d(e,"Switch",function(){return H}),n.d(e,"__RouterContext",function(){return S}),n.d(e,"generatePath",function(){return P}),n.d(e,"matchPath",function(){return M}),n.d(e,"useHistory",function(){return Y}),n.d(e,"useLocation",function(){return z}),n.d(e,"useParams",function(){return X}),n.d(e,"useRouteMatch",function(){return Q}),n.d(e,"withRouter",function(){return K});var S=function(t){var e=d();return e.displayName="Router",e}(),R=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t})),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(S.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(o.a.Component),w=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(u.createMemoryHistory)(e.props),e}return Object(r.a)(e,t),e.prototype.render=function(){return o.a.createElement(R,{history:this.history,children:this.props.children})},e}(o.a.Component),O=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);function A(t){var e=t.message,n=t.when,r=void 0===n||n;return o.a.createElement(S.Consumer,null,function(t){if(t||y(!1),!r||t.staticContext)return null;var n=t.history.block;return o.a.createElement(O,{onMount:function(t){t.release=n(e)},onUpdate:function(t,r){r.message!==e&&(t.release(),t.release=n(e))},onUnmount:function(t){t.release()},message:e})})}var I={},N=1e4,C=0;function P(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(I[t])return I[t];var e=g.a.compile(t);return C<N&&(I[t]=e,C++),e}(t)(e,{pretty:!0})}function L(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(S.Consumer,null,function(t){t||y(!1);var r=t.history,a=t.staticContext,s=i?r.push:r.replace,c=Object(u.createLocation)(e?"string"==typeof n?P(n,e.params):Object(v.default)({},n,{pathname:P(n.pathname,e.params)}):n);return a?(s(c),null):o.a.createElement(O,{onMount:function(){s(c)},onUpdate:function(t,e){var n=Object(u.createLocation)(e.to);Object(u.locationsAreEqual)(n,Object(v.default)({},c,{key:n.key}))||s(c)},to:n})})}var k={},D=1e4,x=0;function M(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=k[n]||(k[n]={});if(r[t])return r[t];var i=[],o={regexp:g()(t,i,e),keys:i};return x<D&&(r[t]=o,x++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],f=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce(function(t,e,n){return t[e.name]=f[n],t},{})}},null)}var U=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(S.Consumer,null,function(e){e||y(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?M(n.pathname,t.props):e.match,i=Object(v.default)({},e,{location:n,match:r}),a=t.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(S.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"==typeof s?s(i):null)})},e}(o.a.Component);function F(t){return"/"===t.charAt(0)?t:"/"+t}function j(t,e){if(!t)return e;var n=F(t);return 0!==e.pathname.indexOf(n)?e:Object(v.default)({},e,{pathname:e.pathname.substr(n.length)})}function B(t){return"string"==typeof t?t:Object(u.createPath)(t)}function V(t){return function(){y(!1)}}function G(){}var W=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return G},e.handleBlock=function(){return G},e}Object(r.a)(e,t);var n=e.prototype;return n.navigateTo=function(t,e){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,a=void 0===o?{}:o;a.action=e,a.location=function(t,e){return t?Object(v.default)({},e,{pathname:F(t)+e.pathname}):e}(i,Object(u.createLocation)(t)),a.url=B(a.location)},n.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,r=t.context,i=void 0===r?{}:r,a=t.location,s=void 0===a?"/":a,c=Object(E.a)(t,["basename","context","location"]),l={createHref:function(t){return F(n+B(t))},action:"POP",location:j(n,Object(u.createLocation)(s)),push:this.handlePush,replace:this.handleReplace,go:V(),goBack:V(),goForward:V(),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(R,Object(v.default)({},c,{history:l,staticContext:i}))},e}(o.a.Component),H=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(S.Consumer,null,function(e){e||y(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?M(i.pathname,Object(v.default)({},t.props,{path:a})):e.match}}),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null})},e}(o.a.Component);function K(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(e){var n=e.wrappedComponentRef,r=Object(E.a)(e,["wrappedComponentRef"]);return o.a.createElement(S.Consumer,null,function(e){return e||y(!1),o.a.createElement(t,Object(v.default)({},r,e,{ref:n}))})};return n.displayName=e,n.WrappedComponent=t,T()(n,t)}var q=o.a.useContext;function Y(){return q(S).history}function z(){return q(S).location}function X(){var t=q(S).match;return t?t.params:{}}function Q(t){return t?M(z().pathname,t):q(S).match}},oPUo:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n("heVN"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("pCvA"))},oShl:function(t,e,n){var r=n("Nsbk"),i=n("SksO"),o=n("xfeJ"),a=n("sXyB");function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(e)}t.exports=s},oZl3:function(t,e,n){"use strict";var r=n("ZIIl");function i(){this.reset()}i.create=function(){return new i},i.prototype.reset=function(){this._sequenceId=r.generateBase64(16),this._sequenceNumbers={}},i.prototype.getSequenceId=function(){return this._sequenceId},i.prototype.nextSequenceNumber=function(t){return this._sequenceNumbers[t]||(this._sequenceNumbers[t]=0),++this._sequenceNumbers[t]},t.exports=i},oafY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.WIDEVINE_STATUS_COMMAND=e.WIDEVINE_DOWNLOAD_COMMAND=void 0;var r=n("8bWK"),i=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a="https://spclient",s=a+".wg.spotify.com/widevine-license/v1/application-certificate";e.WIDEVINE_DOWNLOAD_COMMAND="sp://widevine/v1/download",e.WIDEVINE_STATUS_COMMAND="sp://widevine/v1/status";var u=function(){function t(t,e){var n=this;this.fetchCertificate=function(t,e){return void 0===e&&(e={headers:new Headers}),i(n,void 0,void 0,function(){var n,r,i,s,u,c,l,f,p;return o(this,function(o){switch(o.label){case 0:return n=this.configuration,r=n.getToken,i=n.getWebgateHeaders,[4,r()];case 1:return s=o.sent(),u=s.accessToken,c=s.tokenType,l=c+" "+u,f="string"==typeof t?t:t.url,p=[],0===f.indexOf(a)&&(p=i()),e.headers.append("Authorization",l),p.forEach(function(t){var n=t[0],r=t[1];e.headers.append(n,r)}),[2,fetch(t,e)]}})})},this.state={status:r.WidevineStates.UNKNOWN_STATUS,message:""},this.subscription=null,this.callbacks=[],this.configuration=t,this.cosmos=e}return t.prototype.startWatchingStatus=function(){var t=this;this.subscription||(this.subscription=this.cosmos.sub("sp://widevine/v1/status",function(e){t.state=e,t.callbacks.forEach(function(e){e&&(t.state.status===r.WidevineStates.SUCCESS?e(null,t.state):t.isFinalErrorState(t.state)&&e(t.makeError(t.state),null))}),(t.state.status===r.WidevineStates.SUCCESS||t.isFinalErrorState(t.state))&&(t.subscription&&(t.subscription.cancel(),t.subscription=null),t.callbacks=t.callbacks.map(function(){return null}))},function(e){t.state={status:r.WidevineStates.DOWNLOAD_FAILED,message:e.toString()}}))},t.prototype.isFinalErrorState=function(t){switch(t.status){case r.WidevineStates.REGISTRATION_FAILED:case r.WidevineStates.REGISTRATION_NOT_ALLOWED:case r.WidevineStates.DOWNLOAD_FAILED:case r.WidevineStates.MAX_RETRIES:return!0;default:return!1}},t.prototype.makeError=function(t){var e=new Error(t.message);return e.name="WidevineDownloaderError",e.status=t.status,e},t.prototype.pollStatus=function(t,e){var n=this,i=performance.now()+t;switch(this.state.status){case r.WidevineStates.SUCCESS:return void e(null,this.state);case r.WidevineStates.REGISTRATION_FAILED:case r.WidevineStates.REGISTRATION_NOT_ALLOWED:case r.WidevineStates.DOWNLOAD_FAILED:case r.WidevineStates.MAX_RETRIES:return void e(this.makeError(this.state),null);case r.WidevineStates.INSTALL_DELAYED:case r.WidevineStates.INSTALL_NOT_STARTED:this.cosmos.post("sp://widevine/v1/download");break;case r.WidevineStates.INSTALL_REQUESTED:case r.WidevineStates.INSTALL_IN_PROGRESS:}var o=this.callbacks.length;this.callbacks.push(function(t,r){performance.now()<i&&(n.callbacks[o]=null,e(t,r))}),setTimeout(function(){n.callbacks[o]&&(n.callbacks[o]=null,e(n.makeError({status:r.WidevineStates.TIMEOUT_EXCEEDED,message:"Widevine download did not reach final state before timeout. Try again."})))},t)},t.prototype.reset=function(){this.state={status:r.WidevineStates.UNKNOWN_STATUS,message:""},this.subscription&&(this.subscription.cancel(),this.subscription=null),this.callbacks=this.callbacks.map(function(){return null})},t.prototype.downloadLicenseCertificate=function(){return i(this,void 0,void 0,function(){var t,e;return o(this,function(n){switch(n.label){case 0:return[4,this.fetchCertificate(s)];case 1:return(t=n.sent()).ok?[4,t.arrayBuffer()]:[3,3];case 2:return e=n.sent(),[2,new Uint8Array(e)];case 3:throw new Error("Network response was not ok.")}})})},t}();e.default=u},ohJu:function(t,e,n){"use strict";var r=n("pPJX");function i(t,e,n){Error.call(this,t);var i=n||{};this.code=t||r.DEALER_ERROR,this.raw=i,this.wsReason=i.reason||null,this.wsCode=i.code||null}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="DealerError",t.exports=i},ovh1:function(t,e,n){"use strict";var r=n("5QbJ"),i=n("nz5p"),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},p1y8:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({UNKNOWN:"unknown",COMPUTER:"computer",TABLET:"tablet",SMARTPHONE:"smartphone",SPEAKER:"speaker",TV:"tv",AVR:"avr",STB:"stb",AUDIO_DONGLE:"audio_dongle",GAME_CONSOLE:"game_console",CAST_VIDEO:"cast_video",CAST_AUDIO:"cast_audio",AUTOMOBILE:"automobile",SMARTWATCH:"smartwatch"})},p1yM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleBlur=u,e.handleFocus=c,e.markForFocusLater=function(){o.push(document.activeElement)},e.returnFocus=function(){try{return void(0!==o.length&&o.pop().focus())}catch(t){}},e.popWithoutFocus=function(){o.length>0&&o.pop()},e.setupScopedFocus=function(t){a=t,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},e.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var r,i=(r=n("XrU5"))&&r.__esModule?r:{default:r},o=[],a=null,s=!1;function u(){s=!0}function c(){if(s){if(s=!1,!a)return;setTimeout(function(){a.contains(document.activeElement)||((0,i.default)(a)[0]||a).focus()},0)}}},pCvA:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},pHF5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dumpClassLists=function(){};var r={},i={};e.add=function(t,e){return n=t.classList,o="html"==t.nodeName.toLowerCase()?r:i,void e.split(" ").forEach(function(t){!function(t,e){t[e]||(t[e]=0),t[e]+=1}(o,t),n.add(t)});var n,o},e.remove=function(t,e){return n=t.classList,o="html"==t.nodeName.toLowerCase()?r:i,void e.split(" ").forEach(function(t){!function(t,e){t[e]&&(t[e]-=1)}(o,t),0===o[t]&&n.remove(t)});var n,o}},pPJX:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({DEALER_CONNECTION_ERROR:"DEALER_CONNECTION_ERROR",DEALER_AUTHENTICATION_FAILED:"DEALER_AUTHENTICATION_FAILED",DEALER_ERROR:"DEALER_ERROR",HTTP_REQUEST_FAILED:"HTTP_REQUEST_FAILED",LOGGING_REQUEST_FAILED:"LOGGING_REQUEST_FAILED",TRANSPORT_ENDPOINTS_PROVIDER_ERROR:"TRANSPORT_ENDPOINTS_PROVIDER_ERROR",TRANSPORT_INVALID_TOKEN:"TRANSPORT_INVALID_TOKEN",TRANSPORT_TOKEN_PROVIDER_ERROR:"TRANSPORT_TOKEN_PROVIDER_ERROR",TRANSPORT_LIFECYCLE_DISABLED:"TRANSPORT_LIFECYCLE_DISABLED",XRESOLVE_INCOMPLETE_RESPONSE:"XRESOLVE_INCOMPLETE_RESPONSE",XRESOLVE_INVALID_RESPONSE:"XRESOLVE_INVALID_RESPONSE",XRESOLVE_REQUEST_FAILED_WITH_STATUS:"XRESOLVE_REQUEST_FAILED_WITH_STATUS"})},pRMk:function(t,e,n){var r=n("qykS"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},pVnL:function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},pifV:function(t,e,n){"use strict";var r=n("mpLd");t.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},pm3V:function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},q4CX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INTERNAL_WEBGATE_URL="https://wgint.spotify.net"},q4vS:function(t,e,n){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},q6sp:function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError(r+e);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=e.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,a.concat(i.call(arguments)))},u=Math.max(0,e.length-a.length),c=[],l=0;l<u;l++)c.push("$"+l);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},qED0:function(t,e,n){"use strict";t.exports=function(){}},qG8n:function(t,e,n){"use strict";var r=n("nYr0"),i=n("fTkg"),o="add:",a="remove:";function s(t,e,n){for(var r=t.length;r--;){var i=t[r];if(i.listener===e&&!!i.options.once==!!n.once)return r}return-1}function u(){this._listenerMap={}}u.createEvent=function(t,e){if(!t)throw new TypeError("Cannot create event with empty type.");return new i(t,e)},u.prototype.on=function(t,e,n){if(!t)throw new TypeError("Cannot add event listener with empty type.");if(!e)return this;var r=n||{once:!1},i=this._listenerMap||(this._listenerMap={}),a=i[t]||(i[t]=[]);if(-1!==s(a,e,r))return this;var u=o+t;return i[u]&&i[u].length&&this.emitSync(u,{listener:e,options:r}).defaultPrevented?this:(a.push({listener:e,options:r}),this)},u.prototype.once=function(t,e){if(!t)throw new TypeError("Cannot add once listener with empty type.");return e.$added_once=!0,this.on(t,e,{once:!0}),e},u.prototype.addListeners=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.on(n,t[n],e);return this},u.prototype.removeListener=function(t,e,n){if(!t)throw new TypeError("Cannot remove event listener with empty type.");if(!e)return this;var r=this._listenerMap,i=r&&r[t];if(!i)return this;var o=n||{once:e.$added_once||!1},u=s(i,e,o);if(-1===u)return this;var c=a+t;return r[c]&&r[c].length&&this.emitSync(c,{listener:e,options:o,remainingLength:i.length-1}).defaultPrevented?this:(i.splice(u,1),i.length||(r[t]=null),this)},u.prototype.removeAllListeners=function(t){var e=this._listenerMap;return e?void 0===t?(this._listenerMap={},this):(e[t]=null,this):this},u.prototype.removeListeners=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.removeListener(n,t[n],e);return this},u.prototype.addListener=function(t,e,n){return this.on(t,e,n)},u.prototype.addOnceListener=function(t,e){return this.on(t,e,{once:!0})},u.prototype.emit=function(t,e){if(!t)throw new TypeError("Cannot emit empty type event.");var n=new i(t,e);return r(function(){this.emitEventSync(n)}.bind(this)),n},u.prototype.emitAndWait=function(t,e,n){if(!t)throw new TypeError("Cannot emit empty type event.");var o=new i(t,e);return r(function(){this.emitEventSync(o),"function"==typeof n&&n(o)}.bind(this)),o},u.prototype.emitEvent=function(t){return r(function(){this.emitEventSync(t)}.bind(this)),t},u.prototype.emitEventAndWait=function(t,e){return r(function(){this.emitEventSync(t),"function"==typeof e&&e(t)}.bind(this)),t},u.prototype.emitSync=function(t,e){var n=new i(t,e);return this.emitEventSync(n),n},u.prototype.emitEventSync=function(t){var e=t.type,n=this._listenerMap,r=n&&n[e];if(!r||!r.length)return t;for(var o=0,a=(r=r.slice(0)).length;o<a;o++){var s=r[o];if(s.options.once&&this.removeListener(e,s.listener,s.options),s.listener.call(this,t),i.wasImmediatePropagationStopped(t))break}return t},u.prototype.proxyEmit=function(t,e,n){if(!t||"function"!=typeof t.on)throw new TypeError("Source must be an EventEmitter");if(t===this)throw new ReferenceError("Cannot create a recursive proxy.");if(!e||!n)throw new TypeError("Parameters sourceType and proxyType are required.");var r=this.emit.bind(this,n);return t.on(e,r),r},u.prototype.proxyEmitSync=function(t,e,n){if(!t||"function"!=typeof t.on)throw new TypeError("Source must be an EventEmitter");if(t===this)throw new ReferenceError("Cannot create a recursive proxy.");if(!e||!n)throw new TypeError("Parameters sourceType and proxyType are required.");var r=this.emitSync.bind(this,n);return t.on(e,r),r},u.prototype.onAddListener=function(t,e){return this.on(o+t,e),this},u.prototype.onRemoveListener=function(t,e){return this.on(a+t,e),this},t.exports=u},qMTF:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("OvAC")),o=r(n("SDJZ")),a=r(n("NToG")),s=n("ZCJg"),u=r(n("Pe5/")),c=r(n("ep0v")),l=function(){function t(e){(0,o.default)(this,t),t.validate(e);var n=e.version,r=e.properties;this.version=n,this.properties=r}return(0,a.default)(t,[{key:"getResolverProperties",value:function(){return this.properties.map(function(t){var e={name:t.name};return t.boolSpec&&(e.boolValue={value:t.boolSpec.default}),t.enumSpec&&(e.enumValue={value:t.enumSpec.default}),t.intSpec&&(e.intValue={value:t.intSpec.default}),e})}},{key:"getPropertySetKey",value:function(t){var e={version:this.version,properties:this.properties.reduce(function(e,n){var r=n.name,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(n,["name"]);return Object.assign(Object.assign({},e),(0,i.default)({},r,Object.assign({componentId:t},o)))},{})};return(0,c.default)(e)}},{key:"validatePropertyValues",value:function(){}}],[{key:"validate",value:function(t){if(!t)throw new Error("properties are not defined!");var e=(0,s.createCheckers)(u.default).RCProperties;try{e.strictCheck(t)}catch(t){throw new Error("Validation error in properties: ".concat(t.message))}}}]),t}();e.default=l},qNx8:function(t,e,n){"use strict";function r(t,e,n){Error.call(this),this.message=e,this.code=t,this.status=n||0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="LoggingError",t.exports=r},qPUP:function(t,e,n){"use strict";var r=n("asuC"),i=Array.prototype.slice,o={threshold:1e3,timestamp:0,blockInitial:!1};function a(t,e){var n=e||{};this._fn=t,this._cancelFn=n.cancel||null,this._threshold=n.threshold||o.threshold,this._ts=n.initialTimetamp||o.timestamp,this._blockInital=n.blockInitial||o.blockInitial,this._deferredTimer=null,this.sync=this.sync.bind(this),this.async=this.async.bind(this)}a.prototype._deferFn=function(t){this._fn.apply(this._fn,t)},a.prototype._deferPromise=function(t,e){this._fn.apply(this._fn,t).then(function(t){e.resolve(t)})},a.prototype.sync=function(){var t=i.call(arguments),e=Date.now()-this._ts;if(this._ts=Date.now(),e<this._threshold)return this._cancelFn&&this._deferredTimer&&this._cancelFn(),clearTimeout(this._deferredTimer),void(this._deferredTimer=setTimeout(this._deferFn.bind(this,t),this._threshold));!0!==this._blockInital?this._fn.apply(this._fn,t):this.sync.apply(this,t)},a.prototype.async=function(){var t=i.call(arguments),e=Date.now()-this._ts;if(this._ts=Date.now(),e<this._threshold){this._cancelFn&&this._deferredTimer&&this._cancelFn(),clearTimeout(this._deferredTimer);var n=r.defer();return this._deferredTimer=setTimeout(this._deferPromise.bind(this,t,n),this._threshold),n.promise}return!0===this._blockInital?this.async.apply(this,t):this._fn.apply(this._fn,t)},a.prototype.setCancel=function(t){this._cancelFn=t},t.exports=a},qW4K:function(t,e,n){"use strict";var r=16,i=Array.prototype.slice;function o(t,e,n){this.tag=t,this.description=e,this._predicate=n,this._tagParts=t.split("."),this._tagText="["+t+"]","true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?this._enabled=!0:this._enabled=!1,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}o.prototype.matchesTag=function(t){var e=Array.isArray(t)?t:t.split("."),n=this._tagParts;if(e.length>n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(("*"!==e[r]||!n[r])&&e[r]!==n[r])return!1;return!0},o.prototype.setLevel=function(t){var e=0;switch(t){case"error":e=r;break;case"warn":e=24;break;case"info":e=28;break;case"debug":e=30;break;case"log":default:e=31}this._level=e},o.prototype.enable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!0)},o.prototype.disable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!1)},o.prototype.log=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||1&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"log",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.debug=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||2&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"debug",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.info=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||4&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"info",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.warn=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||8&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"warn",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.error=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||this._level&r))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"error",tag:this.tag,args:t});if(this._predicate(e))return}},t.exports=o},qg8E:function(t,e,n){"use strict";(function(t){var r=n("63Ad"),i=r(n("NthX")),o=r(n("SDJZ")),a=r(n("NToG"));Object.defineProperty(e,"__esModule",{value:!0}),e.MetricTypes={COUNTER:"counter",GAUGE:"gauge",METER:"meter",TIMER:"timer"};var s=function(){function t(){(0,o.default)(this,t)}return(0,a.default)(t,null,[{key:"init",value:function(e){t.config=e}}]),t}();e.sendMetric=function(t){return function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,i.default.mark(function e(){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.config){e.next=2;break}throw new Error("SemanticMetrics has not been initialized");case 2:if(!0!==s.config.dev){e.next=4;break}return e.abrupt("return");case 4:if(t.key=s.config.key||"website",s.config.app&&(t.tags=Object.assign({},t.tags,{app:s.config.app})),e.prev=6,!Array.isArray(s.config.reporter)){e.next=13;break}return n=s.config.reporter.map(function(e){return e.send(t)}),e.next=11,Promise.all(n);case 11:e.next=15;break;case 13:return e.next=15,s.config.reporter.send(t);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(6),e.t0;case 20:return e.abrupt("return");case 21:case"end":return e.stop()}},e,null,[[6,17]])}))},e.default=s}).call(this,n("5IsQ"))},qt0y:function(t,e,n){"use strict";var r=n("jnqd");t.exports=r({CAPPING_USER_IS_CAPPED:"CAPPING_USER_IS_CAPPED",EME_API_NOT_SUPPORTED:"EME_API_NOT_SUPPORTED",EME_MEDIA_KEYS_NOT_SUPPORTED:"EME_MEDIA_KEYS_NOT_SUPPORTED",EME_MEDIA_KEY_SESSION_NOT_SUPPORTED:"EME_MEDIA_KEY_SESSION_NOT_SUPPORTED",EME_NO_SUPPORTED_KEYSYSTEM:"EME_NO_SUPPORTED_KEYSYSTEM",EME_PLAYER_MEDIA_KEYS_SETTING_FAILED:"EME_PLAYER_MEDIA_KEYS_SETTING_FAILED",EME_ERROR_UNKNOWN:"EME_ERROR_UNKNOWN",EME_LICENSE_REQUEST_EMPTY_RESPONSE:"EME_LICENSE_REQUEST_EMPTY_RESPONSE",EME_LICENSE_REQUEST_FAILED_WITH_STATUS:"EME_LICENSE_REQUEST_FAILED_WITH_STATUS",EME_LICENSE_REQUEST_WIDEVINE_ERROR:"EME_LICENSE_REQUEST_WIDEVINE_ERROR",EME_LICENSE_UPDATE_FAILED:"EME_LICENSE_UPDATE_FAILED",EME_HEADER_KEY_VALUE_MISMATCH:"EME_HEADER_KEY_VALUE_MISMATCH",EME_HEADER_MISSING_CHALLENGE:"EME_HEADER_MISSING_CHALLENGE",EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM:"EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM",EME_MEDIA_KEY_SESSION_V0_1B_ERROR:"EME_MEDIA_KEY_SESSION_V0_1B_ERROR",EME_NO_SUPPORTED_CONFIGURATION:"EME_NO_SUPPORTED_CONFIGURATION",EME_NOT_SUPPORTED_ERROR:"EME_NOT_SUPPORTED_ERROR",EME_INVALID_STATE_ERROR:"EME_INVALID_STATE_ERROR",EME_UNKNOWN_ERROR:"EME_UNKNOWN_ERROR",DISALLOW_PROTECTED_TRACK_ERROR:"DISALLOW_PROTECTED_TRACK_ERROR",FILE_FORMAT_NOT_SUPPORTED:"FILE_FORMAT_NOT_SUPPORTED",FILE_MALFORMED_SEEKTABLE:"FILE_MALFORMED_SEEKTABLE",FILE_MALFORMED_PSSH:"FILE_MALFORMED_PSSH",FILE_NOT_RESOLVED:"FILE_NOT_RESOLVED",FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO:"FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO",FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO:"FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO",FRAGMENT_REQUEST_FAILED_WITH_ZERO:"FRAGMENT_REQUEST_FAILED_WITH_ZERO",FRAGMENT_REQUEST_FAILED_WITH_STATUS:"FRAGMENT_REQUEST_FAILED_WITH_STATUS",FRAGMENT_REQUEST_EMPTY_RESPONSE:"FRAGMENT_REQUEST_EMPTY_RESPONSE",FRAGMENT_REQUEST_UNEXPECTED_LENGTH:"FRAGMENT_REQUEST_UNEXPECTED_LENGTH",PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE:"PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE",PLAYER_BUFFER_QUOTA_EXCEEDED:"PLAYER_BUFFER_QUOTA_EXCEEDED",PLAYER_CANNOT_FIND_PLAYABLE_URI:"PLAYER_CANNOT_FIND_PLAYABLE_URI",PLAYER_MEDIA_ERROR:"PLAYER_MEDIA_ERROR",PLAYER_PLAYBACK_ERROR:"PLAYER_PLAYBACK_ERROR",MEDIA_ABORTED:"MEDIA_ABORTED",MEDIA_DECODING_ERROR:"MEDIA_DECODING_ERROR",MEDIA_NETWORK_ERROR:"MEDIA_NETWORK_ERROR",MEDIA_NOT_SUPPORTED:"MEDIA_NOT_SUPPORTED",LICENSE_RESOLVER_CANT_RESOLVE_URL:"LICENSE_RESOLVER_CANT_RESOLVE_URL",LICENSE_RESOLVER_DEPRECATED_VERSION:"LICENSE_RESOLVER_DEPRECATED_VERSION",LIST_PLAYER_NO_TRACK_PLAYER:"LIST_PLAYER_NO_TRACK_PLAYER",LIST_PLAYER_NO_LIST:"LIST_PLAYER_NO_LIST",LIST_PLAYER_INVALID_ARGUMENT:"LIST_PLAYER_INVALID_ARGUMENT",LIST_PLAYER_FORBIDDEN:"LIST_PLAYER_FORBIDDEN",STORAGE_ERROR:"STORAGE_ERROR",STORAGE_FAILED_WITH_STATUS:"STORAGE_FAILED_WITH_STATUS",STORAGE_RETURNED_NO_TRACKS:"STORAGE_RETURNED_NO_TRACKS",STORAGE_TRACK_MANIFEST_FAILED:"STORAGE_TRACK_MANIFEST_FAILED",STORAGE_TRACK_MANIFEST_EMPTY:"STORAGE_TRACK_MANIFEST_EMPTY",STORAGE_VIDEO_MANIFEST_FAILED:"STORAGE_VIDEO_MANIFEST_FAILED",TRACK_DATA_ALREADY_FINALIZED:"TRACK_DATA_ALREADY_FINALIZED",TSV_SENDING_FAILED:"TSV_SENDING_FAILED",PLAYBACK_STATS_SENDING_FAILED:"PLAYBACK_STATS_SENDING_FAILED",PLAYBACK_START_SENDING_FAILED:"PLAYBACK_START_SENDING_FAILED",UNKNOWN:"UNKNOWN"})},qykS:function(t,e,n){"use strict";(function(t){var r=n("KlUR"),i=n("FaXh"),o=n("kah5");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return w(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(c(t,o+p)!==c(e,p)){f=!1;break}if(f)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return W(V(e,t.length-n),t,n,r)}function b(t,e,n,r){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return b(t,e,n,r)}function S(t,e,n,r){return W(G(e),t,n,r)}function R(t,e,n,r){return W(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function w(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):_.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function N(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function x(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||M(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||M(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||k(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||k(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):x(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):x(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):x(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):x(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:V(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n("pCvA"))},r3Ta:function(t,e,n){"use strict";t.exports={CLOSE:4e3,TIMEOUT:4001}},rAIa:function(t,e,n){"use strict";var r=n("oZl3"),i=n("JzJP"),o=n("lIgl"),a=n("G5gT").Event,s=n("KF7U"),u=n("gLbv"),c=n("YDM6"),l=n("kK6u"),f=n("asuC"),p=l.forTag("EventSender"),h=200,d=3e5,_=18e5;function y(t){var e=t||{};this._transport=e.transport,this._upload=this._upload.bind(this),this._shouldRetry=this._shouldRetry.bind(this),this._uploadWaiting=!1,this._sequenceIdGenerator=r.create(),this._uploader=i.create({enableDebugInfo:e.enableDebugInfo,suppressPersist:e.suppressPersist,transport:this._transport}),this._contextCreators=e.context||[];for(var n=0,o=this._contextCreators.length;n<o;n++)if("function"!=typeof this._contextCreators[n])throw new Error("The context creator at index "+n+" is not a function");this._contextCreators.push(s),this._contextCreators.push(u),e.clientId&&this._contextCreators.push(c(e.clientId)),this._refreshing=!1,this._events=[],this._backoffBaseTime=e.baseTime||h,this._backoffCeiling=e.ceiling||d,this._backoffMaxDuration=e.maxDuration||_,this._transport.on(a.TRANSPORT_BEFORE_ONLINE_DISCONNECT,this._onBeforeDisconnect.bind(this))}y.create=function(t){return new y(t)},y.prototype._onBeforeDisconnect=function(t){t.awaitPromise(this._uploader.lastUpload(this._events.splice(0)))},y.prototype._shouldRetry=function(){return this._transport.isOnline()&&!this._refreshing},y.prototype._initFlush=function(){var t=this._backoffBaseTime,e=!1;return this._uploader.shouldBackoff()&&(t=this._backoffCeiling,e=!0),o.init(this._upload,{algo:"exp",baseTime:t,ceiling:this._backoffCeiling,maxDuration:this._backoffMaxDuration,backoffInitial:e,retryPredicate:this._shouldRetry})},y.prototype._waitForConnection=function(){return new f(function(t){this._transport.once(a.TRANSPORT_CONNECTION_ONLINE,t)}.bind(this))},y.prototype.flush=function(){return this._transport.isOnline()||this._ongoingUpload||(this._ongoingUpload=this._waitForConnection()),this._ongoingUpload?(this._uploadWaiting||(this._uploadWaiting=!0,this._ongoingUpload=this._ongoingUpload.then(function(){return this._ongoingUpload=!1,this._uploadWaiting=!1,this.flush()}.bind(this))),this._ongoingUpload):this._events.length?(this._ongoingUpload=this._initFlush().then(function(t){return this._ongoingUpload=void 0,t}.bind(this)).catch(function(){return this._ongoingUpload=void 0,this._transport.isOnline()?(this._refreshing||(p.warn("The events in the queue could not be uploaded. Throwing away "+this._events.length+" events."),this._events=[]),{nack:this._events,backoff:this._uploader.shouldBackoff()}):this.flush()}.bind(this)),this._ongoingUpload):f.resolve({nack:this._events,backoff:this._uploader.shouldBackoff()})},y.prototype._upload=function(){return this._uploader.upload(this._events.splice(0)).then(function(t){if(t.nack.length)throw this._events=t.nack.concat(this._events),new Error("Backoff requested");return t}.bind(this))},y.prototype.log=function(t,e){var n={sequence_id:this._sequenceIdGenerator.getSequenceId(),sequence_number:this._sequenceIdGenerator.nextSequenceNumber(t.name),event_name:t.name};n.fragments={message:t.data};for(var r=0,i=this._contextCreators.length;r<i;r++){var o=this._contextCreators[r].call(this);n.fragments[o.name]=o.data}this._events.push(n),!1!==e&&this.flush()},y.prototype.refresh=function(){return this._sequenceIdGenerator.reset(),this._refreshing=!0,this.flush().then(function(){return this._transport.forceTokenRefresh().then(function(t){return this._refreshing=!1,t}.bind(this))}.bind(this)).catch(function(t){return p.warn("Could not flush using cached token",t),this._refreshing=!1,!0}.bind(this))},t.exports=y},rIo0:function(t,e,n){"use strict";function r(t,e){Error.call(this,e),this.code=t,this.message=e,this.status=-1,this.debug={},this.canPlayNext=!0}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="LicenseError",r.prototype.fatal=function(){return this.unrecoverable=!0,this},t.exports=r},rKUl:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},rNOt:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h});var r=n("bb6g"),i=n("3ZRO"),o=n("HhP1"),a=n("UYf4"),s=3,u=function(){function t(t,e,n){void 0===e&&(e=new a.a),void 0===n&&(n=s),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}return t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,r.d(n,[o.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=a.a.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(i.k)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,r.a({},o,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=Object(i.k)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(t){s=t}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,r.a({},a,{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(i.k)();return this._invokeClient("captureEvent",t,r.a({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var o=n.client.getOptions&&n.client.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,u=o.maxBreadcrumbs,c=void 0===u?30:u;if(!(c<=0)){var l=(new Date).getTime()/1e3,f=r.a({timestamp:l},t),p=s?Object(i.c)(function(){return s(f,e)}):f;null!==p&&n.scope.addBreadcrumb(p,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=l(this);try{t(this)}finally{l(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return o.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.traceHeaders=function(){var t=this.getStackTop();if(t.scope&&t.client){var e=t.scope.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}},t}();function c(){var t=Object(i.f)();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function l(t){var e=c(),n=h(e);return d(e,t),n}function f(){var e=c();return p(e)&&!h(e).isOlderThan(s)||d(e,new u),Object(i.i)()?function(e){try{var n=Object(i.d)(t,"domain").active;if(!n)return h(e);if(!p(n)||h(n).isOlderThan(s)){var r=h(e).getStackTop();d(n,new u(r.client,a.a.clone(r.scope)))}return h(n)}catch(t){return h(e)}}(e):h(e)}function p(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function h(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new u,t.__SENTRY__.hub)}function d(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}}).call(this,n("Ono3")(t))},rrCd:function(t,e,n){"use strict";var r=n("mpLd");t.exports=r({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"})},s2Nl:function(t,e,n){"use strict";var r=n("d8l3");t.exports=r({UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505})},s4Wf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=void 0;var r,i=((r=n("K/xo"))&&r.__esModule?r:{default:r}).default,o=i.canUseDOM?window.HTMLElement:{};e.canUseDOM=i.canUseDOM,e.default=o},sJ0o:function(t,e,n){"use strict";e.Event=n("E6BA"),e.Method=n("7jkd"),e.StatusCode=n("Mj+E"),e.StatusFamily=n("27+M");var r=n("06ib");e.INTERNAL_SOCKET_CLOSE_CODE=r.CLOSE,e.Endpoints,e.EndpointsProvider,e.TokenProvider,e.SessionProviders,e.SessionConfig,e.HTTPURI,e.HTTPArgs,e.HTTPResponse,e.DealerMessage,e.ClientEventData},sOO9:function(t,e,n){(function(t){var r=n("ANQQ"),i=n("3mKH"),o=n("1hwd"),a=n("HrKg"),s=n("so/P"),u=e;u.request=function(e,n){e="string"==typeof e?s.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,u=e.hostname||e.host,c=e.port,l=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new r(e);return n&&f.on("response",n),f},u.get=function(t,e){var n=u.request(t,e);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("pCvA"))},sXyB:function(t,e,n){var r=n("SksO");function i(e,n,o){return function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=i=Reflect.construct:t.exports=i=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},i.apply(null,arguments)}t.exports=i},si8C:function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},sndc:function(t,e,n){"use strict";var r=n("MtVP"),i=n("xPWU"),o=n("WP9l"),a=n("zPoa"),s=n("p1y8"),u=n("ExtB"),c=n("4zCw"),l=n("mmnt"),f=n("cmty"),p=n("d7mV"),h=n("19zf");t.exports={Client:i,Streamer:o,Controller:a,DeviceType:s,Event:u,Error:c,ErrorSource:l,KeySystem:f,RepeatMode:p,Robustness:h,create:function(t){var e=t||{};e.hidden&&(e.client.hidden=!0),e.hidden&&!e.onlyLocalState?e.client.playTokenLostBehavior="stop":e.client.playTokenLostBehavior="pause";var n=i.create(e.client),s=null,u=e.streamer||{},c=e.controller||{};u.disabled?(e.hidden=!0,e.onlyLocalState=!1,e.claimInactivePlayerStates=!1,c.enableWithoutStreamer=!0):(s=o.forClient(n,u),c.autoregister=!1,e.onlyLocalState&&(e.preferControllerState=!1,c.decorateTrackWindow=!1,c.disableProgress=!0));var l=a.forClient(n,c);return r.create({client:n,streamer:s,controller:l,hidden:e.hidden,onlyLocalState:e.onlyLocalState,preferControllerState:e.preferControllerState,claimInactivePlayerStates:e.claimInactivePlayerStates,disconnectBeforeUnload:e.disconnectBeforeUnload,enableControllerWithoutStreamer:c.enableWithoutStreamer})}}},"so/P":function(t,e,n){"use strict";var r=n("lphy"),i=n("wjI5");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=g(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n("UKnr");function g(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var g=t=c.join(s);if(g=g.trim(),!n&&1===t.split("#").length){var E=u.exec(g);if(E)return this.path=g,this.href=g,this.pathname=E[1],E[2]?(this.search=E[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=a.exec(g);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,g=g.substr(b.length)}if(n||b||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===g.substr(0,2);!S||b&&y[b]||(g=g.substr(2),this.slashes=!0)}if(!y[b]&&(S||b&&!v[b])){for(var R,w,O=-1,A=0;A<p.length;A++)-1!==(I=g.indexOf(p[A]))&&(-1===O||I<O)&&(O=I);for(-1!==(w=-1===O?g.lastIndexOf("@"):g.lastIndexOf("@",O))&&(R=g.slice(0,w),g=g.slice(w+1),this.auth=decodeURIComponent(R)),O=-1,A=0;A<f.length;A++){var I;-1!==(I=g.indexOf(f[A]))&&(-1===O||I<O)&&(O=I)}-1===O&&(O=g.length),this.host=g.slice(0,O),g=g.slice(O),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var C=this.hostname.split(/\./),P=(A=0,C.length);A<P;A++){var L=C[A];if(L&&!L.match(h)){for(var k="",D=0,x=L.length;D<x;D++)L.charCodeAt(D)>127?k+="x":k+=L[D];if(!k.match(h)){var M=C.slice(0,A),U=C.slice(A+1),F=L.match(d);F&&(M.push(F[1]),U.unshift(F[2])),U.length&&(g="/"+U.join(".")+g),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!_[T])for(A=0,P=l.length;A<P;A++){var V=l[A];if(-1!==g.indexOf(V)){var G=encodeURIComponent(V);G===V&&(G=escape(V)),g=g.split(V).join(G)}}var W=g.indexOf("#");-1!==W&&(this.hash=g.substr(W),g=g.slice(0,W));var H=g.indexOf("?");if(-1!==H?(this.search=g.substr(H),this.query=g.substr(H+1),e&&(this.query=m.parse(this.query)),g=g.slice(0,H)):e&&(this.search="",this.query={}),g&&(this.pathname=g),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var K=this.search||"";this.path=j+K}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var h=f[p];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var _=n.pathname||"",m=n.search||"";n.path=_+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),E=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=E||g||n.host&&t.pathname,T=b,S=n.pathname&&n.pathname.split("/")||[],R=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(R&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),b=b&&(""===d[0]||""===S[0])),E)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return R&&(n.hostname=n.host=S.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=S.slice(-1)[0],O=(n.host||t.host||S.length>1)&&("."===w||".."===w)||""===w,A=0,I=S.length;I>=0;I--)"."===(w=S[I])?S.splice(I,1):".."===w?(S.splice(I,1),A++):A&&(S.splice(I,1),A--);if(!b&&!T)for(;A--;A)S.unshift("..");!b||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var N,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);return R&&(n.hostname=n.host=C?"":S.length?S.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),(b=b||n.host&&S.length)&&!C&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},soc2:function(t,e,n){"use strict";var r=n("pRMk").Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},sqiZ:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("8Pwi"),s=n("qt0y"),u=n("tCOP"),c=n("9O1+"),l=n("uDox").forTag("eme_polyfill.v0_1b");function f(t){var e=this.mediaKeys;return e&&e!==t&&e.detach(this),delete this.mediaKeys,this.mediaKeys=t,t&&t.attach(this),o.resolve()}function p(t,e,n){if(this.keySystem=t,this._configuration=null,this._prefix=n,!this._checkConfig(e))throw new u(s.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations")}function h(t,e){this._keySystem=t,this._prefix=e,this._mediaElement=null,this._waitingForSessionIds=[],this._sessionMap={},this.shouldRefreshPerTrack=!0,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}function d(t,e,n){i.call(this),this._keySystem=t,this._mediaElement=e,this._prefix=n,this._lastUpdateDeferred=null,this._lastGenerateDeferred=null,this.sessionId=null,this.addEventListener=this.addListener,this.removeEventListener=this.removeListener}p.prototype._checkConfig=function(t){for(var e=this.keySystem,n=document.createElement("video"),r=0,i=t.length;r<i;r++){var o,a,s,u,c=t[r],l={initDataTypes:c.initiDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"],label:c.label},f=!1;if(c.audioCapabilities&&c.audioCapabilities.length)for(f=!1,o=0,a=c.audioCapabilities.length;o<a;o++)u=(s=c.audioCapabilities[o]).contentType.split(";")[0],n.canPlayType(u,e)&&(l.audioCapabilities.push(s),f=!0);if(c.videoCapabilities&&c.videoCapabilities.length)for(f=!1,o=0,a=c.videoCapabilities.length;o<a;o++)u=(s=c.videoCapabilities[o]).contentType,n.canPlayType(u,e)&&(l.videoCapabilities.push(s),f=!0);if(f)return this._configuration=l,!0}return!1},p.prototype.getConfiguration=function(){return this._configuration},p.prototype.createMediaKeys=function(){var t=this.keySystem,e=this._prefix;return new o(function(n){n(new h(t,e))})},h.prototype.attach=function(t){this._mediaElement=t;var e=this._prefix;t.addEventListener(e+a.V0_1B_NEEDKEY,c),t.addEventListener(e+a.V0_1B_KEY_ADDED,this._onKeyAdded),t.addEventListener(e+a.V0_1B_KEY_ERROR,this._onKeyError),t.addEventListener(e+a.V0_1B_KEY_MESSAGE,this._onKeyMessage)},h.prototype.detach=function(t){this._mediaElement=null;var e=this._prefix;t.removeEventListener(e+a.V0_1B_NEEDKEY,c),t.removeEventListener(e+a.V0_1B_KEY_ADDED,this._onKeyAdded),t.removeEventListener(e+a.V0_1B_KEY_ERROR,this._onKeyError),t.removeEventListener(e+a.V0_1B_KEY_MESSAGE,this._onKeyMessage)},h.prototype._getSession=function(t){var e=this._sessionMap[t];if(e)return e;var n=this._waitingForSessionIds.shift();return n?(n.sessionId=t,this._sessionMap[t]=n,n):null},h.prototype._onKeyMessage=function(t){var e=this._getSession(t.sessionId);e?e.generateComplete(t.message):l.warn("Got keymessage without session.")},h.prototype._onKeyAdded=function(t){var e=this._getSession(t.sessionId);e?e.updateComplete():l.warn("Got keyadded without session.")},h.prototype._onKeyError=function(t){var e=this._getSession(t.sessionId);e?e.handleErrorEvent(t):l.warn("Got keyerror without session.")},h.prototype.setServerCertificate=function(){return o.reject(new u(s.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM,"Cannot set server certificate on this platform."))},h.prototype.createSession=function(){var t=new d(this._keySystem,this._mediaElement,this._prefix);return this._waitingForSessionIds.push(t),t},r(d,i),d.prototype._addPrefix=function(t){return this._prefix?this._prefix+t.replace(/\b[a-z]/,function(t){return t.toUpperCase()}):t},d.prototype.generateComplete=function(t){this.emit(a.KEY_SESSION_MESSAGE,{messageType:"license-request",message:t}),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null)},d.prototype.updateComplete=function(){this._lastUpdateDeferred&&(this._lastUpdateDeferred.resolve(!0),this._lastUpdateDeferred=null),this.emit(a.KEY_SESSION_STATUSES_CHANGE)},d.prototype.handleErrorEvent=function(t){var e=new u(s.EME_MEDIA_KEY_SESSION_V0_1B_ERROR,"MediaKeySession v0.1b Error");e.debug.errorCode=t.errorCode,e.debug.systemCode=t.systemCode,!t.sessionId&&this._lastGenerateDeferred?(this._lastGenerateDeferred.reject(e),this._lastGenerateDeferred=null):t.sessionId&&this._lastUpdateDeferred?(this._lastUpdateDeferred.reject(e),this._lastUpdateDeferred=null):this.emit(a.KEY_SESSION_STATUSES_CHANGE)},d.prototype.generateRequest=function(t,n){return new o(function(t,r){this._lastGenerateDeferred={resolve:t,reject:r};try{this._mediaElement[this._addPrefix("generateKeyRequest")](this._keySystem,new e.Uint8Array(n))}catch(t){r(t),this._lastGenerateDeferred=null}}.bind(this))},d.prototype.update=function(t){if(this._lastUpdateDeferred){var n=this.update.bind(this,t);return this._lastUpdateDeferred.promise.then(n,n)}var r=o.defer();this._lastUpdateDeferred=r;try{this._mediaElement[this._addPrefix("addKey")](this._keySystem,new e.Uint8Array(t),null,this.sessionId)}catch(t){r.reject(t),this._lastUpdateDeferred=null}return r.promise},d.prototype.close=function(){if(this.sessionId)try{this._mediaElement[this._addPrefix("cancelKeyRequest")](this._keySystem,this.sessionId)}catch(t){l.warn("Could not close keysession",t)}return o.resolve(!0)},t.exports={setup:function(t){e.navigator.requestMediaKeySystemAccess=function(e,n){return new o(function(r){r(new p(e,n,t))})};var n=e.HTMLMediaElement;n&&(delete n.prototype.mediaKeys,n.prototype.setMediaKeys=f)}}}).call(this,n("pCvA"))},t8IR:function(t,e,n){"use strict";var r=n("Zgfu");t.exports=function(t){if(!t)throw new TypeError("Argument `options` is required.");if(!t.providers)throw new TypeError("Argument `options` is required.");return r({ownerRef:t.ownerRef,providers:t.providers,requestMode:t.requestMode,reconnectionRetries:t.reconnectionRetries,forcePolyfillTypes:t.forcePolyfillTypes})}},tCOP:function(t,e,n){"use strict";var r=n("qt0y");function i(t,e){Error.call(this,e),this.code=t||r.EME_ERROR_UNKNOWN,this.message=e,this.status=-1,this.licenseServer="",this.shouldRefreshEndpoint=!1,this.unrecoverable=!1,this.debug={}}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="EMEError",i.prototype.fatal=function(){return this.unrecoverable=!0,this},t.exports=i},tE6N:function(t,e,n){"use strict";var r=n("63Ad");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"hashJsonValue",{enumerable:!0,get:function(){return o.default}});var i=r(n("qMTF")),o=r(n("ep0v"))},tImM:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},tZ4O:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return p}),n.d(e,"a",function(){return h});var r=n("E6vx"),i=n("7UEW"),o=n("3ZRO"),a=n("dbjm");function s(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:r},__sentry_wrapped__:{enumerable:!1,value:i}})}catch(t){}t[e]=i}}function u(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function c(t){if(Object(r.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(Object(r.f)(t)){var a={};a.type=t.type;try{a.target=Object(r.c)(t.target)?Object(o.h)(t.target):Object.prototype.toString.call(t.target)}catch(t){a.target="<unknown>"}try{a.currentTarget=Object(r.c)(t.currentTarget)?Object(o.h)(t.currentTarget):Object.prototype.toString.call(t.currentTarget)}catch(t){a.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&t instanceof CustomEvent&&(a.detail=t.detail),t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}return t}function l(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=p(t,e);return function(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}(r)>n?l(t,e-1,n):r}function f(e,n){return"domain"===n&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(r.k)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+(e.name||"<unknown-function-name>")+"]":e}function p(t,e){try{return JSON.parse(JSON.stringify(t,function(t,n){return function t(e,n,o,a){if(void 0===o&&(o=1/0),void 0===a&&(a=new i.a),0===o)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=f(t);return Object(r.h)(n)?n:e}(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var s=f(n,e);if(Object(r.h)(s))return s;var u=c(n),l=Array.isArray(n)?[]:{};if(a.memoize(n))return"[Circular ~]";for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=t(p,u[p],o-1,a));return a.unmemoize(n),l}(t,n,e)}))}catch(t){return"**non-serializable**"}}function h(t,e){void 0===e&&(e=40);var n=Object.keys(c(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(a.c)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Object(a.c)(i,e)}return""}}).call(this,n("pCvA"))},uDox:function(t,e,n){"use strict";(function(e){var r=n("67/Z"),i=e.__dbgLoggerRegistry;i||(i={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(e,"__dbgLoggerRegistry",{value:i}):e.__dbgLoggerRegistry=i);var o=i.map,a=i.list;function s(t){return!(!i.loggingPredicate||!i.loggingPredicate(t))}var u="log";t.exports={intercept:function(t){if("function"!=typeof t)throw new TypeError("Logging.intercept requires a function predicate.");i.loggingPredicate=t},unintercept:function(){i.loggingPredicate=null},list:function(t){var e,n,r,i=Object.keys(o);if(i.sort(),t){var a=[];for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&a.push({tag:r,description:o[r].description||"No description."});return a}var s={};for(e=0,n=i.length;e<n;e++)r=i[e],o[r]&&(s[r]=o[r].description||"No description");return s},enable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.enable()}},disable:function(t){for(var e=Array.isArray(t)?t:[t],n=e.length;n--;)for(var r=e[n].toLowerCase(),i=a.length;i--;){var o=a[i];o.matchesTag(r)&&o.disable()}},setLevel:function(t){u=t;for(var e=a.length;e--;){var n=a[e];n&&n.setLevel(t)}},enableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].enable()},disableAll:function(){for(var t=a.length;t--;)a[t]&&a[t].disable()},forTag:function(t,e){var n,i;if("string"==typeof t?(n=t.toLowerCase(),i=e):(n=t.tag,i=t.description),o.hasOwnProperty(n)&&o[n])return o[n];var c=new r(n,i,s);return c.setLevel(u),o[n]=c,a.push(c),c},remove:function(t){var e=t.toLowerCase();if(o.hasOwnProperty(e)&&o[e]){var n=o[e];o[e]=null;var r=a.indexOf(n);-1!==r&&a.splice(r,1)}}}}).call(this,n("pCvA"))},uIAw:function(t,e,n){"use strict";var r=n("63Ad")(n("nxTg"));function i(){var t=window.performance.getEntriesByType("navigation");return(0,r.default)(t,1)[0]}Object.defineProperty(e,"__esModule",{value:!0});var o={getPageLoadTime:function(){if(window.performance)return new Promise(function(t){var e=i().loadEventEnd;e>0?t(e):window.addEventListener("load",function(){setTimeout(function(){var e=i().loadEventEnd;t(e)},0)})})},getNavigationTiming:i,getResourceTiming:function(){return window.performance.getEntriesByType("resource")}};e.BrowserMetrics=o},uahg:function(t,e,n){"use strict";var r=n("ovh1"),i=n("fwl+"),o=n("i0F7"),a=n("guUT"),s=n("Zrjs");function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=u},ufco:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("qt0y"),s=n("zCec"),u=n("vaH6"),c=n("O9Uh"),l=n("T8w0"),f=n("8Pwi"),p=n("icRp"),h=n("DBDF"),d=5;function _(t){var e=t||{};if(!e.trackPlayer)throw new TypeError("Argument `options.trackPlayerManager` not found.");this._trackPlayerPromise=o.defer(),this._maxListErrors=e.maxListErrors||d,this._uid=0,this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this._listPlayCount=0,this._listErrorCount=0,this._shuffled=!1,this._repeatMode=u.NONE,this._currentSeqId=0,this._setListOptions=this._setListOptions.bind(this),this._replaceCurrentList=this._replaceCurrentList.bind(this),this._handleBeforeVolumeChange=this._handleBeforeVolumeChange.bind(this),this._handleCapped=this._handleCapped.bind(this),this._handlePlaying=this._handlePlaying.bind(this),this._handlePaused=this._handlePaused.bind(this),this._handleEnded=this._handleEnded.bind(this),this._handleCanPreload=this._handleCanPreload.bind(this),this._handleError=this._handleError.bind(this),this._handlePositionChanged=this._handlePositionChanged.bind(this),this._handleDurationChanged=this._handleDurationChanged.bind(this),this._handleTimeout=this._handleTimeout.bind(this),this._handlePlayedThresholdReached=this._handlePlayedThresholdReached.bind(this),this._init(e.trackPlayer)}r(_,i),_.create=function(t){return new _(t)},_.prototype._init=function(t){this._trackPlayerPromise.promise.catch(function(){}),o.resolve(t).then(function(t){this._attachPlayerEvents(t),this._trackPlayerPromise.resolve(t)}.bind(this)).catch(this._handlePlayerInitError.bind(this))},_.prototype._attachPlayerEvents=function(t){t.on(f.PLAYER_BEFORE_VOLUME_CHANGE,this._handleBeforeVolumeChange),t.on(f.PLAYER_CAN_PRELOAD,this._handleCanPreload),t.on(f.PLAYER_CAPPED,this._handleCapped),t.on(f.PLAYER_ENDED,this._handleEnded),t.on(f.PLAYER_ERROR,this._handleError),t.on(f.PLAYER_PAUSED,this._handlePaused),t.on(f.PLAYER_PLAYING,this._handlePlaying),t.on(f.PLAYER_TIMEOUT,this._handleTimeout),t.on(f.PLAYER_POSITION_CHANGED,this._handlePositionChanged),t.on(f.PLAYER_DURATION_CHANGED,this._handleDurationChanged),t.on(f.PLAYER_PLAYED_THRESHOLD_REACHED,this._handlePlayedThresholdReached),this.proxyEmit(t,f.PLAYER_PROGRESS,f.LIST_PLAYER_PROGRESS),this.proxyEmit(t,f.PLAYER_AUTOPLAY_FAILED,f.LIST_PLAYER_AUTOPLAY_FAILED),this.proxyEmit(t,f.PLAYER_BEFORE_LOAD,f.LIST_PLAYER_BEFORE_PLAYER_LOAD),this.proxyEmitSync(t,f.PLAYER_LOAD,f.LIST_PLAYER_PLAYER_LOAD),this.proxyEmit(t,f.PLAYER_TRACKING_DATA_CREATED,f.LIST_PLAYER_TRACKING_DATA_CREATED),this.proxyEmit(t,f.PLAYER_TRACKING_DATA_FINALIZED,f.LIST_PLAYER_TRACKING_DATA_FINALIZED),this.proxyEmit(t,f.PLAYER_BUFFER_STALLED,f.LIST_PLAYER_BUFFER_STALLED),this.proxyEmit(t,f.PLAYER_BUFFERING_START,f.LIST_PLAYER_BUFFERING_START),this.proxyEmit(t,f.PLAYER_BUFFERING_END,f.LIST_PLAYER_BUFFERING_END),this.proxyEmit(t,f.PLAYER_VIDEO_ELEMENT_APPENDED,f.LIST_PLAYER_VIDEO_ELEMENT_APPENDED),this.proxyEmit(t,f.PLAYER_VIDEO_ELEMENT_REMOVED,f.LIST_PLAYER_VIDEO_ELEMENT_REMOVED)},_.prototype._handlePlayerInitError=function(t){this._trackPlayerPromise.reject(new p(a.LIST_PLAYER_NO_TRACK_PLAYER,t.message||"Track player promise was rejected."))},_.prototype._handleCapped=function(){var t=this._currentTrack;t&&this.emit(f.LIST_PLAYER_CAPPED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList})},_.prototype._handlePlaying=function(t){var e=this._currentTrack;e&&this.emit(f.LIST_PLAYER_PLAYING,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList,position:t.position})},_.prototype._handlePaused=function(t){var e=this._currentTrack;e&&this.emit(f.LIST_PLAYER_PAUSED,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList,position:t.position})},_.prototype._handleBeforeVolumeChange=function(t){this.emitSync(f.LIST_PLAYER_BEFORE_VOLUME_CHANGE,{volume:t.volume}).defaultPrevented&&t.preventDefault()},_.prototype._handleCanPreload=function(){this._preloadUpcomingTrack().catch(function(){})},_.prototype._handleEnded=function(){var t=this._currentTrack;t&&(this.emit(f.LIST_PLAYER_TRACK_ENDED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList}),this.next(l.TRACK_DONE))},_.prototype._handleTimeout=function(){var t=this._currentTrack;t&&(this.emit(f.LIST_PLAYER_TRACK_TIMEOUT,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList}),this.next(l.TRACK_ERROR))},_.prototype._handlePositionChanged=function(t){var e=this._currentTrack;e&&this.emit(f.LIST_PLAYER_POSITION_CHANGED,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList,position:t.position})},_.prototype._handleDurationChanged=function(t){var e=this._currentTrack;e&&this.emit(f.LIST_PLAYER_DURATION_CHANGED,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList,position:t.position,duration:t.duration})},_.prototype._handlePlayedThresholdReached=function(t){var e=this._currentTrack;e&&this.emit(f.LIST_PLAYER_PLAYED_THRESHOLD_REACHED,{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList,total:t.total,threshold:t.threshold,position:t.position})},_.prototype._handleError=function(t){if(this._currentTrack){this.emit(f.LIST_PLAYER_ERROR,t),this.emitSync(f.LIST_PLAYER_ERROR_SYNC,t);var e=!!t.error&&t.error.listPlayerIgnore;e||this._listErrorCount++,t.canPlayNext&&(e||this._listErrorCount<=this._maxListErrors?this.next(l.TRACK_ERROR):this.emit(f.LIST_PLAYER_MAX_LIST_ERRORS_REACHED,{count:this._listErrorCount,threshold:this._maxListErrors}))}},_.prototype._handleTrackLoaded=function(t){this.emitSync(f.LIST_PLAYER_TRACK_LOADED,t)},_.prototype._incrementSeqId=function(){return this._currentSeqId>=9007199254740991?this._currentSeqId=0:this._currentSeqId+=1,this._currentSeqId},_.prototype._getTrackPlayer=function(){return this._trackPlayerPromise.promise},_.prototype._setListIndex=function(t,e){var n=e.index&&-1!==e.index?e.index:0;return o.all([t,e,t.startAt(n)])},_.prototype._setListOptions=function(t,e){return o.all([t.setShuffle(!!this._shuffled),t.setRepeatMode(this._repeatMode)]).then(function(){return[t,e]})},_.prototype._replaceCurrentList=function(t,e){return this.emitSync(f.LIST_PLAYER_BEFORE_LIST_CHANGE,{newList:t,newOptions:e,oldList:this._loadedList,oldOptions:this._loadedOptions}),this._loadedList=t,this._loadedOptions=e,this._listPlayCount=0,this._listErrorCount=0,this.emit(f.LIST_PLAYER_LIST_CHANGED,{list:t,options:e}),s.SUCCESS},_.prototype._preloadTrack=function(t){return this._getTrackPlayer().then(function(e){return e.preload(t).catch(function(){}),s.SUCCESS})},_.prototype._changeTrack=function(t,e,n){if(this._currentSeqId!==n)return s.CANCELLED;this.emitSync(f.LIST_PLAYER_BEFORE_TRACK_LOAD,{list:this._loadedList,newTrack:t,oldTrack:this._currentTrack}),this._uid++;var r=++this._listPlayCount,i=this._loadedOptions,a=!0,u=0,c=3e4;1===r?(a=!i.paused,u=i.initialPosition||i.position||0):u=i.position||0;var p=e===l.TRACK_DONE;if("options"in t){var h=t.options;"paused"in h&&(a=!h.paused),"position"in h&&(u=h.position),"playedThreshold"in h&&(c=h.playedThreshold)}this._currentTrack=t,this._currentTrackOptions={reason:e,paused:!a,position:u,playedThreshold:c};var d=this._handleTrackLoaded.bind(this,{uid:this._uid,track:this._currentTrack,options:this._currentTrackOptions,list:this._loadedList});return this._getTrackPlayer().then(function(e){return this._currentSeqId!==n?s.CANCELLED:(o.resolve(e.load(t,{uriProperty:"playableURI",autoplay:a,position:u,playedThreshold:c,continuePrevious:p},d)).catch(function(){}),s.SUCCESS)}.bind(this))},_.prototype.load=function(t,e){var n=e||this._loadedOptions||{},r=h.create(n);return this._setListIndex(t,r).spread(this._setListOptions).spread(this._replaceCurrentList)},_.prototype.play=function(t,e){var n=this;return this.load(t,e).then(function(){return n._loadedList!==t?s.CANCELLED:n.next(n._loadedOptions.reason)})},_.prototype.canChangeTrack=function(){return this._loadedList?this._loadedList.peekNext({reason:l.FORWARD_BUTTON,listConstants:c}).then(function(t){return t!==c.FORBIDDEN}):o.resolve(!0)},_.prototype._preloadUpcomingTrack=function(){var t=this._loadedList;if(!t)return o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));var e={reason:l.TRACK_DONE,listConstants:c};return t.peekNext(e).then(function(t){return t===c.FORBIDDEN?s.FORBIDDEN:t===c.NULL_VALUE?this._preloadUpcomingTrack():t===c.LIST_END?s.LIST_END:t.playable?this._preloadTrack(t):s.INVALID}.bind(this))},_.prototype.next=function(t){if(!t)return o.reject(new p(a.LIST_PLAYER_INVALID_ARGUMENT,"The argument `reason` is required."));var e=this._loadedList;if(!e)return o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));this.emitSync(f.LIST_PLAYER_BEFORE_NEXT,{list:e,reason:t});var n=this._incrementSeqId(),r={reason:t,listConstants:c};return e.next(r).then(function(r){return this._currentSeqId!==n?s.CANCELLED:r===c.FORBIDDEN?s.FORBIDDEN:r===c.NULL_VALUE?this.next(t):r===c.LIST_END?(this.emit(f.LIST_PLAYER_LIST_ENDED,{list:e,reason:l.END_PLAY}),this.clear(t),s.LIST_END):r.playable?this._changeTrack(r,t,n):(this.emit(f.LIST_PLAYER_TRACK_UNPLAYABLE,{track:r,list:e}),this.next(t))}.bind(this))},_.prototype.previous=function(t){if(!t)return o.reject(new p(a.LIST_PLAYER_INVALID_ARGUMENT,"The argument `reason` is required."));var e=this._loadedList;if(!e)return o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));this.emitSync(f.LIST_PLAYER_BEFORE_PREVIOUS,{list:e,reason:t});var n=this._incrementSeqId(),r={reason:t,listConstants:c};return e.previous(r).then(function(r){return this._currentSeqId!==n?s.CANCELLED:r===c.FORBIDDEN?s.FORBIDDEN:r===c.NULL_VALUE?this.previous(t):r===c.LIST_START?(this.emit(f.LIST_PLAYER_LIST_ENDED,{list:e,reason:l.END_PLAY}),this.clear(t),s.LIST_END):r.playable?this._changeTrack(r,t,n):(this.emit(f.LIST_PLAYER_TRACK_UNPLAYABLE,{track:r,list:e}),this.previous(t))}.bind(this))},_.prototype.pause=function(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(function(t){return t.pause(),s.SUCCESS}):o.resolve(s.SUCCESS):o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))},_.prototype.resume=function(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(function(t){return t.resume(),s.SUCCESS}):o.resolve(s.SUCCESS):o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))},_.prototype.togglePlay=function(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(function(t){return t.togglePlay(),s.SUCCESS}):o.resolve(s.SUCCESS):o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))},_.prototype.stop=function(t){var e={reason:t||"unknown"},n=this._currentTrack;return n&&n.logData&&(e.source=n.logData.source),this._incrementSeqId(),this._getTrackPlayer().then(function(t){return t.stop(e),this.emit(f.LIST_PLAYER_STOPPED,{uid:this._uid,options:this._currentTrackOptions,list:this._loadedList}),s.SUCCESS}.bind(this))},_.prototype.clear=function(t){return this.stop(t).then(function(){return this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this.emit(f.LIST_PLAYER_CLEARED),s.SUCCESS}.bind(this))},_.prototype.setShuffle=function(t){var e=!!t;if(this._shuffled!==e){this._shuffled=e,this.emit(f.LIST_PLAYER_SHUFFLE_CHANGED,{player:this,shuffled:e});var n=this._loadedList;n&&n.setShuffle(this._shuffled)}return o.resolve(s.SUCCESS)},_.prototype.setRepeatMode=function(t){if(!(t in u))return o.reject(new p(a.LIST_PLAYER_INVALID_ARGUMENT,"The value of repeat mode is not a correct RepeatMode enum value"));if(this._repeatMode!==t){this._repeatMode=t,this.emit(f.LIST_PLAYER_REPEAT_MODE_CHANGED,{player:this,repeatMode:t});var e=this._loadedList;e&&e.setRepeatMode(this._repeatMode)}return o.resolve(s.SUCCESS)},_.prototype.getVolume=function(){return this._getTrackPlayer().then(function(t){return t.getVolume()})},_.prototype.setVolume=function(t,e){return this._getTrackPlayer().then(function(n){return n.setVolume(t),this.emit(f.LIST_PLAYER_VOLUME_CHANGED,{volume:t,commandId:e||null}),s.SUCCESS}.bind(this))},_.prototype.seek=function(t){var e=this._loadedList;return e?"function"!=typeof e.allowSeeking||e.allowSeeking()?this._currentTrack?this._getTrackPlayer().then(function(e){return e.seek(t),s.SUCCESS}):o.resolve(s.SUCCESS):o.reject(new p(a.LIST_PLAYER_FORBIDDEN,"The operation is not allowed.")):o.reject(new p(a.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))},_.prototype.getListConstants=function(){return c},_.prototype.getLoadedList=function(){return this._loadedList},_.prototype.getLoadedOptions=function(){return this._loadedOptions},_.prototype.getPlayerState=function(){return this._getTrackPlayer().then(function(t){return t.getPlayerState()})},_.prototype.getState=function(){return this.getPlayerState().then(function(t){return{playbackState:t,track:this._currentTrack,list:this._loadedList,options:this._loadedOptions}}.bind(this))},t.exports=_},uo0B:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("E6BA"),a=n("Mj+E"),s=n("27+M");function u(t){i.call(this),this.request=t.request.bind(t),this.getConnectionId=t.getConnectionId.bind(t),this.getEndpoints=t.getEndpoints.bind(t),this.getInitTime=t.getInitTime.bind(t),this.getLastToken=t.getLastToken.bind(t),this.matchMessages=t.matchMessages.bind(t),this.handlePushRequests=t.handlePushRequests.bind(t),this.proxyEmit(t,o.TRANSPORT_ACCESS_TOKEN,this.EVENT_ACCESS_TOKEN),this.proxyEmit(t,o.TRANSPORT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_OFFLINE),this.proxyEmit(t,o.TRANSPORT_CONNECTION_ONLINE,this.EVENT_CONNECTION_ONLINE),this.proxyEmit(t,o.TRANSPORT_ENDPOINTS_RESOLVED,this.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(this.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,this.on.bind(t))),this.onRemoveListener(this.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,this.removeListener.bind(t)))}r(u,i),u.prototype.EVENT_ACCESS_TOKEN="access_token",u.prototype.EVENT_CONNECTION_ID="connection_id",u.prototype.EVENT_CONNECTION_OFFLINE="connection_offline",u.prototype.EVENT_CONNECTION_ONLINE="connection_online",u.prototype.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved",u.prototype.StatusCode=a,u.prototype.StatusFamily=s,u.prototype._onAddConnectionIdListener=function(t,e){e.preventDefault();var n=this.EVENT_CONNECTION_ID,r=e.listener,a=function(t){r.call(this,i.createEvent(n,t))}.bind(this);r.$proxy_wrapper=a,t(o.TRANSPORT_CONNECTION_ID,a,e.options)},u.prototype._onRemoveConnectionIdListener=function(t,e){e.preventDefault(),e.listener.$proxy_wrapper&&t(o.TRANSPORT_CONNECTION_ID,e.listener.$proxy_wrapper,e.options)},t.exports=u},upWy:function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n("5IsQ"))},"ut/0":function(t,e,n){var r=n("PoH+"),i=n("4+3C"),o="Validator API is deprecated. Please use the type API instead.";g=i.deprecate(g,o),E=i.deprecate(E,o);var a={PrimitiveTypes:["null","boolean","int","long","float","double","bytes","string"],ComplexTypes:["record","enum","array","map","union","fixed"]};a.Types=a.PrimitiveTypes.concat(a.ComplexTypes);var s=function(t){return new Error("InvalidSchemaError: "+t)},u=function(t){return new Error("InvalidProtocolError: "+t)},c=function(t){return new Error("ValidationError: "+t)},l=function(t){return new Error("ProtocolValidationError: "+t)};function f(t,e,n){!function(t,e,n){if(!r.isString(t))throw new s("Record name must be string");if(!r.isNull(e)&&!r.isUndefined(e)&&!r.isString(e))throw new s("Record namespace must be string or null");if(!r.isArray(n))throw new s("Record name must be string")}(t,e,n),this.name=t,this.namespace=e,this.fields=n}function p(t,e){var n=null;if(r.isString(t))n=t;else{if(!r.isObject(t))throw new s("unable to determine fully qualified type name from schema "+JSON.stringify(t)+" in namespace "+e);r.isString(t.namespace)&&(e=t.namespace),r.isString(t.name)?n=t.name:r.isString(t.type)&&(n=t.type)}if(!r.isString(n))throw new s("unable to determine type name from schema "+JSON.stringify(t)+" in namespace "+e);return-1!==n.indexOf(".")?n:r.contains(a.PrimitiveTypes,n)?n:r.isString(e)?e+"."+n:n}function h(t,e){this.branchNames=function(){return r.map(t,function(t){return p(t,e)})},function(t){if(!r.isArray(t)||r.isEmpty(t))throw new s("Union must have at least 1 branch")}(t),this.typeSchemas=t,this.namespace=e}function d(t){!function(t){if(!r.isArray(t))throw new s("Enum must have array of symbols, got "+JSON.stringify(t));if(!r.all(t,function(t){return r.isString(t)}))throw new s("Enum symbols must be strings, got "+JSON.stringify(t))}(t),this.symbols=t}function _(t){!function(t){if(r.isNull(t)||r.isUndefined(t))throw new s('Array "items" schema should not be null or undefined')}(t),this.itemSchema=t}function y(t){!function(t){if(r.isNull(t)||r.isUndefined(t))throw new s('Map "values" schema should not be null or undefined')}(t),this.valueSchema=t}function v(t,e){this.name=t,this.schema=e}function m(t){!function(t){if(!r.isString(t))throw new s("Primitive type name must be a string");if(!r.contains(a.PrimitiveTypes,t))throw new s("Primitive type must be one of: "+JSON.stringify(a.PrimitiveTypes)+"; got "+t)}(t),this.type=t}function g(t,e,n){this.validate=function(t){return i(this.schema,t)};var i=function(t,e){if(t instanceof f)return o(t,e);if(t instanceof h)return u(t,e);if(t instanceof d)return l(t,e);if(t instanceof _)return g(t,e);if(t instanceof y)return E(t,e);if(t instanceof m)return b(t,e);throw new s("validation not yet implemented: "+JSON.stringify(t))},o=function(t,e){if(!r.isObject(e)||r.isArray(e))throw new c("Expected record Javascript type to be non-array object, got "+JSON.stringify(e));var n=r.pluck(t.fields,"name").sort(),o=r.keys(e).sort();if(!r.isEqual(n,o))throw new c("Expected record fields "+JSON.stringify(n)+"; got "+JSON.stringify(o));return r.all(t.fields,function(t){return i(t.schema,e[t.name])})},u=function(t,e){if(r.isObject(e)){if(r.isArray(e))throw new c("Expected union Javascript type to be non-array object (or null), got "+JSON.stringify(e));if(1!==r.size(e))throw new c("Expected union Javascript object to be object with exactly 1 key (or null), got "+JSON.stringify(e));var n=r.keys(e)[0];if(""===n)throw new c("Expected union Javascript object to contain non-empty string branch, got "+JSON.stringify(e));if(r.contains(t.branchNames(),n))return!0;throw new c("Expected union branch to be one of "+JSON.stringify(t.branchNames())+"; got "+JSON.stringify(n))}if(r.isNull(e)){if(r.contains(t.branchNames(),"null"))return!0;throw new c("Expected union branch to be one of "+JSON.stringify(t.branchNames())+"; got "+JSON.stringify(e))}throw new c("Expected union Javascript object to be non-array object of size 1 or null, got "+JSON.stringify(e))},l=function(t,e){if(r.isString(e)){if(r.contains(t.symbols,e))return!0;throw new c("Expected enum value to be one of "+JSON.stringify(t.symbols)+"; got "+JSON.stringify(e))}throw new c("Expected enum Javascript object to be string, got "+JSON.stringify(e))},g=function(t,e){if(r.isArray(e))return r.all(e,function(e){return i(t.itemSchema,e)});throw new c("Expected array Javascript object to be array, got "+JSON.stringify(e))},E=function(t,e){if(r.isObject(e)&&!r.isArray(e))return r.all(e,function(e){return i(t.valueSchema,e)});throw r.isArray(e)?new c("Expected map Javascript object to be non-array object, got array "+JSON.stringify(e)):new c("Expected map Javascript object to be non-array object, got "+JSON.stringify(e))},b=function(t,e){switch(t.type){case"null":if(r.isNull(e)||r.isUndefined(e))return!0;throw new c("Expected Javascript null or undefined for Avro null, got "+JSON.stringify(e));case"boolean":if(r.isBoolean(e))return!0;throw new c("Expected Javascript boolean for Avro boolean, got "+JSON.stringify(e));case"int":if(r.isNumber(e)&&Math.floor(e)===e&&Math.abs(e)<=Math.pow(2,31))return!0;throw new c("Expected Javascript int32 number for Avro int, got "+JSON.stringify(e));case"long":if(r.isNumber(e)&&Math.floor(e)===e&&Math.abs(e)<=Math.pow(2,63))return!0;throw new c("Expected Javascript int64 number for Avro long, got "+JSON.stringify(e));case"float":if(r.isNumber(e))return!0;throw new c("Expected Javascript float number for Avro float, got "+JSON.stringify(e));case"double":if(r.isNumber(e))return!0;throw new c("Expected Javascript double number for Avro double, got "+JSON.stringify(e));case"bytes":throw new s("not yet implemented: "+t.type);case"string":if(r.isString(e))return!0;throw new c("Expected Javascript string for Avro string, got "+JSON.stringify(e));default:throw new s("unrecognized primitive type: "+t.type)}},T=n||{},S=function(t,e){if(r.has(T,t)){if(!r.isEqual(T[t],e))throw new s("conflicting definitions for type "+t+": "+JSON.stringify(T[t])+" and "+JSON.stringify(e))}else T[t]=e},R=function(t){return r.has(T,t)?T[t]:null},w=function(t,e){if(r.contains(a.PrimitiveTypes,t))return new m(t);if(r.isNull(R(p(t,e))))throw new s("unknown type name: "+JSON.stringify(t)+"; known type names are "+JSON.stringify(r.keys(T)));return R(p(t,e))},O=function(t,e,n){if(r.isNull(t)||r.isUndefined(t))throw new s("schema is null, in parentSchema: "+JSON.stringify(e));if(r.isString(t))return w(t,n);if(r.isObject(t)&&!r.isArray(t)){if("record"===t.type){var i=new f(t.name,t.namespace,r.map(t.fields,function(e){return new v(e.name,O(e.type,t,t.namespace||n))}));return S(p(t,n),i),i}if("enum"===t.type){if(r.has(t,"symbols")){var o=new d(t.symbols);return S(p(t,n),o),o}throw new s("enum must specify symbols, got "+JSON.stringify(t))}if("array"===t.type){if(r.has(t,"items"))return new _(O(t.items,t,n));throw new s('array must specify "items" schema, got '+JSON.stringify(t))}if("map"===t.type){if(r.has(t,"values"))return new y(O(t.values,t,n));throw new s('map must specify "values" schema, got '+JSON.stringify(t))}if(r.has(t,"type")&&r.contains(a.PrimitiveTypes,t.type))return w(t.type,n);throw new s("not yet implemented: "+t.type)}if(r.isArray(t)){if(r.isEmpty(t))throw new s("unions must have at least 1 branch");return new h(r.map(t,function(e){return O(e,t,n)}),n)}throw new s("unexpected Javascript type for schema: "+typeof t)};this.rawSchema=t,this.schema=O(t,null,e)}function E(t){this.validate=function(n,i){var o=p(n,t.namespace);if(!r.has(e,o))throw new l("Protocol does not contain definition for type "+JSON.stringify(o)+' (fully qualified from input "'+n+'"); known types are '+JSON.stringify(r.keys(e)));return e[o].validate(i)};var e={};!function(t){var n={};if(!r.has(t,"protocol")||!r.isString(t.protocol))throw new u('Protocol must contain a "protocol" attribute with a string value');r.isArray(t.types)&&r.each(t.types,function(r){var i=new g(r,t.namespace,n),o=p(r,t.namespace);e[o]=i})}(t)}g.validate=function(t,e){return new g(t).validate(e)},E.validate=function(t,e,n){return new E(t).validate(e,n)},e.Validator=g,e.ProtocolValidator=E},uv3J:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=(0,n("mXGw").createContext)(null);e.default=r},vKth:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("mXGw"))&&"object"==typeof r&&"default"in r?r.default:r;function o(t){return o.warnAboutHMRDisabled&&(o.warnAboutHMRDisabled=!0),i.Children.only(t.children)}o.warnAboutHMRDisabled=!1;var a=function t(){return t.shouldWrapWithAppContainer?function(t){return function(e){return i.createElement(o,null,i.createElement(t,e))}}:function(t){return t}};a.shouldWrapWithAppContainer=!1,e.AppContainer=o,e.hot=a,e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t},e.configureComponent=function(){}},vMO2:function(t,e,n){"use strict";var r=n("ovh1");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},vaH6:function(t,e,n){"use strict";t.exports={NONE:"NONE",CONTEXT:"CONTEXT",TRACK:"TRACK"}},vdEC:function(t,e){t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}},vowq:function(t,e,n){"use strict";function r(t){this._headers={},this._init(t)}r.prototype._init=function(t){for(var e in t)t.hasOwnProperty(e)&&(this._headers[e.toLowerCase()]=t[e])},r.prototype.get=function(t){return this._headers[t.toLowerCase()]||null},r.prototype.has=function(t){return this._headers.hasOwnProperty(t.toLowerCase())},t.exports=r},w7gO:function(t,e,n){var r=n("sOO9"),i=n("so/P"),o=t.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=s(t),r.request.call(this,t,e)},o.get=function(t,e){return t=s(t),r.get.call(this,t,e)}},wG4G:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("GX8z");function a(t){i.call(this);var n=t||{};this._navigator=e.navigator,"function"==typeof e.addEventListener&&(e.addEventListener("online",this.emitSync.bind(this,o.CONNECTION_ONLINE,{})),e.addEventListener("offline",this.emitSync.bind(this,o.CONNECTION_OFFLINE,{})),n.notifyBeforeUnload&&e.addEventListener(o.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,o.WINDOW_BEFORE_UNLOAD,{})))}r(a,i),a.create=function(t){return new a(t)},a.prototype.isOnline=function(){var t=this._navigator;return!(t&&"onLine"in t)||t.onLine},t.exports=a}).call(this,n("pCvA"))},wJTk:function(t,e,n){"use strict";var r=n("U5QU"),i=new TypeError("Invalid Spotify URI!"),o=(new TypeError("Not implemented!"),0),a=function(t,e){return t=encodeURIComponent(t),e===o&&(t=t.replace(/%20/g,"+")),(t=t.replace(/[!'()]/g,escape)).replace(/\*/g,"%2A")},s=function(t,e){var n=e==o?t.replace(/\+/g,"%20"):t;return decodeURIComponent(n)},u=function(t,e){var n,r,o,s;switch(t.id&&(n=t._base62Id),t.type){case f.Type.ALBUM:return r=[f.Type.ALBUM,n],t.disc&&r.push(t.disc),r;case f.Type.AD:return[f.Type.AD,t._base62Id];case f.Type.ARTIST:return[f.Type.ARTIST,n];case f.Type.ARTIST_TOPLIST:return[f.Type.ARTIST,n,f.Type.TOP,t.toplist];case f.Type.DAILY_MIX:return[f.Type.DAILY_MIX,n];case f.Type.SEARCH:return[f.Type.SEARCH,a(t.query,e)];case f.Type.TRACK:return(t.context||t.play)&&(n+=c({context:t.context,play:t.play})),t.anchor&&(n+="#"+t.anchor),[f.Type.TRACK,n];case f.Type.TRACKSET:var u=[];for(o=0,s=t.tracks.length;o<s;o++)u.push(t.tracks[o]._base62Id);return u=[u.join(",")],null!==t.index&&u.push("#",t.index),[f.Type.TRACKSET,a(t.name)].concat(u);case f.Type.FACEBOOK:return[f.Type.USER,f.Type.FACEBOOK,t.uid];case f.Type.AUDIO_FILE:return[f.Type.AUDIO_FILE,t.extension,t._base62Id];case f.Type.FOLDER:return[f.Type.USER,a(t.username,e),f.Type.FOLDER,t._base62Id];case f.Type.FOLLOWERS:return[f.Type.USER,a(t.username,e),f.Type.FOLLOWERS];case f.Type.FOLLOWING:return[f.Type.USER,a(t.username,e),f.Type.FOLLOWING];case f.Type.PLAYLIST:return[f.Type.USER,a(t.username,e),f.Type.PLAYLIST,n];case f.Type.PLAYLIST_V2:return[f.Type.PLAYLIST,n];case f.Type.STARRED:return[f.Type.USER,a(t.username,e),f.Type.STARRED];case f.Type.TEMP_PLAYLIST:return[f.Type.TEMP_PLAYLIST,t.origin,t.data];case f.Type.CONTEXT_GROUP:return[f.Type.CONTEXT_GROUP,t.origin,t.name];case f.Type.USER_TOPLIST:return[f.Type.USER,a(t.username,e),f.Type.TOP,t.toplist];case f.Type.USER_TOP_TRACKS:return[f.Type.USER,a(t.username,e),f.Type.TOPLIST];case f.Type.TOPLIST:return[f.Type.TOP,t.toplist].concat(t.global?[f.Type.GLOBAL]:["country",t.country]);case f.Type.INBOX:return[f.Type.USER,a(t.username,e),f.Type.INBOX];case f.Type.ROOTLIST:return[f.Type.USER,a(t.username,e),f.Type.ROOTLIST];case f.Type.PUBLISHED_ROOTLIST:return[f.Type.USER,a(t.username,e),f.Type.PUBLISHED_ROOTLIST];case f.Type.COLLECTION_TRACK_LIST:return[f.Type.USER,a(t.username,e),f.Type.COLLECTION_TRACK_LIST,n];case f.Type.PROFILE:return t.args&&t.args.length>0?[f.Type.USER,a(t.username,e)].concat(t.args):[f.Type.USER,a(t.username,e)];case f.Type.LOCAL_ARTIST:return[f.Type.LOCAL,a(t.artist,e)];case f.Type.LOCAL_ALBUM:return[f.Type.LOCAL,a(t.artist,e),a(t.album,e)];case f.Type.LOCAL:return[f.Type.LOCAL,a(t.artist,e),a(t.album,e),a(t.track,e),t.duration];case f.Type.LIBRARY:return[f.Type.USER,a(t.username,e),f.Type.LIBRARY].concat(t.category?[t.category]:[]);case f.Type.IMAGE:return[f.Type.IMAGE,t._base62Id];case f.Type.MOSAIC:return(r=t.ids.slice(0)).unshift(f.Type.MOSAIC),r;case f.Type.RADIO:return[f.Type.RADIO,t.args];case f.Type.SPECIAL:for(r=[f.Type.SPECIAL],o=0,s=(l=t.args||[]).length;o<s;++o)r.push(a(l[o],e));return r;case f.Type.STATION:for(r=[f.Type.STATION],o=0,s=(l=t.args||[]).length;o<s;o++)r.push(a(l[o],e));return r;case f.Type.APPLICATION:var l;for(r=[f.Type.APP,t._base62Id],o=0,s=(l=t.args||[]).length;o<s;++o)r.push(a(l[o],e));return r;case f.Type.COLLECTION_ALBUM:return[f.Type.USER,a(t.username,e),f.Type.COLLECTION,f.Type.ALBUM,n];case f.Type.COLLECTION_MISSING_ALBUM:return[f.Type.USER,a(t.username,e),f.Type.COLLECTION,f.Type.ALBUM,n,"missing"];case f.Type.COLLECTION_ARTIST:return[f.Type.USER,a(t.username,e),f.Type.COLLECTION,f.Type.ARTIST,n];case f.Type.COLLECTION:return[f.Type.USER,a(t.username,e),f.Type.COLLECTION].concat(t.category?[t.category]:[]);case f.Type.EPISODE:return(t.context||t.play)&&(n+=c({context:t.context,play:t.play})),[f.Type.EPISODE,n];case f.Type.SHOW:return[f.Type.SHOW,n];case f.Type.LIVE:return[f.Type.LIVE,n];case f.Type.CONCERT:return[f.Type.CONCERT,n];case f.Type.SOCIAL_SESSION:return[f.Type.SOCIAL_SESSION,n];case f.Type.INTERRUPTION:return[f.Type.INTERRUPTION,t.id];default:throw i}},c=function(t){var e="?";for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e.length>1&&(e+="&"),e+=n+"="+encodeURIComponent(t[n]));return e},l=function(t,e,n){var r=0;n=n||{};var u,c,l,p=function(){return t[r++]},h=function(){var t=p();if(t.length>22)throw new Error("Invalid ID");return t},d=function(){return t.slice(r)},_=function(){var n=e==o?":":"/";return t.slice(r).join(n)},y=p();switch(y){case f.Type.ALBUM:return f.albumURI(h(),parseInt(p(),10));case f.Type.AD:return f.adURI(p());case f.Type.ARTIST:return u=h(),p()==f.Type.TOP?f.artistToplistURI(u,p()):f.artistURI(u);case f.Type.AUDIO_FILE:return f.audioFileURI(p(),p());case f.Type.DAILY_MIX:return f.dailyMixURI(h());case f.Type.TEMP_PLAYLIST:return f.temporaryPlaylistURI(p(),_());case f.Type.PLAYLIST:return f.playlistV2URI(h());case f.Type.SEARCH:return f.searchURI(s(_(),e));case f.Type.TRACK:return f.trackURI(h(),p(),n.context,n.play);case f.Type.TRACKSET:var v=s(p()),m=p(),g=p(),E=parseInt(p(),10);("%23"!==g||isNaN(E))&&(E=null);var b=[];if(m)for(c=0,l=(m=s(m).split(",")).length;c<l;c++){var T=m[c];b.push(f.trackURI(T))}return f.tracksetURI(b,v,E);case f.Type.CONTEXT_GROUP:return f.contextGroupURI(p(),p());case f.Type.TOP:var S=p();return p()==f.Type.GLOBAL?f.toplistURI(S,null,!0):f.toplistURI(S,p(),!1);case f.Type.USER:var R=s(p(),e),w=p();if(R==f.Type.FACEBOOK&&null!=w)return f.facebookURI(parseInt(w,10));if(null!=w)switch(w){case f.Type.PLAYLIST:return f.playlistURI(R,h());case f.Type.FOLDER:return f.folderURI(R,h());case f.Type.COLLECTION_TRACK_LIST:return f.collectionTrackList(R,h());case f.Type.COLLECTION:var O=p();switch(O){case f.Type.ALBUM:return u=h(),"missing"===p()?f.collectionMissingAlbumURI(R,u):f.collectionAlbumURI(R,u);case f.Type.ARTIST:return f.collectionArtistURI(R,h());default:return f.collectionURI(R,O)}case f.Type.STARRED:return f.starredURI(R);case f.Type.FOLLOWERS:return f.followersURI(R);case f.Type.FOLLOWING:return f.followingURI(R);case f.Type.TOP:return f.userToplistURI(R,p());case f.Type.INBOX:return f.inboxURI(R);case f.Type.ROOTLIST:return f.rootlistURI(R);case f.Type.PUBLISHED_ROOTLIST:return f.publishedRootlistURI(R);case f.Type.TOPLIST:return f.userTopTracksURI(R);case f.Type.LIBRARY:return f.libraryURI(R,p())}var A=d();return null!=w&&A.length>0?f.profileURI(R,[w].concat(A)):null!=w?f.profileURI(R,[w]):f.profileURI(R);case f.Type.LOCAL:var I=p(),N=I&&s(I,e),C=p(),P=C&&s(C,e),L=p(),k=L&&s(L,e),D=p(),x=parseInt(D,10);return void 0!==L?f.localURI(N,P,k,x):void 0!==C?f.localAlbumURI(N,P):f.localArtistURI(N);case f.Type.IMAGE:return f.imageURI(h());case f.Type.MOSAIC:return f.mosaicURI(t.slice(r));case f.Type.RADIO:return f.radioURI(_());case f.Type.SPECIAL:for(c=0,l=(M=d()).length;c<l;++c)M[c]=s(M[c],e);return f.specialURI(M);case f.Type.STATION:return f.stationURI(d());case f.Type.EPISODE:return f.episodeURI(h(),n.context,n.play);case f.Type.SHOW:return f.showURI(h());case f.Type.LIVE:return f.liveURI(h());case f.Type.CONCERT:return f.concertURI(h());case"":break;case f.Type.SOCIAL_SESSION:return f.socialSessionURI(p());case f.Type.INTERRUPTION:return f.interruptionURI(p());default:u=y===f.Type.APP?p():y;var M,U=s(u,e);if(a(U,e)!==u)break;for(c=0,l=(M=d()).length;c<l;++c)M[c]=s(M[c],e);return f.applicationURI(U,M)}throw i};function f(t,e){for(var n in this.type=t,e)"function"!=typeof e[n]&&(this[n]=e[n])}Object.defineProperty(f.prototype,"id",{get:function(){return this._hexId||(this._hexId=this._base62Id?f.idToHex(this._base62Id):void 0),this._hexId},set:function(t){this._base62Id=t?f.hexToId(t):void 0,this._hexId=void 0},enumerable:!0,configurable:!0}),f.prototype.toAppType=function(){if(this.type==f.Type.APPLICATION)return f.applicationURI(this.id,this.args);var t=u(this,1),e=t.shift(),n=t.length;if(n)for(;n--;)t[n]=s(t[n],1);return this.type==f.Type.RADIO&&(t=t.shift().split(":")),f.applicationURI(e,t)},f.prototype.toRealType=function(){return this.type==f.Type.APPLICATION?l([this.id].concat(this.args),o):new f(null,this)},f.prototype.toURI=function(){return"spotify:"+u(this,o).join(":")},f.prototype.toString=function(){return this.toURI()},f.prototype.toURLPath=function(t){var e=u(this,1);e[0]===f.Type.APP&&e.shift();var n=e[0]===f.Type.TRACKSET,r=e[0]===f.Type.LOCAL;if(!n&&!r){for(var i=[],o=0,a=e.length;o<a;o++){var s=e[o];s&&i.push(s)}e=i}var c=e.join("/");return t?"/"+c:c},f.prototype.toPlayURL=function(){return"https://play.spotify.com/"+this.toURLPath()},f.prototype.toURL=function(){return this.toPlayURL()},f.prototype.toOpenURL=function(){return"https://open.spotify.com/"+this.toURLPath()},f.prototype.toSecurePlayURL=function(){return this.toPlayURL()},f.prototype.toSecureURL=function(){return this.toPlayURL()},f.prototype.toSecureOpenURL=function(){return this.toOpenURL()},f.prototype.idToByteString=function(){var t=r.toHex(this._base62Id);if(!t){for(var e="",n=0;n<16;n++)e+=String.fromCharCode(0);return e}var i="";for(n=0;n<32;n+=2){var o=(r.ID16[t.charCodeAt(n)]<<4)+r.ID16[t.charCodeAt(n+1)];i+=String.fromCharCode(o)}return i},f.prototype.getPath=function(){return this.toString().replace(/[#?].*/,"")},f.prototype.getBase62Id=function(){return this._base62Id},f.prototype.isSameIdentity=function(t){var e=f.from(t);if(!e)return!1;if(this.toString()===t.toString())return!0;if(this.type!==f.Type.PLAYLIST&&this.type!==f.Type.PLAYLIST_V2||e.type!==f.Type.PLAYLIST&&e.type!==f.Type.PLAYLIST_V2){if(this.type===f.Type.STATION&&e.type===f.Type.STATION){var n=l(this.args,o);return!!n&&n.isSameIdentity(l(e.args,o))}return!1}return this.id===e.id},f.Type={EMPTY:"empty",ALBUM:"album",AD:"ad",APP:"app",APPLICATION:"application",ARTIST:"artist",ARTIST_TOPLIST:"artist-toplist",AUDIO_FILE:"audiofile",COLLECTION:"collection",COLLECTION_ALBUM:"collection-album",COLLECTION_MISSING_ALBUM:"collection-missing-album",COLLECTION_ARTIST:"collection-artist",CONTEXT_GROUP:"context-group",DAILY_MIX:"dailymix",EPISODE:"episode",FACEBOOK:"facebook",FOLDER:"folder",FOLLOWERS:"followers",FOLLOWING:"following",GLOBAL:"global",IMAGE:"image",INBOX:"inbox",INTERRUPTION:"interruption",LOCAL_ARTIST:"local-artist",LOCAL_ALBUM:"local-album",LOCAL:"local",LIBRARY:"library",LIVE:"live",MOSAIC:"mosaic",PLAYLIST:"playlist",PLAYLIST_V2:"playlist-v2",PROFILE:"profile",PUBLISHED_ROOTLIST:"published-rootlist",RADIO:"radio",ROOTLIST:"rootlist",COLLECTION_TRACK_LIST:"collectiontracklist",SEARCH:"search",SHOW:"show",SOCIAL_SESSION:"socialsession",CONCERT:"concert",SPECIAL:"special",STARRED:"starred",STATION:"station",TEMP_PLAYLIST:"temp-playlist",TOP:"top",TOPLIST:"toplist",TRACK:"track",TRACKSET:"trackset",USER:"user",USER_TOPLIST:"user-toplist",USER_TOP_TRACKS:"user-top-tracks",USET_TOP_TRACKS:"user-top-tracks"},f.fromString=function(t){var e=function(t){var e,n,r,a,s=t.split("?");if(s.length>1){t=s.shift();var u=(r=s.pop()).split("#");u.length>1&&(r=u.shift(),a=u.pop()),r=function(t){return t.split("&").reduce(function(t,e){return t[(e=e.split("="))[0]]=decodeURIComponent(e[1]),t},{})}(r)}var c=t.split("#");if(c.length>1&&(t=c.shift(),a=c.pop()),0===t.indexOf("spotify:"))e=t.slice("spotify:".length).split(":"),n=o;else{if(0===(t=t.split("?")[0]).indexOf("http://play.spotify.com/"))e=t.slice("http://play.spotify.com/".length).split("/");else if(0===t.indexOf("https://play.spotify.com/"))e=t.slice("https://play.spotify.com/".length).split("/");else if(0===t.indexOf("http://open.spotify.com/"))e=t.slice("http://open.spotify.com/".length).split("/");else if(0===t.indexOf("https://open.spotify.com/"))e=t.slice("https://open.spotify.com/".length).split("/");else{if(0!==t.indexOf("/"))throw i;e=t.slice("/".length).split("/")}n=1}return a&&e.push(a),{format:n,components:e,query:r}}(t);return l(e.components,e.format,e.query)},f.from=function(t){try{return t instanceof f?t:"object"==typeof t&&t.type?new f(null,t):f.fromString(t.toString())}catch(t){return null}},f.fromByteString=function(t,e,n){for(;16!=e.length;)e=String.fromCharCode(0)+e;for(var i="",o=0;o<e.length;o++){var a=e.charCodeAt(o);i+=r.HEX256[a]}var s=r.fromHex(i),u=n||{};return u.id=s,new f(t,u)},f.clone=function(t){return t instanceof f?new f(null,t):null},f.getCanonical=function(t){return this.getCanonical(t)},f.getCanonicalUsername=function(t){return a(t,o)},f.getDisplayUsername=function(t){return s(t,o)},f.idToHex=function(t){return 22==t.length?r.toHex(t):t},f.hexToId=function(t){return 32==t.length?r.fromHex(t):t},f.emptyURI=function(){return new f(f.Type.EMPTY,{})},f.albumURI=function(t,e){return new f(f.Type.ALBUM,{id:t,disc:e})},f.adURI=function(t){return new f(f.Type.AD,{id:t})},f.audioFileURI=function(t,e){return new f(f.Type.AUDIO_FILE,{id:e,extension:t})},f.artistURI=function(t){return new f(f.Type.ARTIST,{id:t})},f.artistToplistURI=function(t,e){return new f(f.Type.ARTIST_TOPLIST,{id:t,toplist:e})},f.dailyMixURI=function(t){return new f(f.Type.DAILY_MIX,{id:t})},f.searchURI=function(t){return new f(f.Type.SEARCH,{query:t})},f.trackURI=function(t,e,n,r){return new f(f.Type.TRACK,{id:t,anchor:e,context:n?f.fromString(n):n,play:r})},f.tracksetURI=function(t,e,n){return new f(f.Type.TRACKSET,{tracks:t,name:e||"",index:isNaN(n)?null:n})},f.facebookURI=function(t){return new f(f.Type.FACEBOOK,{uid:t})},f.followersURI=function(t){return new f(f.Type.FOLLOWERS,{username:t})},f.followingURI=function(t){return new f(f.Type.FOLLOWING,{username:t})},f.playlistURI=function(t,e){return new f(f.Type.PLAYLIST,{username:t,id:e})},f.playlistV2URI=function(t){return new f(f.Type.PLAYLIST_V2,{id:t})},f.folderURI=function(t,e){return new f(f.Type.FOLDER,{username:t,id:e})},f.collectionTrackList=function(t,e){return new f(f.Type.COLLECTION_TRACK_LIST,{username:t,id:e})},f.starredURI=function(t){return new f(f.Type.STARRED,{username:t})},f.userToplistURI=function(t,e){return new f(f.Type.USER_TOPLIST,{username:t,toplist:e})},f.userTopTracksURI=function(t){return new f(f.Type.USER_TOP_TRACKS,{username:t})},f.toplistURI=function(t,e,n){return new f(f.Type.TOPLIST,{toplist:t,country:e,global:!!n})},f.inboxURI=function(t){return new f(f.Type.INBOX,{username:t})},f.rootlistURI=function(t){return new f(f.Type.ROOTLIST,{username:t})},f.publishedRootlistURI=function(t){return new f(f.Type.PUBLISHED_ROOTLIST,{username:t})},f.localArtistURI=function(t){return new f(f.Type.LOCAL_ARTIST,{artist:t})},f.localAlbumURI=function(t,e){return new f(f.Type.LOCAL_ALBUM,{artist:t,album:e})},f.localURI=function(t,e,n,r){return new f(f.Type.LOCAL,{artist:t,album:e,track:n,duration:r})},f.libraryURI=function(t,e){return new f(f.Type.LIBRARY,{username:t,category:e})},f.collectionURI=function(t,e){return new f(f.Type.COLLECTION,{username:t,category:e})},f.temporaryPlaylistURI=function(t,e){return new f(f.Type.TEMP_PLAYLIST,{origin:t,data:e})},f.contextGroupURI=function(t,e){return new f(f.Type.CONTEXT_GROUP,{origin:t,name:e})},f.profileURI=function(t,e){return new f(f.Type.PROFILE,{username:t,args:e})},f.imageURI=function(t){return new f(f.Type.IMAGE,{id:t})},f.mosaicURI=function(t){return new f(f.Type.MOSAIC,{ids:t})},f.radioURI=function(t){return t=void 0===t?"":t,new f(f.Type.RADIO,{args:t})},f.specialURI=function(t){return t=void 0===t?[]:t,new f(f.Type.SPECIAL,{args:t})},f.stationURI=function(t){return t=void 0===t?[]:t,new f(f.Type.STATION,{args:t})},f.applicationURI=function(t,e){return e=void 0===e?[]:e,new f(f.Type.APPLICATION,{id:t,args:e})},f.collectionAlbumURI=function(t,e){return new f(f.Type.COLLECTION_ALBUM,{username:t,id:e})},f.collectionMissingAlbumURI=function(t,e){return new f(f.Type.COLLECTION_MISSING_ALBUM,{username:t,id:e})},f.collectionArtistURI=function(t,e){return new f(f.Type.COLLECTION_ARTIST,{username:t,id:e})},f.episodeURI=function(t,e,n){return new f(f.Type.EPISODE,{id:t,context:e?f.fromString(e):e,play:n})},f.showURI=function(t){return new f(f.Type.SHOW,{id:t})},f.liveURI=function(t){return new f(f.Type.LIVE,{id:t})},f.concertURI=function(t){return new f(f.Type.CONCERT,{id:t})},f.socialSessionURI=function(t){return new f(f.Type.SOCIAL_SESSION,{id:t})},f.interruptionURI=function(t){return new f(f.Type.INTERRUPTION,{id:t})},f.isAlbum=function(t){return(f.from(t)||{}).type===f.Type.ALBUM},f.isAd=function(t){return(f.from(t)||{}).type===f.Type.AD},f.isApplication=function(t){return(f.from(t)||{}).type===f.Type.APPLICATION},f.isArtist=function(t){return(f.from(t)||{}).type===f.Type.ARTIST},f.isCollection=function(t){return(f.from(t)||{}).type===f.Type.COLLECTION},f.isCollectionAlbum=function(t){return(f.from(t)||{}).type===f.Type.COLLECTION_ALBUM},f.isCollectionArtist=function(t){return(f.from(t)||{}).type===f.Type.COLLECTION_ARTIST},f.isDailyMix=function(t){return(f.from(t)||{}).type===f.Type.DAILY_MIX},f.isEpisode=function(t){return(f.from(t)||{}).type===f.Type.EPISODE},f.isFacebook=function(t){return(f.from(t)||{}).type===f.Type.FACEBOOK},f.isFolder=function(t){return(f.from(t)||{}).type===f.Type.FOLDER},f.isLocalArtist=function(t){return(f.from(t)||{}).type===f.Type.LOCAL_ARTIST},f.isLocalAlbum=function(t){return(f.from(t)||{}).type===f.Type.LOCAL_ALBUM},f.isLocalTrack=function(t){return(f.from(t)||{}).type===f.Type.LOCAL},f.isMosaic=function(t){return(f.from(t)||{}).type===f.Type.MOSAIC},f.isPlaylistV1=function(t){return(f.from(t)||{}).type===f.Type.PLAYLIST},f.isPlaylistV2=function(t){return(f.from(t)||{}).type===f.Type.PLAYLIST_V2},f.isRadio=function(t){return(f.from(t)||{}).type===f.Type.RADIO},f.isRootlist=function(t){return(f.from(t)||{}).type===f.Type.ROOTLIST},f.isSearch=function(t){return(f.from(t)||{}).type===f.Type.SEARCH},f.isShow=function(t){return(f.from(t)||{}).type===f.Type.SHOW},f.isLive=function(t){return(f.from(t)||{}).type===f.Type.LIVE},f.isConcert=function(t){return(f.from(t)||{}).type===f.Type.CONCERT},f.isStation=function(t){return(f.from(t)||{}).type===f.Type.STATION},f.isTrack=function(t){return(f.from(t)||{}).type===f.Type.TRACK},f.isProfile=function(t){return(f.from(t)||{}).type===f.Type.PROFILE},f.isPlaylistV1OrV2=function(t){var e=f.from(t);return!!e&&(e.type===f.Type.PLAYLIST||e.type===f.Type.PLAYLIST_V2)},f.isSocialSession=function(t){return(f.from(t)||{}).type===f.Type.SOCIAL_SESSION},f.isInterruption=function(t){return(f.from(t)||{}).type===f.Type.INTERRUPTION},t.exports=f},wLpq:function(t,e,n){"use strict";(function(e){var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("GX8z"),s=n("U3MV"),u=n("iARw"),c=n("r3Ta"),l=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/,f=1e4;function p(t){i.call(this);var e=t||{};this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatTimeout=e.heartbeatTimeout||f,this._heartbeatToken=null,this._heartbeatTimeoutToken=null,this._onHeartbeatSuccess=this._onHeartbeatSuccess.bind(this),this._onHeartbeatError=this._onHeartbeatError.bind(this)}r(p,i),p.create=function(t){return new p(t)},p.prototype._onHeartbeatError=function(){this._stopHeartbeat(),this._socket&&this._socket.close(c.TIMEOUT,"internal-timeout")},p.prototype._onHeartbeatSuccess=function(){this._stopHeartbeat(),this._startHeartbeat()},p.prototype._startHeartbeat=function(t){var e=function(){this.ping().then(this._onHeartbeatSuccess,this._onHeartbeatError),this._heartbeatTimeoutToken=setTimeout(this._onHeartbeatError,this._heartbeatTimeout)}.bind(this);t?e():this._heartbeatToken=setTimeout(e,3e4)},p.prototype._stopHeartbeat=function(){clearTimeout(this._heartbeatToken),clearTimeout(this._heartbeatTimeoutToken)},p.prototype._prepareConnectionId=function(t){if(!t.uri)return!1;var e,n=t.uri.match(l);return!!n&&(e=t.header&&t.headers["Spotify-Connection-Id"]?t.headers["Spotify-Connection-Id"]:decodeURIComponent(n[1]),this._connectionId=e,this._connectionURI=t.uri,this.emit(a.DEALER_CONNECTION_ID,{id:e,uri:t.uri}),!0)},p.prototype._reply=function(t,e){if(!t)throw new TypeError("Invalid key.");var n=this._socket;if(n&&1===n.readyState){var r={type:"reply",key:t,payload:e};n.send(JSON.stringify(r))}},p.prototype._parseMessage=function(t){var e;try{e=JSON.parse(t)}catch(t){return}if(this._waitingForConnectionId&&this._prepareConnectionId(e))this._waitingForConnectionId=!1,this._startHeartbeat(!0);else if("pong"===e.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("message"===e.type)this.emit(a.DEALER_MESSAGE,{data:e});else if("request"===e.type){var n=e.key;n&&this.emit(a.DEALER_REQUEST,{data:e,reply:this._reply.bind(this,n)})}},p.prototype._handleOpen=function(t){t.resolve(!0),this._connected=!0,this.emit(a.DEALER_AUTHENTICATED)},p.prototype._handleMessage=function(t){var n=this,r=t.data;if(e.Blob&&r instanceof e.Blob){var i=new e.FileReader;i.onloadend=function(){n._parseMessage(this.result)},i.readAsText(r)}else e.Buffer&&e.ArrayBuffer&&r instanceof e.ArrayBuffer?this._parseMessage(new e.Buffer(r).toString("ascii")):this._parseMessage(r)},p.prototype._handleClose=function(t){var e=this._connected;if(this._connected=!1,e)this.emitSync(a.DEALER_DISCONNECTED,{wsCode:t.code,reason:t.reason});else{var n=new u(s.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",t);this.emit(a.DEALER_AUTHENTICATION_FAILED,{error:n})}},p.prototype._handleError=function(t){var e=new u(s.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");t.reject(e),this._connected=!1,this.emit(a.DEALER_ERROR,{error:e})},p.prototype.connect=function(t){return this._endpoint=t,this._waitingForConnectionId=!0,this.emit(a.DEALER_CONNECTED),o.resolve(!0)},p.prototype.authenticate=function(t){var e=o.defer(),n=this._endpoint+"?access_token="+t,r=this._socket=new WebSocket(n);return r.onopen=this._handleOpen.bind(this,e),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,e),r.onmessage=this._handleMessage.bind(this),e.promise},p.prototype.disconnect=function(){this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(c.CLOSE,"internal-close"),this._socket.onopen=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket=null,this.emitSync("disconnected",{wsCode:c.CLOSE,reason:"internal-close"}))},p.prototype.ping=function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=o.defer(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):o.reject(new u(s.DEALER_CONNECTION_ERROR,"Dealer connection error"))},p.prototype.getConnectionId=function(){return this._waitingForConnectionId?new o(function(t){this.once("connection_id",function(e){t(e.id)})}.bind(this)):o.resolve(this._connectionId)},p.prototype.getConnectionInfo=function(){return this._waitingForConnectionId?new o(function(t){this.once("connection_id",function(e){t({id:e.id,uri:e.uri})})}.bind(this)):o.resolve({id:this._connectionId,uri:this._connectionURI})},p.prototype.hasConnectionId=function(){return!this._waitingForConnectionId&&!!this._connectionId},t.exports=p}).call(this,n("pCvA"))},wQ5h:function(t,e,n){"use strict";var r=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!r(t)||!r(e))}},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},"wTd+":function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("qPUP"),s=n("uDox"),u=n("4zCw"),c=n("Q0s3"),l=n("8Pwi"),f=n("8IsH"),p=n("Xcej"),h=s.forTag("tpapiclient"),d=s.forTag("tpapiclient.endsong"),_=s.forTag("tpapiclient.endsongs"),y=/^hm:\/\/track-playback\/v1/,v=/^hm:\/\/play-token\/lost/,m="http://@webgate/track-playback",g=65535,E=function(t,e){var n=t.getStatusFamily();return n===e.SERVER_ERROR||n===e.CONNECTION_ERROR},b={condition:E,algo:"exp",maxRetries:8},T={condition:E,maxRetries:2};function S(t){i.call(this),this._transport=t.transport,this._logger=t.logger,this._endpoint=t.endpoint||m,this._listPlayer=t.listPlayer,this._ListClass=t.ListClass,this._abbaClient=t.abbaClient,this._currentGaiaVolume=t.initialVolume*g,this._clientVersion=t.clientVersion,this._descriptorPromise=o.resolve(t.descriptor),this._deviceId=null,this._deviceInfo=null,this._manifestFormats=[],this._connectionId=null,this._sequenceNumber=0,this._currentContext=null,this._loading=!1,this._lastSentStateUpdatePayload=null,this._totalStreamTime=0,this._isSendingConflict=!1,this._queuedRejectedStates=[],this._isSendingUpdate=!1,this._queueSendUpdate=[],this._previousTrackPosition=void 0,this._currentTrackPosition=void 0,this._currentTrackDuration=void 0,this._registered=!1,this._isDeregistering=!1,this._waitingForTrackingData=null,this._lastProcessedStateId=null,this._limitStateUpdates=!1,this._lastUpdateStateTime=0,this._volumeDebouncer=new a(this._sendVolume.bind(this),{blockInitial:!0}),this._initialUpdateSent=!1,this._startedPlayingUpdateSent=!1,this._performCommand=this._performCommand.bind(this),this._handleRegisterResponse=this._handleRegisterResponse.bind(this),this._handleStateConflictResponse=this._handleStateConflictResponse.bind(this),this._onBeforeTrackChange=this._onBeforeTrackChange.bind(this),this._init()}r(S,i),S.create=function(t){return new S(t)},S.prototype._init=function(){this._waitingForTrackingData=o.defer(),this._waitingForTrackingData.resolve(!0),this._transport.on(this._transport.EVENT_CONNECTION_ID,this._onConnectionId.bind(this)),this._transport.matchMessages(v,this._onPlayTokenLost.bind(this)),this._transport.matchMessages(y,this._onTrackPlaybackMessage.bind(this));var t=this._listPlayer;t.on(l.LIST_PLAYER_CAPPED,this._onCapped.bind(this)),t.on(l.LIST_PLAYER_ERROR_SYNC,this._onError.bind(this)),t.on(l.LIST_PLAYER_BEFORE_NEXT,this._onBeforeTrackChange),t.on(l.LIST_PLAYER_BEFORE_PREVIOUS,this._onBeforeTrackChange),t.on(l.LIST_PLAYER_BEFORE_PLAYER_LOAD,this._onBeforePlayerLoad.bind(this)),t.on(l.LIST_PLAYER_PLAYER_LOAD,this._onTrackLoaded.bind(this)),t.on(l.LIST_PLAYER_BEFORE_TRACK_LOAD,this._onBeforeTrackLoad.bind(this)),t.on(l.LIST_PLAYER_POSITION_CHANGED,this._onPositionChanged.bind(this)),t.on(l.LIST_PLAYER_DURATION_CHANGED,this._onDurationChanged.bind(this)),t.on(l.LIST_PLAYER_VOLUME_CHANGED,this._onVolumeChanged.bind(this)),t.on(l.LIST_PLAYER_PAUSED,this._onPlayPause.bind(this,!0)),t.on(l.LIST_PLAYER_PLAYING,this._onPlayPause.bind(this,!1)),t.on(l.LIST_PLAYER_PLAYED_THRESHOLD_REACHED,this._onPlayThresholdReached.bind(this)),t.on(l.LIST_PLAYER_PROGRESS,this._onProgress.bind(this)),t.on(l.LIST_PLAYER_TRACKING_DATA_CREATED,this._onTrackDataEvent.bind(this,"created")),t.on(l.LIST_PLAYER_TRACKING_DATA_FINALIZED,this._onTrackDataEvent.bind(this,"finalized")),this._descriptorPromise.then(function(t){t.on(c.DEVICE_DESCRIPTOR_CHANGED,function(){this._parseDescriptor(t),this._updateDeviceInfo()}.bind(this))}.bind(this))},S.prototype._onBeforeTrackChange=function(){if(!this._nextFinalizedDataPayload&&!this._switchingContext){var t=this._currentContext?this._currentContext.getStateRef():null,e=this._generateStatePayload(t,"track_data_finalized");this._setSequenceNumber(e),this._nextFinalizedDataPayload=e}},S.prototype._onBeforeTrackLoad=function(){this._loading=!0,this._switchingContext=!1},S.prototype._onBeforePlayerLoad=function(t){var e=this._currentContext;if(e){var n=e.getCurrentTrack();this._currentTrackDuration=n&&n.metadata&&n.metadata.duration||0;var r=t.options;e.setPaused(!r.autoplay),this._setCurrentTrackPosition(r&&r.position||0),this._updateState("before_track_load"),this._startedPlayingUpdateSent=!1,this._initialUpdateSent=!1}},S.prototype._onCapped=function(){this._listPlayer.clear("capped"),this._currentContext=null,this._updateState("capped"),this._setCurrentTrackPosition(void 0),this._lastProcessedStateId=null,this.emit(c.TP_API_STATE_CLEARED)},S.prototype._onConnectionId=function(t){if(this._connectionId=t.id,!this._isDeregistering){this._registered=!1;var e=null;this._abbaClient&&(e=this._abbaClient.getCell("tps_send_all_state_updates").then(function(t){t.fromAbba&&"on"!==t.value&&(this._limitStateUpdates=!0)}.bind(this)).catch(function(){return!1})),o.all([e,this._listPlayer.getVolume(),this._descriptorPromise.then(this._parseDescriptor.bind(this))]).then(this.register.bind(this),function(t){h.info("Skipping registration due to error",t),this.emit(c.TP_API_REGISTRATION_ABORTED,{reason_error:t})}.bind(this)).catch(function(){})}},S.prototype._onDurationChanged=function(t){this._currentTrackDuration=t.duration,this._emitStateChanged()},S.prototype._onError=function(t){"position"in t&&(this._setCurrentTrackPosition(t.position),this._updateState("error"))},S.prototype._onPlayPause=function(t,e){var n=this._currentContext;n&&(n.setPaused(t),"position"in e&&this._setAllTrackPositions(e.position),e.track&&this._shouldSendUpdateForEvent(e.track.stateId)?this._updateState(t?"pause":"resume"):(this._lastProcessedStateId=null,this._emitStateChanged()))},S.prototype._onPlayThresholdReached=function(t){this._initialUpdateSent=!0,this._setAllTrackPositions(t.position),this._updateState("played_threshold_reached")},S.prototype._onPlayTokenLost=function(){this._listPlayer.pause().catch(function(){})},S.prototype._onPositionChanged=function(t){this._loading||(this._setCurrentTrackPosition(t.position),t.track&&this._shouldSendUpdateForEvent(t.track.stateId)?this._updateState("position_changed"):(this._lastProcessedStateId=null,this._emitStateChanged()))},S.prototype._onProgress=function(t){if(!this._loading&&this._currentContext){this._setAllTrackPositions(t.position),!this._startedPlayingUpdateSent&&t.played>1e3&&(this._startedPlayingUpdateSent=!0,this._updateState("started_playing"));var e=t.logData;if(e){e.noLog||(this._totalStreamTime+=t.interval||500);var n=this._currentContext.getCurrentTrack().ms_playing_update_interval;this._initialUpdateSent&&n>0&&Date.now()-this._lastUpdateStateTime>n&&this._updateState("progress")}}},S.prototype._onTrackDataEvent=function(t,e){switch(t){case"created":this._waitingForTrackingData=o.defer();break;case"finalized":var n=this._nextFinalizedDataPayload;n&&(n.playback_stats=e.playbackStats,this._updateState("track_data_finalized",n)),this._nextFinalizedDataPayload=null,this._waitingForTrackingData.resolve(!0);break;default:return}},S.prototype._onTrackLoaded=function(t){this._loading=!1;var e=this._currentContext;e&&(e.setPaused(!t.autoplay),this._setCurrentTrackPosition(t.position||0))},S.prototype._onTrackPlaybackMessage=function(t){var e=t.payloads;Array.isArray(e)&&e.length&&this._performCommand(e[0])},S.prototype._onVolumeChanged=function(t){this._currentGaiaVolume=t.volume*g;var e=t.command_id||"",n={seq_num:null,volume:this._currentGaiaVolume,command_id:e};this._volumeDebouncer.async(n)},S.prototype._clearSessionData=function(){this._connectionId=null,this._sequenceNumber=0,this._currentContext=null,this._lastSentStateUpdatePayload=null,this._totalStreamTime=0,this._isSendingConflict=!1,this._isSendingUpdate=!1,this._queueSendUpdate=[],this._previousTrackPosition=void 0,this._currentTrackPosition=void 0,this._currentTrackDuration=void 0,this._lastProcessedStateId=null,this.emit(c.TP_API_STATE_CLEARED)},S.prototype._createStateRef=function(t,e){if(!e)return null;var n=t.states[e.state_index];if(!n)throw new f(u.TP_CANNOT_CREATE_STATE_REF,"Invalid state reference.");return{state_machine_id:t.state_machine_id,state_id:n.state_id,paused:e.paused}},S.prototype._deregisterFromService=function(t){var e=null,n=this._currentContext;n&&(t&&(n.setPaused(!t.playing),this._setAllTrackPositions(t.position)),e=n.getStateRef());var r=this._generateStatePayload(e,"deregister");this._setSequenceNumber(r);var i=this._endpoint+"/v1/devices/"+this._deviceId;return this._transport.request(i,{authorize:!0,method:"DELETE",payload:JSON.stringify(r),responseType:"json",retry:T}).then(function(t){if(200!==t.status&&204!==t.status)return this._registered=!0,!1;var e=t.body;return e&&(e.endsong&&d.log(e.endsong),e.endsongs&&_.log(e.endsongs)),this._clearSessionData(),this.emit(c.TP_API_DEREGISTERED),!0}.bind(this))},S.prototype._emitError=function(t,e){this._logger.logJSSDKError({source:"tpapi-client",version:p.tagged,type:t.code,message:t&&t.message,stack:t&&t.stack,json_data:e,json_data_version:"1.0.0"}).catch(function(t){h.error("Track-Playback Logging Error",t)}),this.emit(c.TP_API_ERROR,{error:t,data:e})},S.prototype._emitStateChanged=function(){var t=this._currentContext;t&&this.emit(c.TP_API_STATE_CHANGED,{stateMachine:t.getStateMachine(),stateRef:t.getInternalStateRef(),position:this._currentTrackPosition||0,duration:this._currentTrackDuration||0,paused:t.isPaused()})},S.prototype._generateStatePayload=function(t,e){return{seq_num:void 0,seq_nums:void 0,state_ref:t,sub_state:{playback_speed:t&&!t.paused?1:0,position:this._currentTrackPosition,duration:this._currentTrackDuration||void 0,stream_time:this._totalStreamTime},previous_position:this._previousTrackPosition,playback_stats:void 0,rejected_state_refs:void 0,debug_source:e}},S.prototype._handleRegisterResponse=function(t){var e;if(429===t.status)return(e=new f(u.TP_MAX_SUBSCRIPTIONS_REACHED,"Max connections reached").fatal()).maxedSubscriptions=!0,e.status=t.status,this.emit(c.TP_API_MAX_SUBSCRIPTIONS_REACHED,{error:e}),o.reject(e);if(403===t.status&&t.body&&"PREMIUM_REQUIRED"===t.body.error_type?e=new f(u.TP_REGISTRATION_FAILED_NON_PREMIUM,"Cannot register to Track Playback with non-premium user.").fatal():200!==t.status?e=new f(u.TP_REGISTRATION_FAILED_WITH_STATUS,"track-playback service responded with status "+t.status+" when registering device").fatal():t.body||(e=new f(u.TP_NO_RESPONSE_BODY,"Unexpected empty response body from registration request.").fatal()),e)return e.status=t.status,o.reject(e);var n=t.body;return n.endsong&&d.log(n.endsong),n.endsongs&&_.log(n.endsongs),this._sequenceNumber=n.initial_seq_num,this._registered=!0,this.emit(c.TP_API_REGISTERED,{deviceId:this._deviceId}),!0},S.prototype._handleStateConflictResponse=function(t){if(t.status>=200&&t.status<300){var e=t.body;if(!e||!e.commands||!e.commands.length)return;for(var n=e.commands,r=0,i=n.length;r<i;r++)this._performCommand(n[r])}else{var o=new f(u.TP_CONFLICT_REQUEST_FAILED_WITH_STATUS,"Track-Playback service responded with "+t.status);o.status=t.status,this._emitError(o)}},S.prototype._handleStateUpdateResponse=function(t,e){var n;if(200!==e.status)return(n=new f(u.TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS,"Service responded with status "+e.status)).status=e.status,o.reject(n);if(!e.body)return(n=new f(u.TP_UPDATE_REQUEST_EMPTY_RESPONSE,"Unexpected empty response body from state update request.")).status=e.status,o.reject(n);var r=e.body;r.endsong&&d.log(r.endsong),r.endsongs&&_.log(r.endsongs);var i=this._currentContext;if(!i)return o.resolve();var a=r.state_machine,s=r.updated_state_ref;return this._isCurrentStateRef(t)?(i.setStateMachine(a),i.setCurrentState(s),this._emitStateChanged(),o.resolve()):o.resolve()},S.prototype._isCurrentStateRef=function(t){var e=this._currentContext?this._currentContext.getStateRef():null;return!e&&!t||!(!e||!t)&&e.state_machine_id===t.state_machine_id&&e.state_id===t.state_id&&e.paused===t.paused},S.prototype._logUnsentStateUpdate=function(t){h.info("Unsent state update.",t),this._logger.logClientEvent({source:"tpapi-client",source_version:p.tagged,source_vendor:"spotify",event:"unsent-state-update",event_version:"1.0.0",json_data:t}).catch(function(t){h.error("Track-Playback Logging Error",t)})},S.prototype._logout=function(){this._listPlayer.pause().catch(function(){}),this.emit(c.TP_API_STATE_CLEARED),this.deregister().then(function(t){this._currentContext=null,this._setCurrentTrackPosition(void 0),t&&this.emit(c.TP_API_LOGOUT)}.bind(this))},S.prototype._parseDescriptor=function(t){return this._deviceId=t.getId(),this._deviceInfo=t.toTrackPlaybackJSON(),this._manifestFormats=t.getManifestFormats(),!0},S.prototype._performCommand=function(t){switch(t.type){case"set_volume":this._setVolume(t);break;case"log_out":this._logout();break;case"replace_state":this._replaceState(t);break;case"ping":this._updateState("ping");break;default:var e=new f(u.TP_UNKNOWN_COMMAND,"Received unknown command.");this._emitError(e,{command:t})}},S.prototype._rejectState=function(t){var e=this._queuedRejectedStates;if(void 0!==t&&e.push(t),this._registered&&!this._isSendingConflict&&e.length){this._isSendingConflict=!0;var n=e.splice(0,5),r=this._currentContext?this._currentContext.getStateRef():null,i=this._generateStatePayload(r);i.rejected_state_refs=n,this._setSequenceNumbers(i,n.length);var o=function(){this._isSendingConflict=!1,this._rejectState()}.bind(this),a=this._endpoint+"/v1/devices/"+this._deviceId+"/state_conflict";this._transport.request(a,{authorize:!0,method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(i),retry:T}).then(this._handleStateConflictResponse).then(o,o)}},S.prototype._replaceState=function(t){var e=this._listPlayer,n=t.state_machine,r=t.state_ref,i=this._createStateRef(n,r);if(this._isCurrentStateRef(t.prev_state_ref)){if(!r)return e.pause().catch(function(){}),e.clear("remote"),this._currentContext=null,this._updateState("state_clear"),this._setAllTrackPositions(void 0),this._lastProcessedStateId=null,this.emit(c.TP_API_STATE_CLEARED),void(this._loading=!0);var o=this._currentContext?this._currentContext.getStateRef():null;if(o&&o.state_id===i.state_id){var a=this._currentContext;a.setStateMachine(n),a.setCurrentState(r);var s=!1;a.isPaused()!==r.paused&&(s=!0),r.paused?(a.setPaused(!0),e.pause()):(a.setPaused(!1),e.resume());var u=parseInt(t.seek_to,10);a.allowSeeking()&&!isNaN(u)&&(e.seek(u),this._setCurrentTrackPosition(u),s=!0),s?this._emitStateChanged():(this._lastProcessedStateId=null,this._updateState("modify_current_state"))}else{this._lastProcessedStateId=i.state_id,this._currentContext&&this._onBeforeTrackChange();var l=this._ListClass.create("spotify:app:jsspeaker",this._manifestFormats);l.setStateMachine(n),l.startAtState(r),l.setDeviceId(this._deviceId),this._currentContext=l;var f=t.seek_to||0;l.setInitialPosition(f),this._loading=!0,this._switchingContext=!0,e.play(l,{reason:"remote"})}}else this._rejectState(i)},S.prototype._sendDevicesRequest=function(t,e){var n=this._endpoint+"/v1/devices";return"PUT"===t&&(n+="/"+this._deviceId),this._transport.request(n,{authorize:!0,method:t||"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(e),retry:b})},S.prototype._sendVolume=function(t){var e=this._endpoint+"/v1/devices/"+this._deviceId+"/volume";return this._setSequenceNumber(t),this._transport.request(e,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},payload:JSON.stringify(t)})},S.prototype._setAllTrackPositions=function(t){this._previousTrackPosition=t,this._currentTrackPosition=t},S.prototype._setCurrentTrackPosition=function(t){this._previousTrackPosition=this._currentTrackPosition,this._currentTrackPosition=t},S.prototype._setSequenceNumber=function(t){return void 0===t.seq_num&&(t.seq_num=++this._sequenceNumber),t},S.prototype._setSequenceNumbers=function(t,e){t.seq_nums=[];for(var n=0;n<e;n++)t.seq_nums.push(++this._sequenceNumber);return t},S.prototype._setVolume=function(t){var e=t.volume/g;this._listPlayer.setVolume(e,t.command_id)},S.prototype._shouldSendUpdateForEvent=function(t){return!(!t||t===this._lastProcessedStateId)},S.prototype._updateDeviceInfo=function(){this._registered&&this._sendDevicesRequest("PUT",this._deviceInfo).then(function(t){204===t.status&&this.emit(c.TP_API_REGISTRATION_UPDATED)}.bind(this))},S.prototype._updateState=function(t,e){var n,r;if(this._registered)if(e?(n=e.state_ref,r=e):(n=this._currentContext?this._currentContext.getStateRef():null,r=this._generateStatePayload(n,t)),this._wasStatePayloadSentRecently(r)){if(this._emitStateChanged(),this._isSendingUpdate&&this._limitStateUpdates)return this._logUnsentStateUpdate(r),void this._queueSendUpdate.push(t);this._isSendingUpdate=!0,this._queueSendUpdate=[],this._setSequenceNumber(r),this._lastSentStateUpdatePayload=r;var i=function(){this._isSendingUpdate=!1,this._queueSendUpdate.length&&this._updateState(this._queueSendUpdate.join(",")),h.info("State update sent.",t,r)}.bind(this),o=this._endpoint+"/v1/devices/"+this._deviceId+"/state";this._lastUpdateStateTime=Date.now(),this._transport.request(o,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(r),retry:b}).then(this._handleStateUpdateResponse.bind(this,n)).then(i,function(t){this._emitError(t),i()}.bind(this))}else h.info("State update ignored (duplicate).",r)},S.prototype._wasStatePayloadSentRecently=function(t){var e=this._lastSentStateUpdatePayload;if(!e||!e.state_ref||!t.state_ref)return!0;var n=t.state_ref,r=e.state_ref;if(n.paused!==r.paused||n.state_id!==r.state_id||n.state_machine_id!==r.state_machine_id)return!0;var i=t.sub_state,o=e.sub_state;return i.playback_speed!==o.playback_speed||i.position!==o.position||i.duration!==o.duration||t.previous_position!==e.previous_position},S.prototype.deregister=function(){return this._registered?(this._isDeregistering=!0,this._registered=!1,this._listPlayer.getPlayerState().then(function(t){return o.all([this._deregisterFromService(t),this._waitingForTrackingData.promise,this._listPlayer.stop().catch(function(){})]).spread(function(t){return this._isDeregistering=!1,t}.bind(this))}.bind(this),function(){return this._isDeregistering=!1,this._registered=!0,!1}.bind(this))):o.resolve(!1)},S.prototype.register=function(){if(this._registered)return o.resolve(!1);var t=null,e=this._currentContext;return e&&(t=this._generateStatePayload(e.getStateRef(),"register"),this._setSequenceNumber(t)),this._sendDevicesRequest("POST",{device:this._deviceInfo,connection_id:this._connectionId,client_version:this._clientVersion,previous_session_state:t,volume:this._currentGaiaVolume}).then(this._handleRegisterResponse).catch(function(t){return t&&!t.maxedSubscriptions&&(t.registration=!0,this._emitError(t)),!1}.bind(this))},t.exports=S},wcNg:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=R(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",d={};function _(){}function y(){}function v(){}var m={};m[o]=function(){return this};var g=Object.getPrototypeOf,E=g&&g(g(I([])));E&&E!==n&&r.call(E,o)&&(m=E);var b=v.prototype=_.prototype=Object.create(m);function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var s=c(t[n],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},function(t){return e("throw",t,o,a)})}a(s.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function R(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function I(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:N}}function N(){return{value:e,done:!0}}return y.prototype=b.constructor=v,v.constructor=y,v[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},T(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i){var o=new S(u(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},T(b),b[s]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},wfEq:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},wfH0:function(t,e,n){"use strict";var r=16,i=Array.prototype.slice;function o(t,e,n){this.tag=t,this.description=e,this._predicate=n,this._tagParts=t.split("."),this._tagText="["+t+"]","true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG?this._enabled=!0:this._enabled=!1,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}o.prototype.matchesTag=function(t){var e=Array.isArray(t)?t:t.split("."),n=this._tagParts;if(e.length>n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(("*"!==e[r]||!n[r])&&e[r]!==n[r])return!1;return!0},o.prototype.setLevel=function(t){var e=0;switch(t){case"error":e=r;break;case"warn":e=24;break;case"info":e=28;break;case"debug":e=30;break;case"log":default:e=31}this._level=e},o.prototype.enable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!0)},o.prototype.disable=function(){"true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG&&(this._enabled=!1)},o.prototype.log=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||1&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"log",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.debug=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||2&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"debug",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.info=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||4&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"info",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.warn=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||8&this._level))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"warn",tag:this.tag,args:t});if(this._predicate(e))return}},o.prototype.error=function(){if("true"===Object({NODE_ENV:"production",ORIGIN:"https://open.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_URL:"https://exp.wg.spotify.com",WEB_API_URL:"https://api.spotify.com",DEBUG_EVENTSENDER:!1}).DEBUG){if(!(this._enabled||this._level&r))return;var t=i.call(arguments),e=([this._tagText].concat(t),{type:"error",tag:this.tag,args:t});if(this._predicate(e))return}},t.exports=o},wjI5:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},wrle:function(t,e,n){"use strict";t.exports=function(t,e){for(var n,r=1;r<arguments.length;r++)if(n=arguments[r])for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t}},xARA:function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){}}(),t.exports=n("9t1y")},xAxK:function(t,e,n){"use strict";(function(e){var r=n("asuC"),i=n("6GjV"),o=n("IQWk"),a=n("Mj+E"),s={POST:!0,PUT:!0,DELETE:!0},u={json:!0,text:!0,arraybuffer:!0,blob:!0};function c(){return"function"==typeof e.fetch}t.exports={request:function(t,n){if(!c())return r.reject(new TypeError("Fetch is not supported"));var l=n||{};if(!t)return r.reject(new TypeError("Request URL cannot be blank."));var f=t,p=null,h=l.payload,d=(l.method||"GET").toUpperCase();d in s&&h?p=h:h&&(f+="?"+h);var _=l.responseType||"text";if(_&&!(_ in u))return r.reject(new TypeError("Cannot set responseType: not supported in browser."));var y=l.ignoreResponseBody,v={mode:l.mode||"cors",credentials:l.credentials||"same-origin",redirect:l.redirect||"follow",method:d};l.headers&&(v.headers=l.headers),p&&(v.body=p);var m=Date.now();return e.fetch(f,v).then(function(t){var e;e=y||t.status===a.NO_CONTENT?null:"json"===_?t.json().catch(function(){return null}):"arraybuffer"===_?t.arrayBuffer():"blob"===_?t.blob():t.text();var n=l.parseResponseHeaders||t.status>299?new o(t.headers):null;return r.all([t.url,t.status,n,e])}).then(function(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=l.timing?Date.now()-m:null,s=new i(e,n);return s.body=o,s.headers=r,s.timing=l.timing?{completed:a}:null,s}).catch(function(){var t=l.timing?Date.now()-m:null,e=new i(f);return e.timing=l.timing?{completed:t}:null,e}).then(function(t){return l.connectionObserver&&(t.offline=!l.connectionObserver.isOnline()),t})},isSupported:c}}).call(this,n("pCvA"))},xPWU:function(t,e,n){"use strict";var r=n("asuC"),i=n("KUYf"),o=n("t8IR"),a=n("LxXC"),s=/^[a-zA-Z0-9_%:-]{1,40}$/;t.exports={create:function(t){if(!t)throw new TypeError("Argument `options` is not defined.");if(t.descriptor&&t.descriptor.id&&!s.test(t.descriptor.id))throw new TypeError("Invalid device id.");var e,n,u={};if(t.transport)e=t.transport,n=!!t.allowLifecycleManagement;else{if("function"!=typeof t.getToken)throw new TypeError("Argument options.getToken must be a function");var c=i(t.xresolve);e=o({ownerRef:u,providers:{endpoints:function(e){return c(e).then(function(e){var n=t.endpoints;if(n)for(var r in n)n.hasOwnProperty(r)&&n[r]&&(e[r]=n[r]);return e})},token:function(){return new r(function(e){t.getToken(function(t,n){e(void 0===n?t:[t,n])})})}},requestMode:t.requestMode||"fetch",reconnectionRetries:t.reconnectionRetries,forcePolyfillTypes:t.forcePolyfillTypes}),n=!0}return a.create({transport:e,ownerRef:u,allowLifecycleManagement:n,descriptor:t.descriptor,playTokenLostBehavior:t.playTokenLostBehavior,hidden:t.hidden})}}},xSFS:function(t,e,n){"use strict";var r=n("ovh1"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},xTpk:function(t,e,n){"use strict";var r=n("upWy");function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},xVO4:function(t,e,n){"use strict";t.exports=n("9K2m")},xfeJ:function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},"y+aH":function(t,e,n){"use strict";n.r(e);var r=n("mXGw"),i=n.n(r),o=n("W0B4"),a=n.n(o),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return o.state={},o.styles={ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}},o.elements={},o.onResize=o.onResize.bind(o),o.onTruncate=o.onTruncate.bind(o),o.calcTargetWidth=o.calcTargetWidth.bind(o),o.measureWidth=o.measureWidth.bind(o),o.getLines=o.getLines.bind(o),o.renderLine=o.renderLine.bind(o),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),u(e,[{key:"componentDidMount",value:function(){var t=this.elements.text,e=this.calcTargetWidth,n=this.onResize,r=document.createElement("canvas");this.canvasContext=r.getContext("2d"),e(function(){t&&t.parentNode.removeChild(t)}),window.addEventListener("resize",n)}},{key:"componentDidUpdate",value:function(t){this.props.children!==t.children&&this.forceUpdate(),this.props.width!==t.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var t=this.elements.ellipsis,e=this.onResize,n=this.timeout;t.parentNode.removeChild(t),window.removeEventListener("resize",e),window.cancelAnimationFrame(n)}},{key:"innerText",value:function(t){var e=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent";e.innerHTML=t.innerHTML.replace(/\r\n|\r|\n/g," ");var r=e[n],i=document.createElement("div");return i.innerHTML="foo<br/>bar","foo\nbar"!==i[n].replace(/\r\n|\r/g,"\n")&&(e.innerHTML=e.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),r=e[n]),r}},{key:"onResize",value:function(){this.calcTargetWidth()}},{key:"onTruncate",value:function(t){var e=this.props.onTruncate;"function"==typeof e&&(this.timeout=window.requestAnimationFrame(function(){e(t)}))}},{key:"calcTargetWidth",value:function(t){var e=this.elements.target,n=this.calcTargetWidth,r=this.canvasContext,i=this.props.width;if(e){var o=i||Math.floor(e.parentNode.getBoundingClientRect().width);if(!o)return window.requestAnimationFrame(function(){return n(t)});var a=window.getComputedStyle(e),s=[a["font-weight"],a["font-style"],a["font-size"],a["font-family"]].join(" ");r.font=s,this.setState({targetWidth:o},t)}}},{key:"measureWidth",value:function(t){return this.canvasContext.measureText(t).width}},{key:"ellipsisWidth",value:function(t){return t.offsetWidth}},{key:"trimRight",value:function(t){return t.replace(/\s+$/,"")}},{key:"getLines",value:function(){for(var t=this.elements,e=this.props,n=e.lines,r=e.ellipsis,o=e.trimWhitespace,a=this.state.targetWidth,s=this.innerText,u=this.measureWidth,c=this.onTruncate,l=this.trimRight,f=[],p=s(t.text).split("\n").map(function(t){return t.split(" ")}),h=!0,d=this.ellipsisWidth(this.elements.ellipsis),_=1;_<=n;_++){var y=p[0];if(0!==y.length){var v=y.join(" ");if(u(v)<=a&&1===p.length){h=!1,f.push(v);break}if(_===n){for(var m=y.join(" "),g=0,E=m.length-1;g<=E;){var b=Math.floor((g+E)/2);u(m.slice(0,b+1))+d<=a?g=b+1:E=b-1}var T=m.slice(0,g);if(o)for(T=l(T);!T.length&&f.length;)T=l(f.pop());v=i.a.createElement("span",null,T,r)}else{for(var S=0,R=y.length-1;S<=R;){var w=Math.floor((S+R)/2);u(y.slice(0,w+1).join(" "))<=a?S=w+1:R=w-1}if(0===S){_=n-1;continue}v=y.slice(0,S).join(" "),p[0].splice(0,S)}f.push(v)}else f.push(),p.shift(),_--}return c(h),f}},{key:"renderLine",value:function(t,e,n){if(e===n.length-1)return i.a.createElement("span",{key:e},t);var r=i.a.createElement("br",{key:e+"br"});return t?[i.a.createElement("span",{key:e},t),r]:r}},{key:"render",value:function(){var t=this,e=this.elements.target,n=this.props,r=n.children,o=n.ellipsis,a=n.lines,u=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(n,["children","ellipsis","lines"]),c=this.state.targetWidth,l=this.getLines,f=this.renderLine,p=this.onTruncate,h=void 0;return"undefined"!=typeof window&&!(!e||!c)&&(a>0?h=l().map(f):(h=r,p(!1))),delete u.onTruncate,delete u.trimWhitespace,i.a.createElement("span",s({},u,{ref:function(e){t.elements.target=e}}),i.a.createElement("span",null,h),i.a.createElement("span",{ref:function(e){t.elements.text=e}},r),i.a.createElement("span",{ref:function(e){t.elements.ellipsis=e},style:this.styles.ellipsis},o))}}]),e}();c.propTypes={children:a.a.node,ellipsis:a.a.node,lines:a.a.oneOfType([a.a.oneOf([!1]),a.a.number]),trimWhitespace:a.a.bool,width:a.a.number,onTruncate:a.a.func},c.defaultProps={children:"",ellipsis:"…",lines:1,trimWhitespace:!1,width:0},e.default=c},y7hz:function(t,e,n){"use strict";var r=n("PQZM"),i=n("qG8n"),o=n("asuC"),a=n("1Wwy"),s=n("P1TA"),u="@webgate/melody",c=/^wss:\/\/event$/;function l(t){i.call(this),this._transport=t.transport,this._endpoint=t.endpoint||u,this._currentState=null,this._currentConnectionId=null,this._handleUserUpdate=this._handleUserUpdate.bind(this),this._init()}r(l,i),l.create=function(t){return new l(t)},l.prototype._init=function(){this._transport.on(s.TRANSPORT_CONNECTION_ID,function(t){this.register(t.id).catch(function(){})}.bind(this))},l.prototype._handleUserUpdate=function(){this._transport.forceTokenRefresh().catch(function(){}),this.getCurrentState(!0).then(function(t){this.emit(s.PRODUCT_STATE_CHANGED,{productState:t})}.bind(this)).catch(function(){})},l.prototype._shouldRetry=function(t,e){var n=t.getStatusFamily();return n===e.SERVER_ERROR||n===e.BROWSER_ERROR},l.prototype._createSubURL=function(t){return"@webapi/v1/me/notifications/user?connection_id="+encodeURIComponent(t)},l.prototype.getCurrentState=function(t){return!t&&this._currentState?o.resolve(this._currentState):this._transport.request(this._endpoint+"/v1/product_state",{method:"GET",responseType:"json",retry:{condition:this._shouldRetry}}).then(function(t){return t.status!==a.OK?(this._currentState=null,o.reject(new Error("Cannot get the user's product state."))):(this._currentState=t.body,t.body)}.bind(this))},l.prototype.register=function(t){return t||o.reject(new TypeError("ConnectionId cannot be null")),this._transport.matchMessages(c,this._handleUserUpdate),this._transport.request(this._createSubURL(t),{method:"PUT",ignoreResponseBody:!0,ignoreUnauthorized:!0,retry:{condition:this._shouldRetry}}).then(function(e){if(e.status!==a.OK){var n="Cannot register for product state updates: service responded with status "+e.status;return o.reject(new Error(n))}return this._connectionId=t,!0}.bind(this))},l.prototype.deregister=function(){var t=this._connectionId;return t?(this._transport.unmatchMessages(c,this._handleUserUpdate),this._transport.request(this._createSubURL(t),{method:"DELETE",ignoreResponseBody:!0,ignoreUnauthorized:!0,retry:{condition:this._shouldRetry}}).then(function(t){return t.status===a.OK?(this._connectionId=null,o.resolve(!0)):o.resolve(!1)}.bind(this))):o.resolve(!1)},t.exports=l},y91a:function(t,e,n){"use strict";var r=n("8/eb");t.exports=r({BROWSER_ERROR:0,CONNECTION_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5})},ySKi:function(t,e,n){"use strict";function r(t,e){Error.call(this,e),this.code=t,this.message=e,this.debug={}}r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="TrackingError",t.exports=r},yVym:function(t,e,n){"use strict";n.r(e);var r=n("mXGw"),i=n.n(r),o=n("W0B4"),a=n.n(o),s=n("8Jek"),u=n.n(s),c=n("IL7q"),l=n.n(c);function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t&&t.apply(void 0,n)}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var h="react-contextmenu",d="react-contextmenu--visible",_="react-contextmenu-item",y="react-contextmenu-item--disabled",v="react-contextmenu-item--selected",m={},g=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),E="REACT_CONTEXTMENU_SHOW",b="REACT_CONTEXTMENU_HIDE";function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(t,{detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!0,e),n&&(n.dispatchEvent(r),l()(m,e))}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];T(E,l()({},t,{type:E}),e)}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];T(b,l()({},t,{type:b}),e)}var w=new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handleShowEvent=function(t){for(var n in e.callbacks)p(e.callbacks,n)&&e.callbacks[n].show(t)},this.handleHideEvent=function(t){for(var n in e.callbacks)p(e.callbacks,n)&&e.callbacks[n].hide(t)},this.register=function(t,n){var r=Math.random().toString(36).substring(7);return e.callbacks[r]={show:t,hide:n},r},this.unregister=function(t){t&&e.callbacks[t]&&delete e.callbacks[t]},this.callbacks={},g&&(window.addEventListener(E,this.handleShowEvent),window.addEventListener(b,this.handleHideEvent))},O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var C=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=N(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.handleClick=function(t){0!==t.button&&1!==t.button&&t.preventDefault(),r.props.disabled||r.props.divider||(f(r.props.onClick,t,l()({},r.props.data,m.data),m.target),r.props.preventClose||R())},N(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),A(e,[{key:"render",value:function(){var t,e=this,n=this.props,r=n.disabled,o=n.divider,a=n.children,s=n.attributes,c=n.selected,l=u()(_,s.className,(I(t={},u()(y,s.disabledClassName),r),I(t,u()("react-contextmenu-item--divider",s.dividerClassName),o),I(t,u()(v,s.selectedClassName),c),t));return i.a.createElement("div",O({},s,{className:l,role:"menuitem",tabIndex:"-1","aria-disabled":r?"true":"false","aria-orientation":o?"horizontal":null,ref:function(t){e.ref=t},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),o?null:a)}}]),e}();C.propTypes={children:a.a.node,attributes:a.a.object,data:a.a.object,disabled:a.a.bool,divider:a.a.bool,preventClose:a.a.bool,onClick:a.a.func,selected:a.a.bool,onMouseMove:a.a.func,onMouseLeave:a.a.func},C.defaultProps={disabled:!1,data:{},divider:!1,attributes:{},preventClose:!1,onClick:function(){return null},children:null,selected:!1,onMouseMove:function(){return null},onMouseLeave:function(){return null}};var P=C,L=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return k.call(n),n.seletedItemRef=null,n.state={selectedItem:null,forceSubMenuOpen:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),e}();L.propTypes={children:a.a.node.isRequired};var k=function(){var t=this;this.handleKeyNavigation=function(e){if(!1!==t.state.isVisible)switch(e.keyCode){case 37:case 27:e.preventDefault(),t.hideMenu(e);break;case 38:e.preventDefault(),t.selectChildren(!0);break;case 40:e.preventDefault(),t.selectChildren(!1);break;case 39:t.tryToOpenSubMenu(e);break;case 13:e.preventDefault(),t.tryToOpenSubMenu(e);var n=t.seletedItemRef&&t.seletedItemRef.props&&t.seletedItemRef.props.disabled;t.seletedItemRef&&t.seletedItemRef.ref instanceof HTMLElement&&!n?t.seletedItemRef.ref.click():t.hideMenu(e)}},this.handleForceClose=function(){t.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(e){t.state.selectedItem&&t.state.selectedItem.type===t.getSubMenuType()&&(e.preventDefault(),t.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(e){var n=t.state.selectedItem,r=[],o=0,a={};if(i.a.Children.forEach(t.props.children,function e(n,s){n&&([P,t.getSubMenuType()].indexOf(n.type)<0?i.a.Children.forEach(n.props.children,e):n.props.divider||(n.props.disabled&&(++o,a[s]=!0),r.push(n)))}),o!==r.length){var s=function(t){var n=t;do{e?--n:++n,n<0?n=r.length-1:n>=r.length&&(n=0)}while(n!==t&&a[n]);return n===t?null:n}(r.indexOf(n));null!==s&&t.setState({selectedItem:r[s],forceSubMenuOpen:!1})}},this.onChildMouseMove=function(e){t.state.selectedItem!==e&&t.setState({selectedItem:e,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){t.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(e){return i.a.Children.map(e,function(e){var n={};return i.a.isValidElement(e)?[P,t.getSubMenuType()].indexOf(e.type)<0?(n.children=t.renderChildren(e.props.children),i.a.cloneElement(e,n)):(n.onMouseLeave=t.onChildMouseLeave.bind(t),e.type===t.getSubMenuType()&&(n.forceOpen=t.state.forceSubMenuOpen&&t.state.selectedItem===e,n.forceClose=t.handleForceClose,n.parentKeyNavigationHandler=t.handleKeyNavigation),e.props.divider||t.state.selectedItem!==e?(n.onMouseMove=function(){return t.onChildMouseMove(e)},i.a.cloneElement(e,n)):(n.selected=!0,n.ref=function(e){t.seletedItemRef=e},i.a.cloneElement(e,n))):e})}},D=L,x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getMenuPosition=function(){var t=window,e=t.innerWidth,r=t.innerHeight,i=n.subMenu.getBoundingClientRect(),o={};return i.bottom>r?o.bottom=0:o.top=0,i.right<e?o.left="100%":o.right="100%",o},n.getRTLMenuPosition=function(){var t=window.innerHeight,e=n.subMenu.getBoundingClientRect(),r={};return e.bottom>t?r.bottom=0:r.top=0,e.left<0?r.left="100%":r.right="100%",r},n.hideMenu=function(t){t.detail&&t.detail.id&&n.menu&&t.detail.id!==n.menu.id||(n.props.forceOpen&&n.props.forceClose(),n.setState({visible:!1,selectedItem:null}),n.unregisterHandlers())},n.handleClick=function(t){t.preventDefault(),n.props.disabled||f(n.props.onClick,t,l()({},n.props.data,m.data),m.target)},n.handleMouseEnter=function(){n.closetimer&&clearTimeout(n.closetimer),n.props.disabled||n.state.visible||(n.opentimer=setTimeout(function(){return n.setState({visible:!0,selectedItem:null})},n.props.hoverDelay))},n.handleMouseLeave=function(){n.opentimer&&clearTimeout(n.opentimer),n.state.visible&&(n.closetimer=setTimeout(function(){return n.setState({visible:!1,selectedItem:null})},n.props.hoverDelay))},n.menuRef=function(t){n.menu=t},n.subMenuRef=function(t){n.subMenu=t},n.registerHandlers=function(){document.removeEventListener("keydown",n.props.parentKeyNavigationHandler),document.addEventListener("keydown",n.handleKeyNavigation)},n.unregisterHandlers=function(t){document.removeEventListener("keydown",n.handleKeyNavigation),t||document.addEventListener("keydown",n.props.parentKeyNavigationHandler)},n.state=l()({},n.state,{visible:!1}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,D),M(e,[{key:"componentDidMount",value:function(){this.listenId=w.register(function(){},this.hideMenu)}},{key:"getSubMenuType",value:function(){return e}},{key:"shouldComponentUpdate",value:function(t,e){return this.isVisibilityChange=!(this.state.visible===e.visible&&this.props.forceOpen===t.forceOpen||this.state.visible&&t.forceOpen||this.props.forceOpen&&e.visible),!0}},{key:"componentDidUpdate",value:function(){var t=this;this.isVisibilityChange&&(this.props.forceOpen||this.state.visible?(window.requestAnimationFrame||setTimeout)(function(){var e=t.props.rtl?t.getRTLMenuPosition():t.getMenuPosition();t.subMenu.style.removeProperty("top"),t.subMenu.style.removeProperty("bottom"),t.subMenu.style.removeProperty("left"),t.subMenu.style.removeProperty("right"),p(e,"top")&&(t.subMenu.style.top=e.top),p(e,"left")&&(t.subMenu.style.left=e.left),p(e,"bottom")&&(t.subMenu.style.bottom=e.bottom),p(e,"right")&&(t.subMenu.style.right=e.right),t.subMenu.classList.add(d),t.registerHandlers(),t.setState({selectedItem:null})}):(this.subMenu.addEventListener("transitionend",function e(){t.subMenu.removeEventListener("transitionend",e),t.subMenu.style.removeProperty("bottom"),t.subMenu.style.removeProperty("right"),t.subMenu.style.top=0,t.subMenu.style.left="100%",t.unregisterHandlers()}),this.subMenu.classList.remove(d)))}},{key:"componentWillUnmount",value:function(){this.listenId&&w.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers(!0)}},{key:"render",value:function(){var t,e=this.props,n=e.children,r=e.attributes,o=e.disabled,a=e.title,s=e.selected,c=this.state.visible,l={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:u()(_,"react-contextmenu-submenu",r.listClassName),style:{position:"relative"}},f={className:u()(_,r.className,(t={},U(t,u()(y,r.disabledClassName),o),U(t,u()("react-contextmenu-item--active",r.visibleClassName),c),U(t,u()(v,r.selectedClassName),s),t)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},p={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:u()(h,this.props.className)};return i.a.createElement("nav",x({},l,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),i.a.createElement("div",x({},r,f),a),i.a.createElement("nav",x({},p,{role:"menu",tabIndex:"-1"}),this.renderChildren(n)))}}]),e}();F.propTypes={children:a.a.node.isRequired,attributes:a.a.object,title:a.a.node.isRequired,className:a.a.string,disabled:a.a.bool,hoverDelay:a.a.number,rtl:a.a.bool,selected:a.a.bool,onMouseMove:a.a.func,onMouseOut:a.a.func,forceOpen:a.a.bool,forceClose:a.a.func,parentKeyNavigationHandler:a.a.func},F.defaultProps={disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var j=F,B=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),V=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(t){if(t.detail.id===n.props.id&&!n.state.isVisible){var e=t.detail.position,r=e.x,i=e.y;n.setState({isVisible:!0,x:r,y:i}),n.registerHandlers(),f(n.props.onShow,t)}},n.handleHide=function(t){!n.state.isVisible||t.detail&&t.detail.id&&t.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),f(n.props.onHide,t))},n.handleOutsideClick=function(t){n.menu.contains(t.target)||R()},n.handleMouseLeave=function(t){t.preventDefault(),f(n.props.onMouseLeave,t,l()({},n.props.data,m.data),m.target),n.props.hideOnLeave&&R()},n.handleContextMenu=function(t){t.preventDefault(),n.handleHide(t)},n.hideMenu=function(t){27!==t.keyCode&&13!==t.keyCode||R()},n.getMenuPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:e,left:t};if(!n.menu)return r;var i=window,o=i.innerWidth,a=i.innerHeight,s=n.menu.getBoundingClientRect();return e+s.height>a&&(r.top-=s.height),t+s.width>o&&(r.left-=s.width),r.top<0&&(r.top=s.height<a?(a-s.height)/2:0),r.left<0&&(r.left=s.width<o?(o-s.width)/2:0),r},n.getRTLMenuPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:e,left:t};if(!n.menu)return r;var i=window,o=i.innerWidth,a=i.innerHeight,s=n.menu.getBoundingClientRect();return r.left=t-s.width,e+s.height>a&&(r.top-=s.height),r.left<0&&(r.left+=s.width),r.top<0&&(r.top=s.height<a?(a-s.height)/2:0),r.left+s.width>o&&(r.left=s.width<o?(o-s.width)/2:0),r},n.menuRef=function(t){n.menu=t},n.state=l()({},n.state,{x:0,y:0,isVisible:!1}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,D),B(e,[{key:"getSubMenuType",value:function(){return j}},{key:"componentDidMount",value:function(){this.listenId=w.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var t=this;if(this.state.isVisible){var e=window.requestAnimationFrame||setTimeout;e(function(){var n=t.state,r=n.x,i=n.y,o=t.props.rtl?t.getRTLMenuPosition(r,i):t.getMenuPosition(r,i),a=o.top,s=o.left;e(function(){t.menu&&(t.menu.style.top=a+"px",t.menu.style.left=s+"px",t.menu.style.opacity=1,t.menu.style.pointerEvents="auto")})})}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&w.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var t,e,n,r=this.props,o=r.children,a=r.className,s=r.style,c=this.state.isVisible,f=l()({},s,{position:"fixed",opacity:0,pointerEvents:"none"}),p=u()(h,a,(n=c,(e=d)in(t={})?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t));return i.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:f,className:p,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(o))}}]),e}();V.propTypes={id:a.a.string.isRequired,children:a.a.node.isRequired,data:a.a.object,className:a.a.string,hideOnLeave:a.a.bool,rtl:a.a.bool,onHide:a.a.func,onMouseLeave:a.a.func,onShow:a.a.func,style:a.a.object},V.defaultProps={className:"",data:{},hideOnLeave:!1,rtl:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},style:{}};var G=V,W=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function H(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var K=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=H(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.touchHandled=!1,r.handleMouseDown=function(t){r.props.holdToDisplay>=0&&0===t.button&&(t.persist(),t.stopPropagation(),r.mouseDownTimeoutId=setTimeout(function(){return r.handleContextClick(t)},r.props.holdToDisplay)),f(r.props.attributes.onMouseDown,t)},r.handleMouseUp=function(t){0===t.button&&clearTimeout(r.mouseDownTimeoutId),f(r.props.attributes.onMouseUp,t)},r.handleMouseOut=function(t){0===t.button&&clearTimeout(r.mouseDownTimeoutId),f(r.props.attributes.onMouseOut,t)},r.handleTouchstart=function(t){r.touchHandled=!1,r.props.holdToDisplay>=0&&(t.persist(),t.stopPropagation(),r.touchstartTimeoutId=setTimeout(function(){r.handleContextClick(t),r.touchHandled=!0},r.props.holdToDisplay)),f(r.props.attributes.onTouchStart,t)},r.handleTouchEnd=function(t){r.touchHandled&&t.preventDefault(),clearTimeout(r.touchstartTimeoutId),f(r.props.attributes.onTouchEnd,t)},r.handleContextMenu=function(t){r.handleContextClick(t),f(r.props.attributes.onContextMenu,t)},r.handleContextClick=function(t){if(!(r.props.disable||r.props.disableIfShiftIsPressed&&t.shiftKey)){t.preventDefault(),t.stopPropagation();var e=t.clientX||t.touches&&t.touches[0].pageX,n=t.clientY||t.touches&&t.touches[0].pageY;r.props.posX&&(e-=r.props.posX),r.props.posY&&(n-=r.props.posY),R();var i=f(r.props.collect,r.props),o={position:{x:e,y:n},target:r.elem,id:r.props.id};i&&"function"==typeof i.then?i.then(function(e){o.data=l()({},e,{target:t.target}),S(o)}):(o.data=l()({},i,{target:t.target}),S(o))}},r.elemRef=function(t){r.elem=t},H(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),W(e,[{key:"render",value:function(){var t=this.props,e=t.renderTag,n=t.attributes,r=t.children,o=l()({},n,{className:u()("react-contextmenu-wrapper",n.className),onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return i.a.createElement(e,o,r)}}]),e}();K.propTypes={id:a.a.string.isRequired,children:a.a.node.isRequired,attributes:a.a.object,collect:a.a.func,disable:a.a.bool,holdToDisplay:a.a.number,posX:a.a.number,posY:a.a.number,renderTag:a.a.oneOfType([a.a.node,a.a.func]),disableIfShiftIsPressed:a.a.bool},K.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div",posX:0,posY:0,disableIfShiftIsPressed:!1};var q=K,Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),X=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Object.keys(q.propTypes)),["children"]),Q=function(t){return function(e){return function(n){function r(e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.handleShow=function(e){if(e.detail.id===t){var r=e.detail.data,i={};for(var o in r)X.includes(o)||(i[o]=r[o]);n.setState({trigger:i})}},n.handleHide=function(){n.setState({trigger:null})},n.state={trigger:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),z(r,[{key:"componentDidMount",value:function(){this.listenId=w.register(this.handleShow,this.handleHide)}},{key:"componentWillUnmount",value:function(){this.listenId&&w.unregister(this.listenId)}},{key:"render",value:function(){return i.a.createElement(e,Y({},this.props,{id:t,trigger:this.state.trigger}))}}]),r}(r.Component)}};n.d(e,"ContextMenu",function(){return G}),n.d(e,"ContextMenuTrigger",function(){return q}),n.d(e,"MenuItem",function(){return P}),n.d(e,"SubMenu",function(){return j}),n.d(e,"connectMenu",function(){return Q}),n.d(e,"hideMenu",function(){return R}),n.d(e,"showMenu",function(){return S})},yWAF:function(t,e,n){"use strict";n.r(e);var r=function(){return!1},i=function(){return!0},o={"@@functional/placeholder":!0};function a(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function s(t){return function e(n){return 0===arguments.length||a(n)?e:t.apply(this,arguments)}}function u(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return a(n)?e:s(function(e){return t(n,e)});default:return a(n)&&a(r)?e:a(n)?s(function(e){return t(e,r)}):a(r)?s(function(e){return t(n,e)}):t(n,r)}}}var c=u(function(t,e){return Number(t)+Number(e)});function l(t,e){var n;e=e||[];var r=(t=t||[]).length,i=e.length,o=[];for(n=0;n<r;)o[o.length]=t[n],n+=1;for(n=0;n<i;)o[o.length]=e[n],n+=1;return o}function f(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function p(t,e,n){return function(){for(var r=[],i=0,o=t,s=0;s<e.length||i<arguments.length;){var u;s<e.length&&(!a(e[s])||i>=arguments.length)?u=e[s]:(u=arguments[i],i+=1),r[s]=u,a(u)||(o-=1),s+=1}return o<=0?n.apply(this,r):f(o,p(t,r,n))}}var h=u(function(t,e){return 1===t?s(e):f(t,p(t,[],e))}),d=s(function(t){return h(t.length,function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=n.apply(this,l(arguments,[e,r]));return e+=1,t},t.apply(this,i)})});function _(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return a(n)?e:u(function(e,r){return t(n,e,r)});case 2:return a(n)&&a(r)?e:a(n)?u(function(e,n){return t(e,r,n)}):a(r)?u(function(e,r){return t(n,e,r)}):s(function(e){return t(n,r,e)});default:return a(n)&&a(r)&&a(i)?e:a(n)&&a(r)?u(function(e,n){return t(e,n,i)}):a(n)&&a(i)?u(function(e,n){return t(e,r,n)}):a(r)&&a(i)?u(function(e,r){return t(n,e,r)}):a(n)?s(function(e){return t(e,r,i)}):a(r)?s(function(e){return t(n,e,i)}):a(i)?s(function(e){return t(n,r,e)}):t(n,r,i)}}}var y=_(function(t,e,n){if(t>=n.length||t<-n.length)return n;var r=(t<0?n.length:0)+t,i=l(n);return i[r]=e(n[r]),i}),v=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function m(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function g(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!v(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(m(i)){var a=e.apply(null,r);return a(i)}}return n.apply(this,arguments)}}function E(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var b={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},T=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=E(this.xf["@@transducer/step"](t,!1))),t},t}(),S=u(g(["all"],u(function(t,e){return new T(t,e)}),function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0})),R=u(function(t,e){return e>t?e:t});function w(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}function O(t){return"[object String]"===Object.prototype.toString.call(t)}var A=s(function(t){return!!v(t)||!!t&&"object"==typeof t&&!O(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))}),I=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function N(t){return new I(t)}var C=u(function(t,e){return f(t.length,function(){return t.apply(e,arguments)})});function P(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function L(t,e,n,r){return t["@@transducer/result"](n[r](C(t["@@transducer/step"],t),e))}var k="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function D(t,e,n){if("function"==typeof t&&(t=N(t)),A(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return L(t,e,n,"fantasy-land/reduce");if(null!=n[k])return P(t,e,n[k]());if("function"==typeof n.next)return P(t,e,n);if("function"==typeof n.reduce)return L(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var x=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),M=u(function(t,e){return new x(t,e)});function U(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var F=Object.prototype.toString,j=function(){return"[object Arguments]"===F.call(arguments)?function(t){return"[object Arguments]"===F.call(t)}:function(t){return U("callee",t)}}(),B=!{toString:null}.propertyIsEnumerable("toString"),V=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],G=function(){return arguments.propertyIsEnumerable("length")}(),W=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},H="function"!=typeof Object.keys||G?s(function(t){if(Object(t)!==t)return[];var e,n,r=[],i=G&&j(t);for(e in t)!U(e,t)||i&&"length"===e||(r[r.length]=e);if(B)for(n=V.length-1;n>=0;)U(e=V[n],t)&&!W(r,e)&&(r[r.length]=e),n-=1;return r}):s(function(t){return Object(t)!==t?[]:Object.keys(t)}),K=u(g(["fantasy-land/map","map"],M,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return h(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return D(function(n,r){return n[r]=t(e[r]),n},{},H(e));default:return w(t,e)}})),q=u(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n}),Y=u(function(t,e){return q([t],e)}),z=u(function(t,e){return K(Y(t),e)}),X=_(D),Q=s(function(t){return h(X(R,0,z("length",t)),function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0})}),J=s(function(t){return function(){return t}}),$=u(function(t,e){return t&&e}),Z=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=E(this.xf["@@transducer/step"](t,!0))),t},t}(),tt=u(g(["any"],u(function(t,e){return new Z(t,e)}),function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1})),et=s(function(t){return h(X(R,0,z("length",t)),function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1})}),nt=u(function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:D(function(t,n){return l(t,K(n,e))},[],t)});var rt=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return l(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),it=u(g([],u(function(t,e){return new rt(t,e)}),function(t,e){for(var n=0,r=e.length-(t-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(e,n,n+t),n+=1;return i})),ot=u(function(t,e){return l(e,[t])}),at=u(function(t,e){return t.apply(this,e)}),st=s(function(t){for(var e=H(t),n=e.length,r=[],i=0;i<n;)r[i]=t[e[i]],i+=1;return r});function ut(t,e){return H(e).reduce(function(n,r){return n[r]=t(e[r]),n},{})}var ct=s(function t(e){return e=ut(function(e){return"function"==typeof e?e:t(e)},e),h(X(R,0,z("length",st(e))),function(){var t=arguments;return ut(function(e){return at(e,t)},e)})}),lt=u(function(t,e){return e(t)}),ft=_(function(t,e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}),pt=_(function(t,e,n){var r={};for(var i in n)r[i]=n[i];return r[t]=e,r}),ht=Number.isInteger||function(t){return t<<0===t},dt=s(function(t){return null==t}),_t=_(function t(e,n,r){if(0===e.length)return n;var i=e[0];if(e.length>1){var o=!dt(r)&&U(i,r)?r[i]:ht(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,o)}if(ht(i)&&v(r)){var a=[].concat(r);return a[i]=n,a}return pt(i,n,r)}),yt=u(function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,i){return e.call(this,t,n,r,i)};case 5:return function(t,n,r,i,o){return e.call(this,t,n,r,i,o)};case 6:return function(t,n,r,i,o,a){return e.call(this,t,n,r,i,o,a)};case 7:return function(t,n,r,i,o,a,s){return e.call(this,t,n,r,i,o,a,s)};case 8:return function(t,n,r,i,o,a,s,u){return e.call(this,t,n,r,i,o,a,s,u)};case 9:return function(t,n,r,i,o,a,s,u,c){return e.call(this,t,n,r,i,o,a,s,u,c)};case 10:return function(t,n,r,i,o,a,s,u,c,l){return e.call(this,t,n,r,i,o,a,s,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),vt=s(function(t){return yt(2,t)});function mt(t){return"[object Function]"===Object.prototype.toString.call(t)}var gt=u(function(t,e){var n=h(t,e);return h(t,function(){return D(nt,K(n,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Et=s(function(t){return gt(t.length,t)}),bt=u(function(t,e){return mt(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:Et($)(t,e)}),Tt=s(function(t){return h(t.length,t)}),St=Tt(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});function Rt(t){return function e(n){for(var r,i,o,a=[],s=0,u=n.length;s<u;){if(A(n[s]))for(o=0,i=(r=t?e(n[s]):n[s]).length;o<i;)a[a.length]=r[o],o+=1;else a[a.length]=n[s];s+=1}return a}}var wt=u(g(["fantasy-land/chain","chain"],u(function(t,e){return K(t,function(t){var e=function(t){return{"@@transducer/init":b.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":b.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){return A(n)?D(e,t,n):D(e,t,[n])}}}(e))}),function(t,e){return"function"==typeof e?function(n){return t(e(n))(n)}:Rt(!1)(K(t,e))})),Ot=_(function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n});function At(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var It=s(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function Nt(t,e,n,r){var i=function(i){for(var o=e.length,a=0;a<o;){if(t===e[a])return n[a];a+=1}for(var s in e[a+1]=t,n[a+1]=i,t)i[s]=r?Nt(t[s],e,n,!0):t[s];return i};switch(It(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return At(t);default:return t}}var Ct=s(function(t){return null!=t&&"function"==typeof t.clone?t.clone():Nt(t,[],[],!0)}),Pt=s(function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}}),Lt=s(function(t){return!t}),kt=Et(Lt);function Dt(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function xt(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return v(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Mt=_(xt("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)})),Ut=s(xt("tail",Mt(1,1/0)));function Ft(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return f(arguments[0].length,X(Dt,arguments[0],Ut(arguments)))}var jt=s(function(t){return O(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function Bt(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Ft.apply(this,jt(arguments))}function Vt(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return Bt(Bt.apply(this,K(wt,t)),e)}function Gt(t,e){return function(){var n=this;return t.apply(n,arguments).then(function(t){return e.call(n,t)})}}function Wt(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return f(arguments[0].length,X(Gt,arguments[0],Ut(arguments)))}function Ht(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return Wt.apply(this,jt(arguments))}var Kt=u(function(t,e){var n=t<0?e.length+t:t;return O(e)?e.charAt(n):e[n]}),qt=Kt(0);function Yt(t){return t}var zt=s(Yt),Xt=u(function(t,e){if(e.length<=0)return zt;var n=qt(e),r=Ut(e);return f(n.length,function(){return D(function(e,n){return t.call(this,n,e)},n.apply(this,arguments),r)})}),Qt=u(function(t,e){return Xt.apply(this,[t,jt(e)])});function Jt(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function $t(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var Zt="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function te(t,e,n,r){var i=Jt(t);function o(t,e){return ee(t,e,n.slice(),r.slice())}return!$t(function(t,e){return!$t(o,e,t)},Jt(e),i)}function ee(t,e,n,r){if(Zt(t,e))return!0;var i=It(t);if(i!==It(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!Zt(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!Zt(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return r[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&te(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&te(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=H(t);if(a.length!==H(e).length)return!1;var s=n.concat([t]),u=r.concat([e]);for(o=a.length-1;o>=0;){var c=a[o];if(!U(c,e)||!ee(e[c],t[c],s,u))return!1;o-=1}return!0}var ne=u(function(t,e){return ee(t,e,[],[])});function re(t,e,n){var r,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(i=t[n])&&1/i===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!=i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(ne(t[n],e))return n;n+=1}return-1}function ie(t,e){return re(e,t,0)>=0}function oe(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ae=function(t){return(t<10?"0":"")+t},se="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ae(t.getUTCMonth()+1)+"-"+ae(t.getUTCDate())+"T"+ae(t.getUTCHours())+":"+ae(t.getUTCMinutes())+":"+ae(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function ue(t){return function(){return!t.apply(this,arguments)}}function ce(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}function le(t){return"[object Object]"===Object.prototype.toString.call(t)}var fe=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),pe=u(g(["filter"],u(function(t,e){return new fe(t,e)}),function(t,e){return le(e)?D(function(n,r){return t(e[r])&&(n[r]=e[r]),n},{},H(e)):ce(t,e)})),he=u(function(t,e){return pe(ue(t),e)});function de(t,e){var n=function(n){var r=e.concat([t]);return ie(n,r)?"<Circular>":de(n,r)},r=function(t,e){return w(function(e){return oe(e)+": "+n(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+w(n,t).join(", ")+"))";case"[object Array]":return"["+w(n,t).concat(r(t,he(function(t){return/^\d+$/.test(t)},H(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):oe(se(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":oe(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+r(t,H(t)).join(", ")+"}"}}var _e=s(function(t){return de(t,[])}),ye=u(function(t,e){if(v(t)){if(v(e))return t.concat(e);throw new TypeError(_e(e)+" is not an array")}if(O(t)){if(O(e))return t+e;throw new TypeError(_e(e)+" is not a string")}if(null!=t&&mt(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&mt(t.concat))return t.concat(e);throw new TypeError(_e(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),ve=s(function(t){return f(X(R,0,K(function(t){return t[0].length},t)),function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}})}),me=u(function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:Tt(yt(t,function(t,n,r,i,o,a,s,u,c,l){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,i);case 5:return new e(t,n,r,i,o);case 6:return new e(t,n,r,i,o,a);case 7:return new e(t,n,r,i,o,a,s);case 8:return new e(t,n,r,i,o,a,s,u);case 9:return new e(t,n,r,i,o,a,s,u,c);case 10:return new e(t,n,r,i,o,a,s,u,c,l)}}))}),ge=s(function(t){return me(t.length,t)}),Ee=u(ie),be=u(function(t,e){return h(X(R,0,z("length",e)),function(){var n=arguments,r=this;return t.apply(r,w(function(t){return t.apply(r,n)},e))})}),Te=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(U(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),Se=p(4,[],g([],p(4,[],function(t,e,n,r){return new Te(t,e,n,r)}),function(t,e,n,r){return D(function(r,i){var o=n(i);return r[o]=t(U(o,r)?r[o]:e,i),r},{},r)})),Re=Se(function(t,e){return t+1},0),we=c(-1),Oe=u(function(t,e){return null==e||e!=e?t:e}),Ae=_(function(t,e,n){var r=t(e),i=t(n);return r>i?-1:r<i?1:0});function Ie(t,e,n){var r,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?t in n._items[i]||(e&&(n._items[i][t]=!0),!1):(e&&(n._items[i]={},n._items[i][t]=!0),!1);case"boolean":if(i in n._items){var o=t?1:0;return!!n._items[i][o]||(e&&(n._items[i][o]=!0),!1)}return e&&(n._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?!!ie(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1);case"undefined":return!!n._items[i]||(e&&(n._items[i]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in n._items?!!ie(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1)}}var Ne=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!Ie(t,!0,this)},t.prototype.has=function(t){return Ie(t,!1,this)},t}(),Ce=u(function(t,e){for(var n=[],r=0,i=t.length,o=e.length,a=new Ne,s=0;s<o;s+=1)a.add(e[s]);for(;r<i;)a.add(t[r])&&(n[n.length]=t[r]),r+=1;return n}),Pe=_(function(t,e,n){for(var r=[],i=0,o=e.length;i<o;)$t(t,e[i],n)||$t(t,e[i],r)||r.push(e[i]),i+=1;return r}),Le=u(function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n}),ke=_(function(t,e,n){var r=Array.prototype.slice.call(n,0);return r.splice(t,e),r}),De=_(function(t,e,n){return y(t,J(e),n)}),xe=u(function t(e,n){switch(e.length){case 0:return n;case 1:return ht(e[0])&&v(n)?ke(e[0],1,n):Le(e[0],n);default:var r=e[0],i=Array.prototype.slice.call(e,1);return null==n[r]?n:ht(r)&&v(n)?De(r,t(i,n[r]),n):pt(r,t(i,n[r]),n)}}),Me=u(function(t,e){return t/e}),Ue=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),Fe=u(g(["drop"],u(function(t,e){return new Ue(t,e)}),function(t,e){return Mt(Math.max(0,t),1/0,e)})),je=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?E(n):n},t}(),Be=u(g(["take"],u(function(t,e){return new je(t,e)}),function(t,e){return Mt(0,t<0?1/0:t,e)}));var Ve=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Ge=u(g([],u(function(t,e){return new Ve(t,e)}),function(t,e){return Be(t<e.length?e.length-t:0,e)}));var We=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=D(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},t}(),He=u(g([],u(function(t,e){return new We(t,e)}),function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Mt(0,n+1,e)})),Ke=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},t}(),qe=u(function(t,e){return new Ke(t,e)}),Ye=Kt(-1),ze=u(g([],qe,function(t,e){var n=[],r=1,i=e.length;if(0!==i)for(n[0]=e[0];r<i;)t(Ye(n),e[r])||(n[n.length]=e[r]),r+=1;return n})),Xe=s(g([],qe(ne),ze(ne))),Qe=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},t}(),Je=u(g(["dropWhile"],u(function(t,e){return new Qe(t,e)}),function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Mt(n,1/0,e)})),$e=u(function(t,e){return t||e}),Ze=u(function(t,e){return mt(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:Et($e)(t,e)}),tn=s(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():v(t)?[]:O(t)?"":le(t)?{}:j(t)?function(){return arguments}():void 0}),en=u(function(t,e){return Fe(t>=0?e.length-t:0,e)}),nn=u(function(t,e){return ne(en(t.length,e),t)}),rn=_(function(t,e,n){return ne(t(e),t(n))}),on=_(function(t,e,n){return ne(e[t],n[t])}),an=u(function t(e,n){var r,i,o,a=n instanceof Array?[]:{};for(i in n)o=typeof(r=e[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?t(r,n[i]):n[i];return a}),sn=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=E(this.xf["@@transducer/step"](t,e))),t},t}(),un=u(g(["find"],u(function(t,e){return new sn(t,e)}),function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}})),cn=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=E(this.xf["@@transducer/step"](t,this.idx))),t},t}(),ln=u(g([],u(function(t,e){return new cn(t,e)}),function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1})),fn=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},t}(),pn=u(g([],u(function(t,e){return new fn(t,e)}),function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}})),hn=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},t}(),dn=u(g([],u(function(t,e){return new hn(t,e)}),function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1})),_n=s(Rt(!0)),yn=s(function(t){return h(t.length,function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)})}),vn=u(xt("forEach",function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e})),mn=u(function(t,e){for(var n=H(e),r=0;r<n.length;){var i=n[r];t(e[i],i,e),r+=1}return e}),gn=s(function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e}),En=u(xt("groupBy",Se(function(t,e){return null==t&&(t=[]),t.push(e),t},null))),bn=u(function(t,e){for(var n=[],r=0,i=e.length;r<i;){for(var o=r+1;o<i&&t(e[o-1],e[o]);)o+=1;n.push(e.slice(r,o)),r=o}return n}),Tn=u(function(t,e){return t>e}),Sn=u(function(t,e){return t>=e}),Rn=u(function(t,e){if(0===t.length)return!1;for(var n=e,r=0;r<t.length;){if(!U(t[r],n))return!1;n=n[t[r]],r+=1}return!0}),wn=u(function(t,e){return Rn([t],e)}),On=u(function(t,e){return t in e}),An=u(Zt),In=_(function(t,e,n){return h(Math.max(t.length,e.length,n.length),function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)})}),Nn=c(1),Cn=u(ie),Pn=Se(function(t,e){return e},null),Ln=u(function(t,e){return"function"!=typeof e.indexOf||v(e)?re(e,t,0):e.indexOf(t)}),kn=Mt(0,-1),Dn=_(function(t,e,n){return ce(function(e){return $t(t,e,n)},e)}),xn=_(function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(t,0,e),r}),Mn=_(function(t,e,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),e,Array.prototype.slice.call(n,t))}),Un=u(function(t,e){for(var n,r,i=new Ne,o=[],a=0;a<e.length;)n=t(r=e[a]),i.add(n)&&o.push(r),a+=1;return o}),Fn=Un(zt),jn=u(function(t,e){var n,r;return t.length>e.length?(n=t,r=e):(n=e,r=t),Fn(ce(yn(ie)(n),r))}),Bn=u(xt("intersperse",function(t,e){for(var n=[],r=0,i=e.length;r<i;)r===i-1?n.push(e[r]):n.push(e[r],t),r+=1;return n})),Vn="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)U(o,i)&&(e[o]=i[o]);n+=1}return e},Gn=u(function(t,e){var n={};return n[t]=e,n}),Wn={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":Yt},Hn={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":Yt},Kn={"@@transducer/init":Object,"@@transducer/step":function(t,e){return Vn(t,A(e)?Gn(e[0],e[1]):e)},"@@transducer/result":Yt},qn=_(function(t,e,n){return m(t)?D(e(t),t["@@transducer/init"](),n):D(e(function(t){if(m(t))return t;if(A(t))return Wn;if("string"==typeof t)return Hn;if("object"==typeof t)return Kn;throw new Error("Cannot create transformer for "+t)}(t)),Nt(t,[],[],!1),n)}),Yn=s(function(t){for(var e=H(t),n=e.length,r=0,i={};r<n;){var o=e[r],a=t[o],s=U(a,i)?i[a]:i[a]=[];s[s.length]=o,r+=1}return i}),zn=s(function(t){for(var e=H(t),n=e.length,r=0,i={};r<n;){var o=e[r];i[t[o]]=o,r+=1}return i}),Xn=u(function(t,e){return h(t+1,function(){var n=arguments[t];if(null!=n&&mt(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(_e(n)+' does not have a method named "'+e+'"')})}),Qn=u(function(t,e){return null!=e&&e.constructor===t||e instanceof t}),Jn=s(function(t){return null!=t&&ne(t,tn(t))}),$n=Xn(1,"join"),Zn=s(function(t){return be(function(){return Array.prototype.slice.call(arguments,0)},t)}),tr=s(function(t){var e,n=[];for(e in t)n[n.length]=e;return n}),er=u(function(t,e){if("function"!=typeof e.lastIndexOf||v(e)){for(var n=e.length-1;n>=0;){if(ne(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)});function nr(t){return"[object Number]"===Object.prototype.toString.call(t)}var rr=s(function(t){return null!=t&&nr(t.length)?t.length:NaN}),ir=u(function(t,e){return function(n){return function(r){return K(function(t){return e(t,r)},n(t(r)))}}}),or=s(function(t){return ir(Kt(t),De(t))}),ar=s(function(t){return ir(q(t),_t(t))}),sr=s(function(t){return ir(Y(t),pt(t))}),ur=u(function(t,e){return t<e}),cr=u(function(t,e){return t<=e}),lr=_(function(t,e,n){for(var r=0,i=n.length,o=[],a=[e];r<i;)a=t(a[0],n[r]),o[r]=a[1],r+=1;return[a[0],o]}),fr=_(function(t,e,n){for(var r=n.length-1,i=[],o=[e];r>=0;)o=t(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]}),pr=u(function(t,e){return D(function(n,r){return n[r]=t(e[r],r,e),n},{},H(e))}),hr=u(function(t,e){return e.match(t)||[]}),dr=u(function(t,e){return ht(t)?!ht(e)||e<1?NaN:(t%e+e)%e:NaN}),_r=_(function(t,e,n){return t(n)>t(e)?n:e}),yr=X(c,0),vr=s(function(t){return yr(t)/t.length}),mr=s(function(t){var e=t.length;if(0===e)return NaN;var n=2-e%2,r=(e-n)/2;return vr(Array.prototype.slice.call(t,0).sort(function(t,e){return t<e?-1:t>e?1:0}).slice(r,r+n))}),gr=u(function(t,e){var n={};return f(e.length,function(){var r=t.apply(this,arguments);return U(r,n)||(n[r]=e.apply(this,arguments)),n[r]})}),Er=u(function(t,e){return Vn({},t,e)}),br=s(function(t){return Vn.apply(null,[{}].concat(t))}),Tr=_(function(t,e,n){var r,i={};for(r in e)U(r,e)&&(i[r]=U(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)U(r,n)&&!U(r,i)&&(i[r]=n[r]);return i}),Sr=_(function t(e,n,r){return Tr(function(n,r,i){return le(r)&&le(i)?t(e,r,i):e(n,r,i)},n,r)}),Rr=u(function(t,e){return Sr(function(t,e,n){return e},t,e)}),wr=u(function(t,e){return Sr(function(t,e,n){return n},t,e)}),Or=_(function(t,e,n){return Sr(function(e,n,r){return t(n,r)},e,n)}),Ar=u(function(t,e){return Vn({},e,t)}),Ir=u(function(t,e){return Vn({},t,e)}),Nr=_(function(t,e,n){return Tr(function(e,n,r){return t(n,r)},e,n)}),Cr=u(function(t,e){return e<t?e:t}),Pr=_(function(t,e,n){return t(n)<t(e)?n:e}),Lr=u(function(t,e){return t%e}),kr=_(function(t,e,n){var r=n.length,i=n.slice(),o=t<0?r+t:t,a=e<0?r+e:e,s=i.splice(o,1);return o<0||o>=n.length||a<0||a>=n.length?n:[].concat(i.slice(0,a)).concat(s).concat(i.slice(a,n.length))}),Dr=u(function(t,e){return t*e}),xr=s(function(t){return-t}),Mr=u(function(t,e){return S(ue(t),e)}),Ur=s(function(t){return h(t<0?1:t+1,function(){return Kt(t,arguments)})}),Fr=_(function(t,e,n){return t(e(n))});var jr=s(function(t){return[t]}),Br=u(function(t,e){for(var n={},r={},i=0,o=t.length;i<o;)r[t[i]]=1,i+=1;for(var a in e)r.hasOwnProperty(a)||(n[a]=e[a]);return n}),Vr=s(function(t){var e,n=!1;return f(t.length,function(){return n?e:(n=!0,e=t.apply(this,arguments))})});function Gr(t,e){if(null==e||!mt(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+de(e,[]))}var Wr=u(function(t,e){return Gr("otherwise",e),e.then(null,t)}),Hr=function(t){return{value:t,map:function(e){return Hr(e(t))}}},Kr=_(function(t,e,n){return t(function(t){return Hr(e(t))})(n).value}),qr=u(function(t,e){return[t,e]});function Yr(t){return u(function(e,n){return f(Math.max(0,e.length-n.length),function(){return e.apply(this,t(n,arguments))})})}var zr=Yr(l),Xr=Yr(yn(l)),Qr=Zn([pe,he]),Jr=_(function(t,e,n){return ne(q(t,n),e)}),$r=_(function(t,e,n){return Oe(t,q(e,n))}),Zr=_(function(t,e,n){return e.length>0&&t(q(e,n))}),ti=u(function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n}),ei=u(function(t,e){for(var n={},r=0,i=t.length;r<i;){var o=t[r];n[o]=e[o],r+=1}return n}),ni=u(function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n});function ri(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return Vt.apply(this,jt(arguments))}var ii=u(function(t,e){return l([t],e)}),oi=X(Dr,1),ai=u(function(t,e){return h(e.length,function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))})}),si=ai(w,[ei,zt]),ui=_(function(t,e,n){return ne(e,n[t])}),ci=_(function(t,e,n){return Qn(t,n[e])}),li=_(function(t,e,n){return $r(t,[e],n)}),fi=_(function(t,e,n){return t(n[e])}),pi=u(function(t,e){for(var n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r}),hi=u(function(t,e){if(!nr(t)||!nr(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n}),di=_(function(t,e,n){for(var r=n.length-1;r>=0;)e=t(n[r],e),r-=1;return e}),_i=p(4,[],function(t,e,n,r){return D(function(n,r){return t(n,r)?e(n,r):E(n)},n,r)}),yi=s(E),vi=u(function(t,e){var n,r=Number(e),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=t(i),i+=1;return n}),mi=u(function(t,e){return vi(J(t),e)}),gi=_(function(t,e,n){return n.replace(t,e)}),Ei=_(function(t,e,n){for(var r=0,i=n.length,o=[e];r<i;)e=t(e,n[r]),o[r+1]=e,r+=1;return o}),bi=u(function(t,e){return"function"==typeof e.sequence?e.sequence(t):di(function(t,e){return nt(K(ii,t),e)},t([]),e)}),Ti=_(function(t,e,n){return Kr(t,J(e),n)}),Si=u(function(t,e){return Array.prototype.slice.call(e,0).sort(t)}),Ri=u(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0})}),wi=u(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,n){for(var r=0,i=0;0===r&&i<t.length;)r=t[i](e,n),i+=1;return r})}),Oi=Xn(1,"split"),Ai=u(function(t,e){return[Mt(0,t,e),Mt(t,rr(e),e)]}),Ii=u(function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push(Mt(r,r+=t,e));return n}),Ni=u(function(t,e){for(var n=0,r=e.length,i=[];n<r&&!t(e[n]);)i.push(e[n]),n+=1;return[i,Array.prototype.slice.call(e,n)]}),Ci=u(function(t,e){return ne(Be(t.length,e),t)}),Pi=u(function(t,e){return Number(t)-Number(e)}),Li=u(function(t,e){return ye(Ce(t,e),Ce(e,t))}),ki=_(function(t,e,n){return ye(Pe(t,e,n),Pe(t,n,e))}),Di=u(function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Mt(n+1,1/0,e)}),xi=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):E(t)},t}(),Mi=u(g(["takeWhile"],u(function(t,e){return new xi(t,e)}),function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Mt(0,n,e)})),Ui=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),Fi=u(g([],u(function(t,e){return new Ui(t,e)}),function(t,e){return t(e),e})),ji=u(function(t,e){if(n=t,"[object RegExp]"!==Object.prototype.toString.call(n))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+_e(t));var n;return At(t).test(e)}),Bi=u(function(t,e){return Gr("then",e),e.then(t)}),Vi=Xn(0,"toLowerCase"),Gi=s(function(t){var e=[];for(var n in t)U(n,t)&&(e[e.length]=[n,t[n]]);return e}),Wi=s(function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e}),Hi=Xn(0,"toUpperCase"),Ki=h(4,function(t,e,n,r){return D(t("function"==typeof e?N(e):e),n,r)}),qi=s(function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;e+=1}return n}),Yi=_(function(t,e,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](e,t):bi(t,K(e,n))}),zi="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Xi=s("function"==typeof String.prototype.trim&&!zi.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+zi+"]["+zi+"]*"),n=new RegExp("["+zi+"]["+zi+"]*$");return t.replace(e,"").replace(n,"")}),Qi=u(function(t,e){return f(t.length,function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,l([t],arguments))}})}),Ji=s(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),$i=s(function(t){return yt(1,t)}),Zi=u(function(t,e){return h(t,function(){for(var n,r=1,i=e,o=0;r<=t&&"function"==typeof i;)n=r===t?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i})}),to=u(function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r}),eo=u(Bt(Fn,l)),no=u(function(t,e){for(var n,r=0,i=e.length,o=[];r<i;)$t(t,n=e[r],o)||(o[o.length]=n),r+=1;return o}),ro=_(function(t,e,n){return no(t,l(e,n))}),io=_(function(t,e,n){return t(n)?n:e(n)}),oo=wt(Yt),ao=_(function(t,e,n){for(var r=n;!t(r);)r=e(r);return r}),so=s(function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n}),uo=function(t){return{value:t,"fantasy-land/map":function(){return this}}},co=u(function(t,e){return t(uo)(e).value}),lo=_(function(t,e,n){return t(n)?e(n):n}),fo=u(function(t,e){for(var n in t)if(U(n,t)&&!t[n](e[n]))return!1;return!0}),po=u(function(t,e){return fo(K(ne,t),e)}),ho=u(function(t,e){return he(yn(ie)(t),e)}),_o=u(function(t,e){for(var n,r=0,i=t.length,o=e.length,a=[];r<i;){for(n=0;n<o;)a[a.length]=[t[r],e[n]],n+=1;r+=1}return a}),yo=u(function(t,e){for(var n=[],r=0,i=Math.min(t.length,e.length);r<i;)n[r]=[t[r],e[r]],r+=1;return n}),vo=u(function(t,e){for(var n=0,r=Math.min(t.length,e.length),i={};n<r;)i[t[n]]=e[n],n+=1;return i}),mo=_(function(t,e,n){for(var r=[],i=0,o=Math.min(e.length,n.length);i<o;)r[i]=t(e[i],n[i]),i+=1;return r}),go=s(function(t){return h(t.length,function(){var e=arguments;return function(){return t.apply(this,e)}})});n.d(e,"F",function(){return r}),n.d(e,"T",function(){return i}),n.d(e,"__",function(){return o}),n.d(e,"add",function(){return c}),n.d(e,"addIndex",function(){return d}),n.d(e,"adjust",function(){return y}),n.d(e,"all",function(){return S}),n.d(e,"allPass",function(){return Q}),n.d(e,"always",function(){return J}),n.d(e,"and",function(){return $}),n.d(e,"any",function(){return tt}),n.d(e,"anyPass",function(){return et}),n.d(e,"ap",function(){return nt}),n.d(e,"aperture",function(){return it}),n.d(e,"append",function(){return ot}),n.d(e,"apply",function(){return at}),n.d(e,"applySpec",function(){return ct}),n.d(e,"applyTo",function(){return lt}),n.d(e,"ascend",function(){return ft}),n.d(e,"assoc",function(){return pt}),n.d(e,"assocPath",function(){return _t}),n.d(e,"binary",function(){return vt}),n.d(e,"bind",function(){return C}),n.d(e,"both",function(){return bt}),n.d(e,"call",function(){return St}),n.d(e,"chain",function(){return wt}),n.d(e,"clamp",function(){return Ot}),n.d(e,"clone",function(){return Ct}),n.d(e,"comparator",function(){return Pt}),n.d(e,"complement",function(){return kt}),n.d(e,"compose",function(){return Bt}),n.d(e,"composeK",function(){return Vt}),n.d(e,"composeP",function(){return Ht}),n.d(e,"composeWith",function(){return Qt}),n.d(e,"concat",function(){return ye}),n.d(e,"cond",function(){return ve}),n.d(e,"construct",function(){return ge}),n.d(e,"constructN",function(){return me}),n.d(e,"contains",function(){return Ee}),n.d(e,"converge",function(){return be}),n.d(e,"countBy",function(){return Re}),n.d(e,"curry",function(){return Tt}),n.d(e,"curryN",function(){return h}),n.d(e,"dec",function(){return we}),n.d(e,"defaultTo",function(){return Oe}),n.d(e,"descend",function(){return Ae}),n.d(e,"difference",function(){return Ce}),n.d(e,"differenceWith",function(){return Pe}),n.d(e,"dissoc",function(){return Le}),n.d(e,"dissocPath",function(){return xe}),n.d(e,"divide",function(){return Me}),n.d(e,"drop",function(){return Fe}),n.d(e,"dropLast",function(){return Ge}),n.d(e,"dropLastWhile",function(){return He}),n.d(e,"dropRepeats",function(){return Xe}),n.d(e,"dropRepeatsWith",function(){return ze}),n.d(e,"dropWhile",function(){return Je}),n.d(e,"either",function(){return Ze}),n.d(e,"empty",function(){return tn}),n.d(e,"endsWith",function(){return nn}),n.d(e,"eqBy",function(){return rn}),n.d(e,"eqProps",function(){return on}),n.d(e,"equals",function(){return ne}),n.d(e,"evolve",function(){return an}),n.d(e,"filter",function(){return pe}),n.d(e,"find",function(){return un}),n.d(e,"findIndex",function(){return ln}),n.d(e,"findLast",function(){return pn}),n.d(e,"findLastIndex",function(){return dn}),n.d(e,"flatten",function(){return _n}),n.d(e,"flip",function(){return yn}),n.d(e,"forEach",function(){return vn}),n.d(e,"forEachObjIndexed",function(){return mn}),n.d(e,"fromPairs",function(){return gn}),n.d(e,"groupBy",function(){return En}),n.d(e,"groupWith",function(){return bn}),n.d(e,"gt",function(){return Tn}),n.d(e,"gte",function(){return Sn}),n.d(e,"has",function(){return wn}),n.d(e,"hasIn",function(){return On}),n.d(e,"hasPath",function(){return Rn}),n.d(e,"head",function(){return qt}),n.d(e,"identical",function(){return An}),n.d(e,"identity",function(){return zt}),n.d(e,"ifElse",function(){return In}),n.d(e,"inc",function(){return Nn}),n.d(e,"includes",function(){return Cn}),n.d(e,"indexBy",function(){return Pn}),n.d(e,"indexOf",function(){return Ln}),n.d(e,"init",function(){return kn}),n.d(e,"innerJoin",function(){return Dn}),n.d(e,"insert",function(){return xn}),n.d(e,"insertAll",function(){return Mn}),n.d(e,"intersection",function(){return jn}),n.d(e,"intersperse",function(){return Bn}),n.d(e,"into",function(){return qn}),n.d(e,"invert",function(){return Yn}),n.d(e,"invertObj",function(){return zn}),n.d(e,"invoker",function(){return Xn}),n.d(e,"is",function(){return Qn}),n.d(e,"isEmpty",function(){return Jn}),n.d(e,"isNil",function(){return dt}),n.d(e,"join",function(){return $n}),n.d(e,"juxt",function(){return Zn}),n.d(e,"keys",function(){return H}),n.d(e,"keysIn",function(){return tr}),n.d(e,"last",function(){return Ye}),n.d(e,"lastIndexOf",function(){return er}),n.d(e,"length",function(){return rr}),n.d(e,"lens",function(){return ir}),n.d(e,"lensIndex",function(){return or}),n.d(e,"lensPath",function(){return ar}),n.d(e,"lensProp",function(){return sr}),n.d(e,"lift",function(){return Et}),n.d(e,"liftN",function(){return gt}),n.d(e,"lt",function(){return ur}),n.d(e,"lte",function(){return cr}),n.d(e,"map",function(){return K}),n.d(e,"mapAccum",function(){return lr}),n.d(e,"mapAccumRight",function(){return fr}),n.d(e,"mapObjIndexed",function(){return pr}),n.d(e,"match",function(){return hr}),n.d(e,"mathMod",function(){return dr}),n.d(e,"max",function(){return R}),n.d(e,"maxBy",function(){return _r}),n.d(e,"mean",function(){return vr}),n.d(e,"median",function(){return mr}),n.d(e,"memoizeWith",function(){return gr}),n.d(e,"merge",function(){return Er}),n.d(e,"mergeAll",function(){return br}),n.d(e,"mergeDeepLeft",function(){return Rr}),n.d(e,"mergeDeepRight",function(){return wr}),n.d(e,"mergeDeepWith",function(){return Or}),n.d(e,"mergeDeepWithKey",function(){return Sr}),n.d(e,"mergeLeft",function(){return Ar}),n.d(e,"mergeRight",function(){return Ir}),n.d(e,"mergeWith",function(){return Nr}),n.d(e,"mergeWithKey",function(){return Tr}),n.d(e,"min",function(){return Cr}),n.d(e,"minBy",function(){return Pr}),n.d(e,"modulo",function(){return Lr}),n.d(e,"move",function(){return kr}),n.d(e,"multiply",function(){return Dr}),n.d(e,"nAry",function(){return yt}),n.d(e,"negate",function(){return xr}),n.d(e,"none",function(){return Mr}),n.d(e,"not",function(){return Lt}),n.d(e,"nth",function(){return Kt}),n.d(e,"nthArg",function(){return Ur}),n.d(e,"o",function(){return Fr}),n.d(e,"objOf",function(){return Gn}),n.d(e,"of",function(){return jr}),n.d(e,"omit",function(){return Br}),n.d(e,"once",function(){return Vr}),n.d(e,"or",function(){return $e}),n.d(e,"otherwise",function(){return Wr}),n.d(e,"over",function(){return Kr}),n.d(e,"pair",function(){return qr}),n.d(e,"partial",function(){return zr}),n.d(e,"partialRight",function(){return Xr}),n.d(e,"partition",function(){return Qr}),n.d(e,"path",function(){return q}),n.d(e,"pathEq",function(){return Jr}),n.d(e,"pathOr",function(){return $r}),n.d(e,"pathSatisfies",function(){return Zr}),n.d(e,"pick",function(){return ti}),n.d(e,"pickAll",function(){return ei}),n.d(e,"pickBy",function(){return ni}),n.d(e,"pipe",function(){return Ft}),n.d(e,"pipeK",function(){return ri}),n.d(e,"pipeP",function(){return Wt}),n.d(e,"pipeWith",function(){return Xt}),n.d(e,"pluck",function(){return z}),n.d(e,"prepend",function(){return ii}),n.d(e,"product",function(){return oi}),n.d(e,"project",function(){return si}),n.d(e,"prop",function(){return Y}),n.d(e,"propEq",function(){return ui}),n.d(e,"propIs",function(){return ci}),n.d(e,"propOr",function(){return li}),n.d(e,"propSatisfies",function(){return fi}),n.d(e,"props",function(){return pi}),n.d(e,"range",function(){return hi}),n.d(e,"reduce",function(){return X}),n.d(e,"reduceBy",function(){return Se}),n.d(e,"reduceRight",function(){return di}),n.d(e,"reduceWhile",function(){return _i}),n.d(e,"reduced",function(){return yi}),n.d(e,"reject",function(){return he}),n.d(e,"remove",function(){return ke}),n.d(e,"repeat",function(){return mi}),n.d(e,"replace",function(){return gi}),n.d(e,"reverse",function(){return jt}),n.d(e,"scan",function(){return Ei}),n.d(e,"sequence",function(){return bi}),n.d(e,"set",function(){return Ti}),n.d(e,"slice",function(){return Mt}),n.d(e,"sort",function(){return Si}),n.d(e,"sortBy",function(){return Ri}),n.d(e,"sortWith",function(){return wi}),n.d(e,"split",function(){return Oi}),n.d(e,"splitAt",function(){return Ai}),n.d(e,"splitEvery",function(){return Ii}),n.d(e,"splitWhen",function(){return Ni}),n.d(e,"startsWith",function(){return Ci}),n.d(e,"subtract",function(){return Pi}),n.d(e,"sum",function(){return yr}),n.d(e,"symmetricDifference",function(){return Li}),n.d(e,"symmetricDifferenceWith",function(){return ki}),n.d(e,"tail",function(){return Ut}),n.d(e,"take",function(){return Be}),n.d(e,"takeLast",function(){return en}),n.d(e,"takeLastWhile",function(){return Di}),n.d(e,"takeWhile",function(){return Mi}),n.d(e,"tap",function(){return Fi}),n.d(e,"test",function(){return ji}),n.d(e,"then",function(){return Bi}),n.d(e,"times",function(){return vi}),n.d(e,"toLower",function(){return Vi}),n.d(e,"toPairs",function(){return Gi}),n.d(e,"toPairsIn",function(){return Wi}),n.d(e,"toString",function(){return _e}),n.d(e,"toUpper",function(){return Hi}),n.d(e,"transduce",function(){return Ki}),n.d(e,"transpose",function(){return qi}),n.d(e,"traverse",function(){return Yi}),n.d(e,"trim",function(){return Xi}),n.d(e,"tryCatch",function(){return Qi}),n.d(e,"type",function(){return It}),n.d(e,"unapply",function(){return Ji}),n.d(e,"unary",function(){return $i}),n.d(e,"uncurryN",function(){return Zi}),n.d(e,"unfold",function(){return to}),n.d(e,"union",function(){return eo}),n.d(e,"unionWith",function(){return ro}),n.d(e,"uniq",function(){return Fn}),n.d(e,"uniqBy",function(){return Un}),n.d(e,"uniqWith",function(){return no}),n.d(e,"unless",function(){return io}),n.d(e,"unnest",function(){return oo}),n.d(e,"until",function(){return ao}),n.d(e,"update",function(){return De}),n.d(e,"useWith",function(){return ai}),n.d(e,"values",function(){return st}),n.d(e,"valuesIn",function(){return so}),n.d(e,"view",function(){return co}),n.d(e,"when",function(){return lo}),n.d(e,"where",function(){return fo}),n.d(e,"whereEq",function(){return po}),n.d(e,"without",function(){return ho}),n.d(e,"xprod",function(){return _o}),n.d(e,"zip",function(){return yo}),n.d(e,"zipObj",function(){return vo}),n.d(e,"zipWith",function(){return mo}),n.d(e,"thunkify",function(){return go})},yXPU:function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)})}}},z8zl:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"FunctionToString",function(){return dt}),n.d(r,"InboundFilters",function(){return yt});var i={};n.r(i),n.d(i,"GlobalHandlers",function(){return Pt}),n.d(i,"TryCatch",function(){return wt}),n.d(i,"Breadcrumbs",function(){return Nt}),n.d(i,"LinkedErrors",function(){return Dt}),n.d(i,"UserAgent",function(){return Mt});var o={};n.r(o),n.d(o,"BaseTransport",function(){return st}),n.d(o,"FetchTransport",function(){return ct}),n.d(o,"XHRTransport",function(){return lt});var a,s,u=n("bb6g");!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(a||(a={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(a||(a={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(s||(s={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(s||(s={}));var c=n("UYf4"),l=n("rNOt");function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Object(l.b)();if(r&&r[t])return r[t].apply(r,u.d(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function p(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return f("captureException",t,{originalException:t,syntheticException:e})}function h(t,e){var n;try{throw new Error(t)}catch(t){n=t}return f("captureMessage",t,e,{originalException:t,syntheticException:n})}function d(t){return f("captureEvent",t)}function _(t){f("configureScope",t)}function y(t){f("addBreadcrumb",t)}function v(t,e){f("setContext",t,e)}function m(t){f("setExtras",t)}function g(t){f("setTags",t)}function E(t,e){f("setExtra",t,e)}function b(t,e){f("setTag",t,e)}function T(t){f("setUser",t)}function S(t){f("withScope",t)}var R=n("OfE8"),w=n("tZ4O"),O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),A=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,O(r,n.prototype),r}return u.b(e,t),e}(Error),I=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,N=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,i=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.user+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},t.prototype._fromString=function(t){var e=I.exec(t);if(!e)throw new A("Invalid Dsn");var n=u.c(e.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],c=n[4],l=void 0===c?"":c,f="",p=n[5],h=p.split("/");h.length>1&&(f=h.slice(0,-1).join("/"),p=h.pop()),this._fromComponents({host:s,pass:a,path:f,projectId:p,port:l,protocol:r,user:i})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new A("Invalid Dsn")}),"http"!==this.protocol&&"https"!==this.protocol)throw new A("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new A("Invalid Dsn")},t}(),C=function(){function t(t){this.dsn=t,this._dsnObject=new N(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(w.e)(t)},t.prototype._getBaseUrl=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+(new Date).getTime()),r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t}(),P=n("HhP1"),L=n("E6vx"),k=n("nsI8"),D=n("dbjm"),x=n("3ZRO"),M=[];var U=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new N(e.dsn)),this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&u.d(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map(function(t){return t.name}),o=[];e.forEach(function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))}),n.forEach(function(t){-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))})}else{if("function"!=typeof n)return u.d(e);r=n(e),r=Array.isArray(r)?r:[r]}return r}(t).forEach(function(t){e[t.name]=t,function(t){-1===M.indexOf(t.name)&&(t.setupOnce(c.b,l.b),M.push(t.name),P.a.log("Integration installed: "+t.name))}(t)}),e}(this._options))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then(function(t){return r._processEvent(t,e,n)}).then(function(t){i=t&&t.event_id,r._processing=!1}).then(null,function(t){P.a.error(t),r._processing=!1}),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id;return this._processing=!0,(Object(L.h)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then(function(t){return i._processEvent(t,n,r)}).then(function(t){o=t&&t.event_id,i._processing=!1}).then(null,function(t){P.a.error(t),i._processing=!1}),o},t.prototype.captureEvent=function(t,e,n){var r=this,i=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then(function(t){i=t&&t.event_id,r._processing=!1}).then(null,function(t){P.a.error(t),r._processing=!1}),i},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then(function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then(function(t){return n.ready&&t})})},t.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},t.prototype.getIntegrations=function(){return this._integrations||{}},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return P.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new k.a(function(n){var r=0,i=0;clearInterval(i),i=setInterval(function(){e._processing?(r+=1,t&&r>=t&&n({interval:i,ready:!1})):n({interval:i,ready:!0})},1)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this.getOptions(),i=r.environment,o=r.release,a=r.dist,s=r.maxValueLength,c=void 0===s?250:s,l=u.a({},t);void 0===l.environment&&void 0!==i&&(l.environment=i),void 0===l.release&&void 0!==o&&(l.release=o),void 0===l.dist&&void 0!==a&&(l.dist=a),l.message&&(l.message=Object(D.c)(l.message,c));var f=l.exception&&l.exception.values&&l.exception.values[0];f&&f.value&&(f.value=Object(D.c)(f.value,c));var p=l.request;p&&p.url&&(p.url=Object(D.c)(p.url,c)),void 0===l.event_id&&(l.event_id=Object(x.k)()),this._addIntegrations(l.sdk);var h=k.a.resolve(l);return e&&(h=e.applyToEvent(l,n)),h},t.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&e.length>0&&(t.integrations=e)},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?k.a.reject("This event has been sampled, will not send event."):new k.a(function(i,a){r._prepareEvent(t,n,e).then(function(t){if(null!==t){var n=t;try{if(e&&e.data&&!0===e.data.__sentry__||!o)return r._getBackend().sendEvent(n),void i(n);var s=o(t,e);if(void 0===s)P.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(L.l)(s))r._handleAsyncBeforeSend(s,i,a);else{if(null===(n=s))return P.a.log("`beforeSend` returned `null`, will not send event."),void i(null);r._getBackend().sendEvent(n),i(n)}}catch(t){r.captureException(t,{data:{__sentry__:!0},originalException:t}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")}).then(null,function(){a("`beforeSend` threw an error, will not send event.")})}):k.a.reject("SDK not enabled, will not send event.")},t.prototype._handleAsyncBeforeSend=function(t,e,n){var r=this;t.then(function(t){null!==t?(r._getBackend().sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")}).then(null,function(t){n("beforeSend rejected with "+t)})},t}(),F=function(){function t(){}return t.prototype.sendEvent=function(t){return k.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:s.Skipped})},t.prototype.close=function(t){return k.a.resolve(!0)},t}(),j=function(){function t(t){this._options=t,this._options.dsn||P.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new F},t.prototype.eventFromException=function(t,e){throw new A("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new A("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){P.a.error("Error while sending event: "+t)})},t.prototype.getTransport=function(){return this._transport},t}();function B(){if(!("fetch"in Object(x.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function V(){if(!B())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var G="?",W=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,H=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,K=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,q=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Y=/\((\S*)(?::(\d+))(?::(\d+))\)/;function z(t){var e=null,n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],a=0;a<i.length;a+=2){var s=null;(e=n.exec(i[a]))?s={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[a]))&&(s={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),s&&(!s.func&&s.line&&(s.func=G),o.push(s))}return o.length?{message:Q(t),name:t.name,stack:o}:null}(t))return X(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),a=0;a<o.length;++a){if(n=W.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Y.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2],func:n[1]||G,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=K.exec(o[a]))r={url:n[2],func:n[1]||G,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=H.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=q.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||G,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=G),i.push(r)}return i.length?{message:Q(t),name:t.name,stack:i}:null}(t))return X(e,n)}catch(t){}return{message:Q(t),name:t&&t.name,stack:[],failed:!0}}function X(t,e){try{return u.a({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function Q(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}var J=50;function $(t){var e=tt(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Z(t){return{exception:{values:[$(t)]}}}function tt(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).slice(0,J).reverse()}function et(t,e,n){var r;if(void 0===n&&(n={}),Object(L.e)(t)&&t.error)return Z(z(t=t.error));if(Object(L.a)(t)||Object(L.b)(t)){var i=t,o=i.name||(Object(L.a)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=nt(a,e,n),Object(x.b)(r,a),r}return Object(L.d)(t)?r=Z(z(t)):Object(L.g)(t)||Object(L.f)(t)?(r=function(t,e,n){var r={exception:{values:[{type:Object(L.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(w.a)(t)}]},extra:{__serialized__:Object(w.d)(t)}};if(e){var i=tt(z(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),Object(x.a)(r,{synthetic:!0}),r):(r=nt(t,e,n),Object(x.b)(r,""+t,void 0),Object(x.a)(r,{synthetic:!0}),r)}function nt(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=tt(z(e).stack);r.stacktrace={frames:i}}return r}var rt,it,ot,at=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):k.a.reject(new A("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new k.a(function(n){var r=setTimeout(function(){t&&t>0&&n(!1)},t);k.a.all(e._buffer).then(function(){clearTimeout(r),n(!0)}).then(null,function(){n(!0)})})},t}(),st=function(){function t(t){this.options=t,this._buffer=new at(30),this.url=new C(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new A("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),ut=Object(x.f)(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.b(e,t),e.prototype.sendEvent=function(t){var e={body:JSON.stringify(t),method:"POST",referrerPolicy:V()?"origin":""};return this._buffer.add(ut.fetch(this.url,e).then(function(t){return{status:s.fromHttpCode(t.status)}}))},e}(st),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.b(e,t),e.prototype.sendEvent=function(t){var e=this;return this._buffer.add(new k.a(function(n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status&&n({status:s.fromHttpCode(i.status)}),r(i))},i.open("POST",e.url),i.send(JSON.stringify(t))}))},e}(st),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.b(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=u.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):B()?new ct(e):new lt(e)},e.prototype.eventFromException=function(t,e){var n=et(t,e&&e.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(x.a)(n,{handled:!0,type:"generic"}),n.level=a.Error,e&&e.event_id&&(n.event_id=e.event_id),k.a.resolve(n)},e.prototype.eventFromMessage=function(t,e,n){void 0===e&&(e=a.Info);var r=nt(t,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),k.a.resolve(r)},e}(j),pt="sentry.javascript.browser",ht=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ft,e)||this}return u.b(e,t),e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=u.a({},e.sdk,{name:pt,packages:u.d(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.7.1"}]),version:"5.7.1"}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(x.f)().document;if(e)if(this._isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var r=e.createElement("script");r.async=!0,r.src=new C(n).getReportDialogEndpoint(t),t.onLoad&&(r.onload=t.onLoad),(e.head||e.body).appendChild(r)}else P.a.error("Missing `Dsn` option in showReportDialog call");else P.a.error("Missing `eventId` option in showReportDialog call")}else P.a.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(U),dt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){rt=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry__?this.__sentry_original__:this;return rt.apply(n,t)}},t.id="FunctionToString",t}(),_t=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],yt=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Object(c.b)(function(e){var n=Object(l.b)();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(e,a))return null}return e})},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(P.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(x.e)(t)),!0):this._isIgnoredError(t,e)?(P.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(x.e)(t)),!0):this._isBlacklistedUrl(t,e)?(P.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(x.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(P.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(x.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return"SentryError"===t.exception.values[0].type}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(t){return e.ignoreErrors.some(function(e){return Object(D.a)(t,e)})})},t.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some(function(t){return Object(D.a)(n,t)})},t.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some(function(t){return Object(D.a)(n,t)})},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:u.d(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:u.d(this._options.ignoreErrors||[],t.ignoreErrors||[],_t),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:u.d(this._options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values[0],n=e.type,r=e.value;return[""+r,n+": "+r]}catch(e){return P.a.error("Cannot extract message for event "+Object(x.e)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e[e.length-1].filename}if(t.exception){var n=t.exception.values[0].stacktrace.frames;return n[n.length-1].filename}return null}catch(e){return P.a.error("Cannot extract url for event "+Object(x.e)(t)),null}},t.id="InboundFilters",t}(),vt=1e3,mt=0;function gt(){return mt>0}function Et(){mt+=1,setTimeout(function(){mt-=1})}function bt(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){n&&"function"==typeof n&&n.apply(this,arguments);var r=Array.prototype.slice.call(arguments);try{var i=r.map(function(t){return bt(t,e)});return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw Et(),S(function(n){n.addEventProcessor(function(t){var n=u.a({},t);return e.mechanism&&(Object(x.b)(n,void 0,void 0),Object(x.a)(n,e.mechanism)),n.extra=u.a({},n.extra,{arguments:Object(w.c)(r,3)}),n}),p(t)}),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}var Tt=0;function St(t,e){return void 0===e&&(e=!1),function(n){if(it=void 0,n&&ot!==n){ot=n;var r=function(){var e;try{e=n.target?Object(x.h)(n.target):Object(x.h)(n)}catch(t){e="<unknown>"}0!==e.length&&Object(l.b)().addBreadcrumb({category:"ui."+t,message:e},{event:n,name:t})};Tt&&clearTimeout(Tt),e?Tt=setTimeout(r):r()}}}function Rt(){return function(t){var e;try{e=t.target}catch(t){return}var n=e&&e.tagName;n&&("INPUT"===n||"TEXTAREA"===n||e.isContentEditable)&&(it||St("input")(t),clearTimeout(it),it=setTimeout(function(){it=void 0},vt))}}var wt=function(){function t(){this._ignoreOnError=0,this.name=t.id}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=bt(r,{mechanism:{data:{function:Ot(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t(bt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ot(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(x.f)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(w.b)(n,"addEventListener",function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=bt(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Ot(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,bt(r,{mechanism:{data:{function:"addEventListener",handler:Ot(r),target:t},handled:!0,type:"instrument"}}),i)}}),Object(w.b)(n,"removeEventListener",function(t){return function(e,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(t){}return t.call(this,e,i,r)}}))},t.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var t=Object(x.f)();Object(w.b)(t,"setTimeout",this._wrapTimeFunction.bind(this)),Object(w.b)(t,"setInterval",this._wrapTimeFunction.bind(this)),Object(w.b)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},t.id="TryCatch",t}();function Ot(t){try{return t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}var At,It=Object(x.f)(),Nt=function(){function t(e){this.name=t.id,this._options=u.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype._instrumentConsole=function(){"console"in It&&["debug","info","warn","error","log","assert"].forEach(function(e){e in It.console&&Object(w.b)(It.console,e,function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={category:"console",data:{extra:{arguments:Object(w.c)(r,3)},logger:"console"},level:a.fromString(e),message:Object(D.b)(r," ")};"assert"===e?!1===r[0]&&(o.message="Assertion failed: "+(Object(D.b)(r.slice(1)," ")||"console.assert"),o.data.extra.arguments=Object(w.c)(r.slice(1),3),t.addBreadcrumb(o,{input:r,level:e})):t.addBreadcrumb(o,{input:r,level:e}),n&&Function.prototype.apply.call(n,It.console,r)}})})},t.prototype._instrumentDOM=function(){"document"in It&&(It.document.addEventListener("click",St("click"),!1),It.document.addEventListener("keypress",Rt(),!1),["EventTarget","Node"].forEach(function(t){var e=It[t]&&It[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(w.b)(e,"addEventListener",function(t){return function(e,n,r){return n&&n.handleEvent?("click"===e&&Object(w.b)(n,"handleEvent",function(t){return function(e){return St("click")(e),t.call(this,e)}}),"keypress"===e&&Object(w.b)(n,"handleEvent",function(t){return function(e){return Rt()(e),t.call(this,e)}})):("click"===e&&St("click",!0)(this),"keypress"===e&&Rt()(this)),t.call(this,e,n,r)}}),Object(w.b)(e,"removeEventListener",function(t){return function(e,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(t){}return t.call(this,e,i,r)}}))}))},t.prototype._instrumentFetch=function(){(function(){if(!B())return!1;var t=function(t){return-1!==t.toString().indexOf("native")},e=Object(x.f)(),n=null,r=e.document;if(r){var i=r.createElement("iframe");i.hidden=!0;try{r.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(n=t(i.contentWindow.fetch)),r.head.removeChild(i)}catch(t){P.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}}return null===n&&(n=t(e.fetch)),n})()&&Object(w.b)(It,"fetch",function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=n[0],s="GET";"string"==typeof o?i=o:"Request"in It&&o instanceof Request?(i=o.url,o.method&&(s=o.method)):i=String(o),n[1]&&n[1].method&&(s=n[1].method);var u=Object(l.b)().getClient(),c=u&&u.getDsn();if(c){var f=new C(c).getStoreEndpoint();if(f&&-1!==i.indexOf(f))return"POST"===s&&n[1]&&n[1].body&&Ct(n[1].body),e.apply(It,n)}var p={method:Object(L.j)(s)?s.toUpperCase():s,url:i};return e.apply(It,n).then(function(e){return p.status_code=e.status,t.addBreadcrumb({category:"fetch",data:p,type:"http"},{input:n,response:e}),e}).then(null,function(e){throw t.addBreadcrumb({category:"fetch",data:p,level:a.Error,type:"http"},{error:e,input:n}),e})}})},t.prototype._instrumentHistory=function(){var e=this;if(i=(r=(n=Object(x.f)()).chrome)&&r.app&&r.app.runtime,o="history"in n&&!!n.history.pushState&&!!n.history.replaceState,!i&&o){var n,r,i,o,a=function(e,n){var r=Object(x.j)(It.location.href),i=Object(x.j)(n),o=Object(x.j)(e);o.path||(o=r),At=n,r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),t.addBreadcrumb({category:"navigation",data:{from:e,to:n}})},s=It.onpopstate;It.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=It.location.href;if(a(At,r),s)return s.apply(e,t)},Object(w.b)(It.history,"pushState",u),Object(w.b)(It.history,"replaceState",u)}function u(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;return r&&a(At,String(r)),t.apply(this,e)}}},t.prototype._instrumentXHR=function(){if("XMLHttpRequest"in It){var e=XMLHttpRequest.prototype;Object(w.b)(e,"open",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[1];this.__sentry_xhr__={method:Object(L.j)(e[0])?e[0].toUpperCase():e[0],url:e[1]};var i=Object(l.b)().getClient(),o=i&&i.getDsn();if(o){var a=new C(o).getStoreEndpoint();Object(L.j)(r)&&a&&-1!==r.indexOf(a)&&(this.__sentry_own_request__=!0)}return t.apply(this,e)}}),Object(w.b)(e,"send",function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this;function a(){if(4===o.readyState){if(o.__sentry_own_request__)return;try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}t.addBreadcrumb({category:"xhr",data:o.__sentry_xhr__,type:"http"},{xhr:o})}}o.__sentry_own_request__&&Ct(r[0]);var s=["onload","onerror","onprogress"];return s.forEach(function(t){n(t,o)}),"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Object(w.b)(o,"onreadystatechange",function(t){return bt(t,{mechanism:{data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},a)}):o.onreadystatechange=a,e.apply(this,r)}})}function n(t,e){t in e&&"function"==typeof e[t]&&Object(w.b)(e,t,function(e){return bt(e,{mechanism:{data:{function:t,handler:e&&e.name||"<anonymous>"},handled:!0,type:"instrument"}})})}},t.addBreadcrumb=function(e,n){Object(l.b)().getIntegration(t)&&Object(l.b)().addBreadcrumb(e,n)},t.prototype.setupOnce=function(){this._options.console&&this._instrumentConsole(),this._options.dom&&this._instrumentDOM(),this._options.xhr&&this._instrumentXHR(),this._options.fetch&&this._instrumentFetch(),this._options.history&&this._instrumentHistory()},t.id="Breadcrumbs",t}();function Ct(t){try{var e=JSON.parse(t);Nt.addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||a.fromString("error"),message:Object(x.e)(e)},{event:e})}catch(t){P.a.error("Error while adding sentry type breadcrumb")}}var Pt=function(){function t(e){this.name=t.id,this._global=Object(x.f)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=u.a({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(P.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(P.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var e=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(n,r,i,o,a){var s=Object(l.b)(),u=s.getIntegration(t),c=a&&!0===a.__sentry_own_request__;if(!u||gt()||c)return!!e._oldOnErrorHandler&&e._oldOnErrorHandler.apply(this,arguments);var f=s.getClient(),p=Object(L.h)(a)?e._eventFromIncompleteOnError(n,r,i,o):e._enhanceEventWithInitialFrame(et(a,void 0,{attachStacktrace:f&&f.getOptions().attachStacktrace,rejection:!1}),r,i,o);return Object(x.a)(p,{handled:!1,type:"onerror"}),s.captureEvent(p,{originalException:a}),!!e._oldOnErrorHandler&&e._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var e=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(n){var r=n;try{r=n&&"reason"in n?n.reason:n}catch(t){}var i=Object(l.b)(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!o||gt()||s)return!!e._oldOnUnhandledRejectionHandler&&e._oldOnUnhandledRejectionHandler.apply(this,arguments);var u=i.getClient(),c=Object(L.h)(r)?e._eventFromIncompleteRejection(r):et(r,void 0,{attachStacktrace:u&&u.getOptions().attachStacktrace,rejection:!0});return c.level=a.Error,Object(x.a)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r}),!!e._oldOnUnhandledRejectionHandler&&e._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=Object(L.e)(t)?t.message:t;if(Object(L.j)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,e,n,r)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){return t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[],0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:e||Object(x.g)(),function:"?",in_app:!0,lineno:n}),t},t.id="GlobalHandlers",t}(),Lt="cause",kt=5,Dt=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||Lt,this._limit=e.limit||kt}return t.prototype.setupOnce=function(){Object(c.b)(function(e,n){var r=Object(l.b)().getIntegration(t);return r?r._handler(e,n):e})},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&e.originalException instanceof Error))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=u.d(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(t[e]instanceof Error)||n.length+1>=this._limit)return n;var r=$(z(t[e]));return this._walkErrorTree(t[e],e,u.d([r],n))},t.id="LinkedErrors",t}(),xt=Object(x.f)(),Mt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Object(c.b)(function(e){if(Object(l.b)().getIntegration(t)){if(!xt.navigator||!xt.location)return e;var n=e.request||{};return n.url=n.url||xt.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=xt.navigator.userAgent,u.a({},e,{request:n})}return e})},t.id="UserAgent",t}(),Ut=[new r.InboundFilters,new r.FunctionToString,new wt,new Nt,new Pt,new Dt,new Mt];function Ft(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ut),void 0===t.release){var e=Object(x.f)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&P.a.enable(),Object(l.b)().bindClient(new t(e))}(ht,t)}function jt(t){void 0===t&&(t={}),t.eventId||(t.eventId=Object(l.b)().lastEventId());var e=Object(l.b)().getClient();e&&e.showReportDialog(t)}function Bt(){return Object(l.b)().lastEventId()}function Vt(){}function Gt(t){t()}function Wt(t){var e=Object(l.b)().getClient();return e?e.flush(t):k.a.reject(!1)}function Ht(t){var e=Object(l.b)().getClient();return e?e.close(t):k.a.reject(!1)}function Kt(t){return bt(t)()}n.d(e,"Integrations",function(){return zt}),n.d(e,"Severity",function(){return a}),n.d(e,"Status",function(){return s}),n.d(e,"addGlobalEventProcessor",function(){return c.b}),n.d(e,"addBreadcrumb",function(){return y}),n.d(e,"captureException",function(){return p}),n.d(e,"captureEvent",function(){return d}),n.d(e,"captureMessage",function(){return h}),n.d(e,"configureScope",function(){return _}),n.d(e,"getHubFromCarrier",function(){return l.c}),n.d(e,"getCurrentHub",function(){return l.b}),n.d(e,"Hub",function(){return l.a}),n.d(e,"Scope",function(){return c.a}),n.d(e,"setContext",function(){return v}),n.d(e,"setExtra",function(){return E}),n.d(e,"setExtras",function(){return m}),n.d(e,"setTag",function(){return b}),n.d(e,"setTags",function(){return g}),n.d(e,"setUser",function(){return T}),n.d(e,"Span",function(){return R.a}),n.d(e,"withScope",function(){return S}),n.d(e,"BrowserClient",function(){return ht}),n.d(e,"defaultIntegrations",function(){return Ut}),n.d(e,"forceLoad",function(){return Vt}),n.d(e,"init",function(){return Ft}),n.d(e,"lastEventId",function(){return Bt}),n.d(e,"onLoad",function(){return Gt}),n.d(e,"showReportDialog",function(){return jt}),n.d(e,"flush",function(){return Wt}),n.d(e,"close",function(){return Ht}),n.d(e,"wrap",function(){return Kt}),n.d(e,"SDK_NAME",function(){return pt}),n.d(e,"SDK_VERSION",function(){return"5.7.1"}),n.d(e,"Transports",function(){return o});var qt={},Yt=Object(x.f)();Yt.Sentry&&Yt.Sentry.Integrations&&(qt=Yt.Sentry.Integrations);var zt=u.a({},qt,r,i)},zCec:function(t,e,n){"use strict";t.exports={SUCCESS:"RESULT_SUCCESS",INVALID:"RESULT_INVALID",FORBIDDEN:"RESULT_FORBIDDEN",OUT_OF_BOUNDS:"RESULT_OUT_OF_BOUNDS",NO_LIST:"RESULT_NO_LIST",NO_TRACK:"RESULT_NO_TRACK",LIST_END:"RESULT_LIST_END",INVALID_TRACK:"RESULT_INVALID_TRACK",CANCELLED:"CANCELLED",NO_TRACK_PLAYER:"NO_TRACK_PLAYER"}},zPoa:function(t,e,n){"use strict";var r=n("isbb"),i=n("5JlJ"),o=n("5KDM");t.exports={forClient:function(t,e){var n=e||{},a=t.getPublicTransport(),s=t.getVersionDescriptor().tagged,u=r.create({descriptor:t.getClientDescriptor(),transport:a,autoregister:!("autoregister"in n)||n.autoregister});return o.create({client:t,serverTime:i.create(a),version:s,playerClient:u,decorateTrackWindow:!("decorateTrackWindow"in n)||n.decorateTrackWindow,disableProgress:n.disableProgress})},of:function(t){return t._controller}}},ze2n:function(t,e,n){"use strict";(function(e){var r=n("D5Cn").Tap,i=n("WKDR"),o=n("ut/0");r.prototype.readString=function(){var t=this.readLong(),e=this.pos,n=this.buf;if(this.pos+=t,!(this.pos>n.length))return this.buf.slice(e,e+t).toString()},r.prototype.writeString=function(t){var n=e.byteLength(t);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.write(t,r)},r.prototype.writeBinary=function(t,e){var n=this.pos;this.pos+=e,this.pos>this.buf.length||this.buf.write(t,n,e,"binary")},t.exports={parse:function(t,e){var n;if("string"==typeof t)try{n=JSON.parse(t)}catch(t){}return void 0===n&&(n=t),i.createType(n,e)},types:i.types,Validator:o.Validator,ProtocolValidator:o.ProtocolValidator}}).call(this,n("qykS").Buffer)},zf4f:function(t,e,n){"use strict";var r=n("ovh1"),i=n("aECo"),o=n("fwl+"),a=n("xSFS"),s=n("cON5"),u=n("2KG9");t.exports=function(t){return new Promise(function(e,c){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};i(e,c,r),p=null}},p.onabort=function(){p&&(c(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){c(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var _=n("vMO2"),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===l&&(l=null),p.send(l)})}}}]);